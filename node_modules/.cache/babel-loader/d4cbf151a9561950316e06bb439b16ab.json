{"ast":null,"code":"import _objectSpread from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../Font/Font.css\";import TripName from\"../TripDetails/TripName\";import TripDates from\"../TripDetails/TripDates\";import ItemTypes from\"../CustomItem/ItemTypes\";import TripTravelers from\"../TripDetails/TripTravelers\";import TripYear from\"../TripDetails/TripYear\";import Moment from\"react-moment\";import SaveButton from\"../FormElements/SaveButton\";import ResetButton from\"../FormElements/ResetButton\";import PrintButton from\"../FormElements/PrintButton\";import AddCustomButton from\"../FormElements/AddCustomButton\";import GoToFiltersButton from\"../FormElements/GoToFiltersButton\";import SearchMoreButton from\"../FormElements/SearchMoreButton\";import TripPackGraph from\"../TripDetails/TripPackGraph\";import TripCalorieGraph from\"../TripDetails/TripCalorieGraph\";import Quant from\"../CustomItem/Quant\";import{NavLink}from\"react-router-dom\";import ItemName from\"../ItemDetails/ItemName\";import ServingQuant from\"../ItemDetails/ServingQuant\";import ServingUnit from\"../ItemDetails/ServingUnit\";import ServingWeight from\"../ItemDetails/ServingWeight\";import\"./Tables.css\";import TotalCalories from\"../ItemDetails/TotalCalories\";import ItemHeader from\"./ItemHeader\";import ServQuantHeader from\"./BrandHeader\";import UnitHeader from\"./UnitHeader\";import WeightGHeader from\"./WeightGHeader\";import TotalCalHeader from\"./TotalCalHeader\";import DateHeader from\"./DateHeader\";import TypeHeader from\"./TypeHeader\";import TravlrHeader from\"./TravlrHeader\";import DeleteHeader from\"./DeleteHeader\";import BackButton from'../FormElements/BackButton';var TripResults=/*#__PURE__*/function(_Component){_inherits(TripResults,_Component);var _super=_createSuper(TripResults);function TripResults(){_classCallCheck(this,TripResults);return _super.apply(this,arguments);}_createClass(TripResults,[{key:\"render\",value:function render(){var _this=this;var selectedTrip=this.props.selectedTrip;var selectedTripItems=this.props.selectedTripItems;var tripItems=this.props.tripItems;var imageArray=tripItems.map(function(items){return items.image;});var food_nameArray=tripItems.map(function(items){return items.food_name;});var brandArray=tripItems.map(function(items){return items.brand_name;});var fixedUnitArray=tripItems.map(function(items){return items.serving_unit;});var fixedCalPerUnitArray=tripItems.map(function(items){return items.calsPerServing;});var selectServingQuantArray=selectedTripItems.map(function(items){return items.selected_serving_qty;}).sort();var fixedServingWeightArray=tripItems.map(function(items){return items.serving_weight_grams;});var itemTypes=this.props.itemTypes;var results=selectedTripItems.map(function(item,i){var food_name=food_nameArray[i];var image=imageArray[i];var brand_name=brandArray[i];var fixedUnit=fixedUnitArray[i];var calsPerServing=fixedCalPerUnitArray[i];var serving_weight_grams=fixedServingWeightArray[i];var resultsObject=_objectSpread({image:image,food_name:food_name,brand_name:brand_name,fixedUnit:fixedUnit,serving_weight_grams:serving_weight_grams,calsPerServing:calsPerServing},item);return resultsObject;});var reducer=function reducer(accumulator,currentValue){return accumulator+currentValue;};var sumCalsPerServing=function sumCalsPerServing(){if(fixedCalPerUnitArray.length===0){var defaultResult=1;return defaultResult;}return fixedCalPerUnitArray.reduce(reducer);};var sumWeightsPerServing=function sumWeightsPerServing(){if(fixedServingWeightArray.length===0){var defaultResult=1;return defaultResult;}return fixedServingWeightArray.reduce(reducer);};console.log(sumWeightsPerServing());var sumServings=function sumServings(){if(selectServingQuantArray.length===0){var defaultResult=1;return defaultResult;}return selectServingQuantArray.reduce(reducer);};var totalCals=sumCalsPerServing()*sumServings();var totalWeightKg=sumWeightsPerServing()*sumServings()/1000;return/*#__PURE__*/React.createElement(\"section\",{className:\"lightBlueBackground\"},/*#__PURE__*/React.createElement(\"div\",{className:\"charts redBackground\"},/*#__PURE__*/React.createElement(BackButton,null),/*#__PURE__*/React.createElement(TripCalorieGraph,{cals:totalCals}),/*#__PURE__*/React.createElement(TripPackGraph,{weight:totalWeightKg})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{className:\"montebello\"},/*#__PURE__*/React.createElement(\"span\",{className:\"resultsTitle montebello white\"},/*#__PURE__*/React.createElement(TripName,{selectedTrip:selectedTrip}),\"Results!\"),/*#__PURE__*/React.createElement(\"span\",{className:\"resultsTitle\"},/*#__PURE__*/React.createElement(TripYear,{selectedTrip:selectedTrip})))),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"filterButtonContainer\"},/*#__PURE__*/React.createElement(SaveButton,null),/*#__PURE__*/React.createElement(PrintButton,null),/*#__PURE__*/React.createElement(ResetButton,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"filterButtonContainer moreContainer\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/trip-filter/\".concat(selectedTrip[0].food_name)},/*#__PURE__*/React.createElement(GoToFiltersButton,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"/add-custom/\".concat(selectedTrip[0].food_name)},/*#__PURE__*/React.createElement(AddCustomButton,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},/*#__PURE__*/React.createElement(SearchMoreButton,null))),/*#__PURE__*/React.createElement(\"table\",{id:\"results-filtered\",className:\"primaryFont\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"blueBackground white\"},/*#__PURE__*/React.createElement(DateHeader,null),/*#__PURE__*/React.createElement(TypeHeader,null),/*#__PURE__*/React.createElement(TravlrHeader,null),/*#__PURE__*/React.createElement(ItemHeader,null),/*#__PURE__*/React.createElement(ServQuantHeader,null),/*#__PURE__*/React.createElement(UnitHeader,null),/*#__PURE__*/React.createElement(WeightGHeader,null),/*#__PURE__*/React.createElement(TotalCalHeader,null),/*#__PURE__*/React.createElement(DeleteHeader,null)),results.map(function(item,key){return/*#__PURE__*/React.createElement(\"tr\",{className:\"one whiteBackground black\",key:item.itemId},/*#__PURE__*/React.createElement(\"td\",{className:\"date\"},/*#__PURE__*/React.createElement(Moment,{format:\"ddd-MMM-DD\"},item.tripDay),/*#__PURE__*/React.createElement(\"div\",{className:\"tableScroll tableAdjust add\"},\" \",/*#__PURE__*/React.createElement(TripDates,{selectedTrip:selectedTrip}))),/*#__PURE__*/React.createElement(\"td\",{className:\"type\"},item.type,/*#__PURE__*/React.createElement(\"div\",{className:\"tableScroll tableAdjust add\"},/*#__PURE__*/React.createElement(ItemTypes,{itemTypes:itemTypes}))),/*#__PURE__*/React.createElement(\"td\",{className:\"traveler\"},item.travName,/*#__PURE__*/React.createElement(\"div\",{className:\"tableScroll tableAdjust add\"},/*#__PURE__*/React.createElement(TripTravelers,{selectedTrip:selectedTrip}))),/*#__PURE__*/React.createElement(\"td\",{className:\"itemH\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/trip-item/\".concat(item.itemId),onClick:function onClick(){var selectTripItem=item;_this.props.handleSelectTripItem(selectTripItem);}},/*#__PURE__*/React.createElement(ItemName,{name:item.food_name}))),/*#__PURE__*/React.createElement(\"td\",{className:\"servingH\"},/*#__PURE__*/React.createElement(ServingQuant,{quant:Math.round(item.selected_serving_qty)}),/*#__PURE__*/React.createElement(\"p\",{className:\"tableAdjust\"},/*#__PURE__*/React.createElement(Quant,null))),/*#__PURE__*/React.createElement(\"td\",{className:\"unitH\"},/*#__PURE__*/React.createElement(ServingUnit,{unit:item.fixedUnit})),/*#__PURE__*/React.createElement(\"td\",{className:\"weightH\"},/*#__PURE__*/React.createElement(ServingWeight,{weight:item.selected_serving_qty*item.serving_weight_grams}),/*#__PURE__*/React.createElement(\"p\",{className:\"dataResult blackBackground white tableAdjust\"},\"10\")),/*#__PURE__*/React.createElement(\"td\",{className:\"caloriesH tooltip cal calS\"},/*#__PURE__*/React.createElement(TotalCalories,{calories:(item.selected_serving_qty*item.calsPerServing).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}),/*#__PURE__*/React.createElement(\"p\",{className:\"dataResult blackBackground white tableAdjust\"},\"100\")),/*#__PURE__*/React.createElement(\"td\",{className:\"delete\"},\" \",/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"delete\"})));})))));}}]);return TripResults;}(Component);TripResults.defaultProps={selectedTrip:[]};export default TripResults;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Tables/TripResults.js"],"names":["React","Component","TripName","TripDates","ItemTypes","TripTravelers","TripYear","Moment","SaveButton","ResetButton","PrintButton","AddCustomButton","GoToFiltersButton","SearchMoreButton","TripPackGraph","TripCalorieGraph","Quant","NavLink","ItemName","ServingQuant","ServingUnit","ServingWeight","TotalCalories","ItemHeader","ServQuantHeader","UnitHeader","WeightGHeader","TotalCalHeader","DateHeader","TypeHeader","TravlrHeader","DeleteHeader","BackButton","TripResults","selectedTrip","props","selectedTripItems","tripItems","imageArray","map","items","image","food_nameArray","food_name","brandArray","brand_name","fixedUnitArray","serving_unit","fixedCalPerUnitArray","calsPerServing","selectServingQuantArray","selected_serving_qty","sort","fixedServingWeightArray","serving_weight_grams","itemTypes","results","item","i","fixedUnit","resultsObject","reducer","accumulator","currentValue","sumCalsPerServing","length","defaultResult","reduce","sumWeightsPerServing","console","log","sumServings","totalCals","totalWeightKg","key","itemId","tripDay","type","travName","selectTripItem","handleSelectTripItem","Math","round","toFixed","replace","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport TripName from \"../TripDetails/TripName\";\nimport TripDates from \"../TripDetails/TripDates\";\nimport ItemTypes from \"../CustomItem/ItemTypes\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport TripYear from \"../TripDetails/TripYear\";\nimport Moment from \"react-moment\";\nimport SaveButton from \"../FormElements/SaveButton\";\nimport ResetButton from \"../FormElements/ResetButton\";\nimport PrintButton from \"../FormElements/PrintButton\";\nimport AddCustomButton from \"../FormElements/AddCustomButton\";\nimport GoToFiltersButton from \"../FormElements/GoToFiltersButton\";\nimport SearchMoreButton from \"../FormElements/SearchMoreButton\";\nimport TripPackGraph from \"../TripDetails/TripPackGraph\";\nimport TripCalorieGraph from \"../TripDetails/TripCalorieGraph\";\nimport Quant from \"../CustomItem/Quant\";\nimport { NavLink } from \"react-router-dom\";\nimport ItemName from \"../ItemDetails/ItemName\";\nimport ServingQuant from \"../ItemDetails/ServingQuant\";\nimport ServingUnit from \"../ItemDetails/ServingUnit\";\nimport ServingWeight from \"../ItemDetails/ServingWeight\";\nimport \"./Tables.css\";\nimport TotalCalories from \"../ItemDetails/TotalCalories\";\nimport ItemHeader from \"./ItemHeader\"\nimport ServQuantHeader from \"./BrandHeader\";\nimport UnitHeader from \"./UnitHeader\";\nimport WeightGHeader from \"./WeightGHeader\";\nimport TotalCalHeader from \"./TotalCalHeader\";\nimport DateHeader from \"./DateHeader\";\nimport TypeHeader from \"./TypeHeader\";\nimport TravlrHeader from \"./TravlrHeader\";\nimport DeleteHeader from \"./DeleteHeader\";\nimport BackButton from '../FormElements/BackButton';\n\n\nclass TripResults extends Component {\n  static defaultProps = {\n    selectedTrip: [],\n  };\n\n  render() {\n    const selectedTrip = this.props.selectedTrip;\n\n    const selectedTripItems = this.props.selectedTripItems;\n\n    const tripItems = this.props.tripItems;\n\n    const imageArray = tripItems.map((items) => items.image);\n\n    const food_nameArray = tripItems.map((items) => items.food_name);\n\n    const brandArray = tripItems.map((items) => items.brand_name);\n\n    const fixedUnitArray = tripItems.map((items) => items.serving_unit);\n\n    const fixedCalPerUnitArray = tripItems.map((items) => items.calsPerServing);\n\n    const selectServingQuantArray = selectedTripItems\n      .map((items) => items.selected_serving_qty)\n      .sort();\n\n    const fixedServingWeightArray = tripItems.map(\n      (items) => items.serving_weight_grams\n    );\n\n    const itemTypes = this.props.itemTypes;\n\n    const results = selectedTripItems.map((item, i) => {\n      const food_name = food_nameArray[i];\n\n      const image = imageArray[i];\n\n      const brand_name = brandArray[i];\n\n      const fixedUnit = fixedUnitArray[i];\n\n      const calsPerServing = fixedCalPerUnitArray[i];\n\n      const serving_weight_grams = fixedServingWeightArray[i];\n\n      const resultsObject = {\n        image,\n        food_name,\n        brand_name,\n        fixedUnit,\n        serving_weight_grams,\n        calsPerServing,\n        ...item,\n      };\n\n      return resultsObject;\n    });\n\n    \n\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n    const sumCalsPerServing = () => {\n      if (fixedCalPerUnitArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n      return fixedCalPerUnitArray.reduce(reducer);\n    };\n\n    const sumWeightsPerServing = () => {\n      if (fixedServingWeightArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n      return fixedServingWeightArray.reduce(reducer);\n    };\n\n    console.log(sumWeightsPerServing());\n\n    const sumServings = () => {\n      if (selectServingQuantArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n\n      return selectServingQuantArray.reduce(reducer);\n    };\n\n    const totalCals = sumCalsPerServing() * sumServings();\n\n    const totalWeightKg = (sumWeightsPerServing() * sumServings()) / 1000;\n\n    return (\n      <section className=\"lightBlueBackground\">\n        <div className=\"charts redBackground\">\n          <BackButton/>\n          <TripCalorieGraph cals={totalCals}/>\n          <TripPackGraph weight={totalWeightKg}/>\n        </div>\n        <div>\n          <h2 className=\"montebello\">\n            <span className=\"resultsTitle montebello white\">\n              <TripName selectedTrip={selectedTrip}/>Results!\n            </span>\n            <span className=\"resultsTitle\">\n              <TripYear selectedTrip={selectedTrip}/>\n            </span>\n          </h2>\n        </div>\n        <form>\n          <div className=\"filterButtonContainer\">\n            <SaveButton/>\n            <PrintButton/>\n            <ResetButton/>\n          </div>\n\n          <div className=\"filterButtonContainer moreContainer\">\n            <NavLink to={`/trip-filter/${selectedTrip[0].food_name}`}>\n              <GoToFiltersButton />\n            </NavLink>\n\n            <NavLink to={`/add-custom/${selectedTrip[0].food_name}`}>\n              <AddCustomButton />\n            </NavLink>\n\n            <NavLink to={`/`}>\n              <SearchMoreButton />\n            </NavLink>\n          </div>\n\n          <table id=\"results-filtered\" className=\"primaryFont\">\n            <tbody>\n              <tr className=\"blueBackground white\">\n              \n                <DateHeader/>\n                <TypeHeader/>\n                <TravlrHeader/>\n                <ItemHeader/>\n                <ServQuantHeader/>\n                <UnitHeader/>\n                <WeightGHeader/>\n                <TotalCalHeader/>\n                <DeleteHeader/>\n               \n              </tr>\n\n              {results.map((item, key) => (\n                <tr className=\"one whiteBackground black\" key={item.itemId}>\n                \n\n                  <td className=\"date\">\n                    <Moment format=\"ddd-MMM-DD\">{item.tripDay}</Moment>\n                    <div className=\"tableScroll tableAdjust add\">\n                      {\" \"}\n                      <TripDates selectedTrip={selectedTrip}/>\n                    </div>\n                  </td>\n\n                  <td className=\"type\">\n                    {item.type}\n                    <div className=\"tableScroll tableAdjust add\">\n                      <ItemTypes itemTypes={itemTypes}/>\n                    </div>\n                  </td>\n\n                  <td className=\"traveler\">\n                    {item.travName}\n                    <div className=\"tableScroll tableAdjust add\">\n                      <TripTravelers\n                        selectedTrip={selectedTrip}\n                      />\n                    </div>\n                  </td>\n\n                  <td className=\"itemH\">\n                  <NavLink\n                      to={`/trip-item/${item.itemId}`}\n\n                    onClick={() => {\n                    const selectTripItem =  item\n                    this.props.handleSelectTripItem(selectTripItem)}}                     \n                       >\n                      <ItemName \n                      name = {item.food_name} />\n                      </NavLink>\n                    </td>\n\n                 \n\n                  <td className=\"servingH\">\n                  <ServingQuant \n                    quant = {Math.round(item.selected_serving_qty)} />\n                    <p className=\"tableAdjust\">\n                    <Quant/>\n                    </p>\n                  </td>\n\n                  <td className=\"unitH\">\n                  <ServingUnit unit={item.fixedUnit}/>\n                    </td>\n\n                  <td className=\"weightH\">\n                  <ServingWeight\n                   weight = {item.selected_serving_qty * item.serving_weight_grams}\n                    />\n                    <p className=\"dataResult blackBackground white tableAdjust\">10</p>\n                  </td>\n\n                  <td className=\"caloriesH tooltip cal calS\">\n                    <TotalCalories\n                    calories =\n                    {(item.selected_serving_qty * item.calsPerServing)\n                      .toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}/>\n                    <p className=\"dataResult blackBackground white tableAdjust\">100</p>\n                  </td>\n\n                  <td className=\"delete\">\n                    {\" \"}\n                    <input type=\"checkbox\" className=\"delete\" />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default TripResults;\n\n"]},"metadata":{},"sourceType":"module"}