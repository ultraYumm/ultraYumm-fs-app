{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Search.css';import'../Font/Font.css';import config from'../config';import GoButton from'../FormElements/GoButton';import'../FormElements/FormElements.css';import{NavLink}from'react-router-dom';var SearchForm=/*#__PURE__*/function(_Component){_inherits(SearchForm,_Component);var _super=_createSuper(SearchForm);function SearchForm(){_classCallCheck(this,SearchForm);return _super.apply(this,arguments);}_createClass(SearchForm,[{key:\"render\",value:function render(){var _this=this;var onSubmitForm=function onSubmitForm(e){e.preventDefault();var searchTerm=e.target.searchTerm.value;console.log(searchTerm);_this.props.handleUpdate(searchTerm);console.log(searchTerm);var apId=config.APID;var apiKey=config.API_KEY;var remoteUser=config.REMOTEUSER;var detailed=config.DETAILED;var getURL=config.API_ENDPOINT;function formatQueryParams(params){var queryItems=Object.keys(params).map(function(key){return\"\".concat(encodeURIComponent(key),\"=\").concat(encodeURIComponent(params[key]));});return queryItems.join('&');}var displayResults=function displayResults(responseJson){var searchResults=responseJson;return _this.props.handleResults(searchResults);};function getResults(query){var params={query:searchTerm,detailed:detailed};var queryString=formatQueryParams(params);var url=getURL+'?'+queryString;var options={headers:new Headers({'x-app-id':apId,'x-app-key':apiKey,'x-remote-user-id':remoteUser})};fetch(url,options).then(function(response){if(response.ok){return response.json();}throw new Error(response.statusText);}).then(function(responseJson){return displayResults(responseJson);}).catch(function(err){});}console.log(getResults(searchTerm));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(\"h2\",null,\"Quick search!\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"searchTerm\"},\"Search by name or brand\"),/*#__PURE__*/React.createElement(\"input\",{className:\"plumBackground white search\",name:\"searchTerm\",type:\"search\",placeholder:\"Granola\",required:true,id:\"searchTerm\"}),/*#__PURE__*/React.createElement(GoButton,null)));}}]);return SearchForm;}(Component);export default SearchForm;/*</NavLink>\n<NavLink to={`/search-results`}>*/","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Search/SearchForm.js"],"names":["React","Component","config","GoButton","NavLink","SearchForm","onSubmitForm","e","preventDefault","searchTerm","target","value","console","log","props","handleUpdate","apId","APID","apiKey","API_KEY","remoteUser","REMOTEUSER","detailed","DETAILED","getURL","API_ENDPOINT","formatQueryParams","params","queryItems","Object","keys","map","key","encodeURIComponent","join","displayResults","responseJson","searchResults","handleResults","getResults","query","queryString","url","options","headers","Headers","fetch","then","response","ok","json","Error","statusText","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Search.css';\nimport '../Font/Font.css';\nimport config from '../config'\nimport GoButton from '../FormElements/GoButton';\nimport '../FormElements/FormElements.css';\n\nimport { NavLink} from 'react-router-dom'\n\n\n\nclass SearchForm extends Component {\n\n  \n  render() {\n\n        \n    const onSubmitForm = (e) => {\n      e.preventDefault()\n\n    let searchTerm = e.target.searchTerm.value\n\n    console.log(searchTerm)\n\n\n\n    this.props.handleUpdate(searchTerm)\n    \n    console.log(searchTerm)\n    \n    const apId = config.APID\n    \n    const apiKey = config.API_KEY\n    \n    const remoteUser = config.REMOTEUSER\n    \n    const detailed = config.DETAILED\n    \n    const getURL = config.API_ENDPOINT   \n    \n    function formatQueryParams(params) {\n      const queryItems = Object.keys(params)\n        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`)\n      return queryItems.join('&')\n    }\n    \n     const displayResults = (responseJson) => {\n      let searchResults = responseJson\n      return this.props.handleResults(searchResults)\n      \n    }\n\n    \n    function getResults(query) {\n      \n      const params = {\n      query: searchTerm,\n      detailed: detailed,\n      }\n    \n      const queryString = formatQueryParams(params)\n      const url = getURL + '?' + queryString\n    \n      const options = {\n        headers: new Headers({\n          'x-app-id': apId,\n          'x-app-key': apiKey,\n          'x-remote-user-id':remoteUser\n          })\n      }\n      \n      fetch(url, options)\n        .then(response => {\n          if (response.ok) {\n            return response.json()\n          }\n          throw new Error(response.statusText)\n        })\n        .then(responseJson => displayResults(responseJson))\n        .catch(err => {\n          \n          })\n    }\n    console.log(getResults(searchTerm))\n  }\n\n     \n    return (\n      <div>\n\n       \n        <form onSubmit={onSubmitForm}>\n\n         <h2>Quick search!</h2>\n            <label htmlFor= \"searchTerm\">Search by name or brand</label>\n               <input  className= \"plumBackground white search\"\n                name='searchTerm'\n                type='search'\n                placeholder='Granola'\n                required\n                id= 'searchTerm'\n\n              />\n            \n            <GoButton></GoButton>\n            \n       \n        </form>\n   \n\n        </div>\n        \n   )}\n  \n}\n  \n\nexport default SearchForm\n\n/*</NavLink>\n<NavLink to={`/search-results`}>*/"]},"metadata":{},"sourceType":"module"}