{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../Font/Font.css\";import config from\"../config\";import GoButton from\"../FormElements/GoButton\";import\"../FormElements/FormElements.css\";import{withRouter}from\"react-router-dom\";import{NavLink,Link}from\"react-router-dom\";var SearchForm=/*#__PURE__*/function(_Component){_inherits(SearchForm,_Component);var _super=_createSuper(SearchForm);function SearchForm(){_classCallCheck(this,SearchForm);return _super.apply(this,arguments);}_createClass(SearchForm,[{key:\"render\",value:function render(){var _this=this;var onSubmitForm=function onSubmitForm(e){e.preventDefault();var searchTerm=e.target.searchTerm.value;console.log(searchTerm);_this.props.handleUpdate(searchTerm);_this.props.routerProps.history.push(\"/search-results\");var apId=config.APID;var apiKey=config.API_KEY;var remoteUser=config.REMOTEUSER;var detailed=config.DETAILED;var getURL=config.API_ENDPOINT;function formatQueryParams(params){var queryItems=Object.keys(params).map(function(key){return\"\".concat(encodeURIComponent(key),\"=\").concat(encodeURIComponent(params[key]));});return queryItems.join(\"&\");}var displayResults=function displayResults(responseJson){var searchResults=responseJson;return _this.props.handleResults(searchResults);};function getResults(query){var params={query:searchTerm,detailed:detailed};var queryString=formatQueryParams(params);var url=getURL+\"?\"+queryString;var options={headers:new Headers({\"x-app-id\":apId,\"x-app-key\":apiKey,\"x-remote-user-id\":remoteUser})};fetch(url,options).then(function(response){if(response.ok){return response.json();}throw new Error(response.statusText);}).then(function(responseJson){return displayResults(responseJson);}).catch(function(err){});}console.log(getResults(searchTerm));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(\"h2\",{className:\"white\"},\"Quick search!\"),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"searchTerm\",className:\"white\"},\"Search by name or brand\"),/*#__PURE__*/React.createElement(\"input\",{className:\"redBackground white\",name:\"searchTerm\",type:\"text\",placeholder:\"Granola\",required:true,id:\"searchTerm\"}),/*#__PURE__*/React.createElement(GoButton,null)));}}]);return SearchForm;}(Component);export default withRouter(SearchForm);","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Search/SearchForm.js"],"names":["React","Component","config","GoButton","withRouter","NavLink","Link","SearchForm","onSubmitForm","e","preventDefault","searchTerm","target","value","console","log","props","handleUpdate","routerProps","history","push","apId","APID","apiKey","API_KEY","remoteUser","REMOTEUSER","detailed","DETAILED","getURL","API_ENDPOINT","formatQueryParams","params","queryItems","Object","keys","map","key","encodeURIComponent","join","displayResults","responseJson","searchResults","handleResults","getResults","query","queryString","url","options","headers","Headers","fetch","then","response","ok","json","Error","statusText","catch","err"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport config from \"../config\";\nimport GoButton from \"../FormElements/GoButton\";\nimport \"../FormElements/FormElements.css\";\nimport { withRouter } from \"react-router-dom\";\n\nimport { NavLink, Link } from \"react-router-dom\";\n\nclass SearchForm extends Component {\n  render() {\n    const onSubmitForm = (e) => {\n      e.preventDefault();\n\n      let searchTerm = e.target.searchTerm.value;\n\n      console.log(searchTerm);\n\n      this.props.handleUpdate(searchTerm);\n\n      this.props.routerProps.history.push(\"/search-results\");\n\n      const apId = config.APID;\n\n      const apiKey = config.API_KEY;\n\n      const remoteUser = config.REMOTEUSER;\n\n      const detailed = config.DETAILED;\n\n      const getURL = config.API_ENDPOINT;\n\n      function formatQueryParams(params) {\n        const queryItems = Object.keys(params).map(\n          (key) =>\n            `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\n        );\n        return queryItems.join(\"&\");\n      }\n\n      const displayResults = (responseJson) => {\n        let searchResults = responseJson;\n        return this.props.handleResults(searchResults);\n      };\n\n      function getResults(query) {\n        const params = {\n          query: searchTerm,\n          detailed: detailed,\n        };\n\n        const queryString = formatQueryParams(params);\n        const url = getURL + \"?\" + queryString;\n\n        const options = {\n          headers: new Headers({\n            \"x-app-id\": apId,\n            \"x-app-key\": apiKey,\n            \"x-remote-user-id\": remoteUser,\n          }),\n        };\n\n        fetch(url, options)\n          .then((response) => {\n            if (response.ok) {\n              return response.json();\n            }\n            throw new Error(response.statusText);\n          })\n          .then((responseJson) => displayResults(responseJson))\n          .catch((err) => {});\n      }\n      console.log(getResults(searchTerm));\n    };\n\n    return (\n      <div>\n        <form onSubmit={onSubmitForm}>\n          <h2 className=\"white\">Quick search!</h2>\n          <label htmlFor=\"searchTerm\" className=\"white\">\n            Search by name or brand\n          </label>\n          <input\n            className=\"redBackground white\"\n            name=\"searchTerm\"\n            type=\"text\" \n            placeholder=\"Granola\"\n            required\n            id=\"searchTerm\"\n          />\n\n          <GoButton/>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SearchForm);\n"]},"metadata":{},"sourceType":"module"}