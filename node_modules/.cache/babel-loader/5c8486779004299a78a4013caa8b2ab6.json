{"ast":null,"code":"import _toConsumableArray from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import Amplify from'aws-amplify';import awsconfig from'./aws-exports';import React,{Component}from\"react\";import{Route}from\"react-router-dom\";import\"./App.css\";import\"./Font/Font.css\";import NavBar from\"./NavHome/NavBar\";import Policies from\"./NavHome/Policies\";import SignInBox from\"./NavHome/SignInBox\";import AuthStateApp from\"./NavHome/AuthStateApp\";import HomePage from\"./NavHome/HomePage\";import Footer from\"./NavHome/Footer\";import TripNav from\"./TripList/TripNav\";import TripFilterForm from\"./TripFilter/TripFilterForm\";import SearchForm from\"./Search/SearchForm\";import AddTripForm from\"./AddTrip/AddTripForm\";import EditTripForm from\"./AddTrip/EditTripForm\";import TripResults from\"./Tables/TripResults\";import{PACKITEMS,ITEMS,TRIPS,ITEMTYPES}from\"./Defaults\";import config from\"./config\";import\"./FormElements/FormElements.css\";import ItemAdjust from\"./ItemDetails/ItemAdjust\";import SearchResults from\"./Tables/SearchResults\";Amplify.configure(awsconfig);var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.updateSearchTerm=function(searchTerm){_this.setState({searchTerm:searchTerm});};_this.updateSearchResults=function(searchResults){_this.setState({searchResults:searchResults});};_this.selectTrip=function(selectedTripId,tripName){_this.setState({selectedTripId:selectedTripId,tripName:tripName});};_this.selectItem=function(selectedItem){_this.setState({selectedItem:selectedItem});};_this.selectTripItem=function(selectTripItem){_this.setState({selectTripItem:selectTripItem});};_this.addItem=function(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit){var items=_this.state.items;var newItems=[].concat(_toConsumableArray(items),[{id:newId,food_name:newName,image:newImage,cals_per_serving:newCalsPs,serving_qty:newQty,serving_unit:newUnit,serving_weight_grams:newWeight,brand_name:newBrand}]);_this.setState({items:newItems});};_this.addDefaultItem=function(newId,newQty){var items=_this.state.items;var newItems=[].concat(_toConsumableArray(items),[{id:newId,food_name:_this.state.food_name,image:_this.state.selectedItem.image,cals_per_serving:_this.state.selectedItem.cals_per_serving,serving_qty:newQty,serving_unit:_this.state.selectedItem.serving_unit,serving_weight_grams:_this.state.selectedItem.serving_weight_grams,brand_name:_this.state.selectedItem.brand_name}]);_this.setState({items:newItems});};_this.addTrip=function(iframe,tripName,tripTravelers,tripDates,userid){var newTrips=[].concat(_toConsumableArray(_this.state.trips),[{name:tripName,iframe:iframe,traveler_names:tripTravelers,trip_dates:tripDates[0],userid:userid}]);_this.setState({trips:newTrips});};_this.addPackItem=function(id,tripid,trip_day,trav_name,type,serving_qty){var newPackItems=[].concat(_toConsumableArray(_this.state.packItems),[{id:id,tripid:tripid,trip_day:trip_day,trav_name:trav_name,type:type,serving_qty:serving_qty}]);_this.setState({packItems:newPackItems});};_this.deletePackItem=function(idToDelete){var newPackItems=_this.state.packItems.filter(function(pack){return pack.id!==idToDelete;});_this.setState({packItems:newPackItems});};_this.deleteTrip=function(idToDelete){var newTrips=_this.state.trips.filter(function(trip){return trip.id!==idToDelete;});_this.setState({trips:newTrips});};_this.getUser=function(userid,username){var trips=_this.state.trips;var users=_this.state.users;_this.setState({userid:userid,username:username,trips:trips.filter(function(trip){return trip.userid===userid;})});var inputValues={id:_this.state.userid,username:_this.state.username};var API=config.API_UY_ENDPOINT;var endpoint=config.endpointU;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;console.log(userid);console.log(users);console.log(users.filter(function(user){return user.id===userid;}).length);if(users.filter(function(user){return user.id===userid;}).length===1){console.log(\"welcome back existing user\");}else fetch(url,{method:'POST',body:JSON.stringify(inputValues),headers:{'content-type':'application/json','authorization':\"bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){// get the error message from the response\nreturn res.json().then(function(error){// then throw it\nthrow error;});}return res.json();});};_this.state={searchTerm:\"\",searchResults:{},selectedTripId:TRIPS[0].id,tripName:TRIPS[0].name,selectedItem:ITEMS[0],item:ITEMS[0],items:ITEMS,trips:TRIPS,packItems:PACKITEMS,users:[],userid:1,username:\"\"};return _this;}_createClass(App,[{key:\"handleGetTrips\",value:function handleGetTrips(e){var _this2=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointT;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;var userid=this.state.userid;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this2.setState({trips:data.filter(function(trip){return trip.userid===userid;}),error:null});}).catch(function(err){_this2.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"handleGetItems\",value:function handleGetItems(e){var _this3=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointI;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this3.setState({items:data,error:null});}).catch(function(err){_this3.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;var API=config.API_UY_ENDPOINT;var endpointI=config.endpointI;var endpointT=config.endpointT;var endpointP=config.endpointP;var endpointU=config.endpointU;var API_TOKEN=config.API_UY_KEY;var userid=this.state.userid;var urls=[API+endpointI,API+endpointU,API+endpointT,API+endpointP];var fetches=urls.map(function(url){return fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();});});Promise.all(fetches).then(function(data){_this4.setState({items:data[0],users:data[1],trips:data[2].filter(function(trip){return trip.userid===userid;}),packItems:data[3]});}).catch(function(err){_this4.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"handleGetPackItems\",value:function handleGetPackItems(e){var _this5=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointP;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this5.setState({packItems:data,error:null});}).catch(function(err){_this5.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"render\",value:function render(){var _this6=this;console.log(this.state.selectedItem.brand_name);var userid=this.state.userid;var username=this.state.username;console.log(username);var trips=this.state.trips;console.log(trips);var items=this.state.items;var selectedTripId=this.state.selectedTripId;console.log(selectedTripId);console.log(this.state.tripName);var selectedTrip=trips.filter(function(trip){return trip.id===selectedTripId;});var packItems=this.state.packItems;var selectedTripItems=packItems.filter(function(items){return items.tripid===selectedTripId;});var selectedTripItemsId=selectedTripItems.map(function(item){return item.id;});var tripItems=[];for(var i=0;i<items.length;i++){if(selectedTripItemsId.includes(items[i].id)){tripItems.push(items[i]);}}var defaultBrand=this.state.item.defaultBrand;var defaultCalsPs=this.state.item.cals_per_serving;var defaultName=this.state.item.food_name;var defaultImage=this.state.item.image;var defaultWeight=this.state.item.serving_weight_grams;var defaultUnit=this.state.item.serving_unit;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(NavBar,{getTrips:function getTrips(e){return _this6.handleGetTrips(e);},myTripText:username===\"\"?\"\":\"\".concat(username,\"'s trips\"),myAccountText:username===\"\"?\"get started\":\"my account\"}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(routerProps){return/*#__PURE__*/React.createElement(HomePage,{routerProps:routerProps,handleUpdate:function handleUpdate(searchTerm){return _this6.updateSearchTerm(searchTerm);},handleResults:function handleResults(searchResults){return _this6.updateSearchResults(searchResults);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},userid:userid,getUser:function getUser(id,username){return _this6.getUser(id,username);},username:username,handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);},trips:trips,getTrips:function getTrips(e){return _this6.handleGetTrips(e);},goButtonText:\"go!\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/search-bar\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SearchForm,{routerProps:routerProps,handleUpdate:function handleUpdate(searchTerm){return _this6.updateSearchTerm(searchTerm);},handleResults:function handleResults(searchResults){return _this6.updateSearchResults(searchResults);},getUser:function getUser(id,username){return _this6.getUser(id,username);},username:username,getTrips:function getTrips(e){return _this6.handleGetTrips(e);},goButtonText:\"go!\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/add-trip\",render:function render(routerProps){return/*#__PURE__*/React.createElement(AddTripForm,{method:\"POST\",text:\"plan a trip\",routerProps:routerProps,handleAddTrip:function handleAddTrip(iframe,tripName,tripTravelers,tripDates){return _this6.addTrip(iframe,tripName,tripTravelers,tripDates);},trips:trips,getUser:function getUser(id,username){return _this6.getUser(id,username);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},username:username,goButtonText:\"go!\"});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/edit-trip/:tripName\",render:function render(routerProps){return/*#__PURE__*/React.createElement(EditTripForm,{method:\"PATCH\",text:\"edit your trip\",routerProps:routerProps,handleAddTrip:function handleAddTrip(iframe,tripName,tripTravelers,tripDates){return _this6.addTrip(iframe,tripName,tripTravelers,tripDates);},getUser:function getUser(id,username){return _this6.getUser(id,username);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip,username:username,goButtonText:\"save\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/my-trips\",render:function render(){return/*#__PURE__*/React.createElement(TripNav,{trips:trips,handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},handleDeleteTrip:function handleDeleteTrip(idToDelete){return _this6.deleteTrip(idToDelete);},getUser:function getUser(id,username){return _this6.getUser(id,username);},myTripText:username===\"\"?\"\":\"\".concat(username,\"'s trips\"),username:username,goButtonText:\"go!\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/sign-in\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SignInBox,{routerProps:routerProps,getUser:function getUser(id,username){return _this6.getUser(id,username);},trips:trips,handleAddTrip:function handleAddTrip(iframe,tripName,tripTravelers,tripDates){return _this6.addTrip(iframe,tripName,tripTravelers,tripDates);},addButtonText:username===\"\"?\"Sign in to make your own item\":\"Make your own item\",getTrips:function getTrips(e){return _this6.handleGetTrips(e);},handleResults:function handleResults(searchResults){return _this6.updateSearchResults(searchResults);},handleUpdate:function handleUpdate(searchTerm){return _this6.updateSearchTerm(searchTerm);},getItems:function getItems(e){return _this6.handleGetItems(e);},goButtonText:\"go!\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/sign-in2\",render:function render(routerProps){return/*#__PURE__*/React.createElement(AuthStateApp,{routerProps:routerProps,getUser:function getUser(id,username){return _this6.getUser(id,username);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-filter/:tripid\",render:function render(){return/*#__PURE__*/React.createElement(TripFilterForm,{selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,username:username});}}),/*#__PURE__*/React.createElement(Route,{path:\"/add-custom\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Make your own item\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",goButtonText:\"save\",selectedItem:ITEMS[0],item:ITEMS[0],trips:!trips?TRIPS:trips,items:!items?ITEMS:items,tripItems:selectedTrip===TRIPS[0]?ITEMS:tripItems,itemTypes:ITEMTYPES,tripName:selectedTrip===TRIPS[0]?TRIPS[0].name:_this6.state.tripName,packItems:selectedTrip===TRIPS[0]?PACKITEMS:_this6.state.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this6.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},getUser:function getUser(id,username){return _this6.getUser(id,username);},username:username,handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip/:tripName\",render:function render(routerProps){return/*#__PURE__*/React.createElement(TripResults,{trips:trips,routerProps:routerProps,selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:ITEMTYPES,handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this6.selectTripItem(selectTripItem);},handleDeletePackItem:function handleDeletePackItem(idToDelete){return _this6.deletePackItem(idToDelete);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getItems:function getItems(e){return _this6.handleGetItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},addButtonText:!username?\"Sign in to make your own item\":\"Make your own item\",username:username});}}),/*#__PURE__*/React.createElement(Route,{path:\"/search-results\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SearchResults,{routerProps:routerProps,results:_this6.state.searchResults,common:_this6.state.searchResults.common,branded:_this6.state.searchResults.branded,trips:trips,handleSelectedItem:function handleSelectedItem(selectedItem){return _this6.selectItem(selectedItem);},handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this6.selectTripItem(selectTripItem);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},addButtonText:username===\"\"?\"Sign in to make your own item\":\"Make your own item\",username:username});}}),/*#__PURE__*/React.createElement(Route,{path:\"/item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Adjust quantity\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",goButtonText:\"save\",selectedItem:_this6.state.selectedItem,item:_this6.state.item,defaultBrand:_this6.state.item.defaultBrand,trips:trips,items:items,selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip,tripItems:tripItems,itemTypes:ITEMTYPES,tripName:_this6.state.tripName,packItems:_this6.state.packItems,handleNewItem:function handleNewItem(newId,newQty){return _this6.addDefaultItem(defaultBrand,defaultCalsPs,defaultName,newId,defaultImage,defaultWeight,newQty,defaultUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},getUser:function getUser(id,username){return _this6.getUser(id,username);},handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Customize your item\",is:\" is \",forT:\" for \",onT:\" on \",currentT:\"Current \",newT:\"New\",s:\"'s \",goButtonText:\"save\"//main difference below in props, this route passes selectedTripItem}\n,selectedItem:_this6.state.selectTripItem,item:_this6.state.item,trips:trips,items:items,selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:ITEMTYPES,tripName:_this6.state.tripName,packItems:_this6.state.packItems,handleNewItem:function handleNewItem(newId,newQty){return _this6.addDefaultItem(defaultBrand,defaultCalsPs,defaultName,newId,defaultImage,defaultWeight,newQty,defaultUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);},getUser:function getUser(id,username){return _this6.getUser(id,username);},handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/policies\",render:function render(){return/*#__PURE__*/React.createElement(Policies,null);}}),/*#__PURE__*/React.createElement(Footer,null));}}]);return App;}(Component);App.defaultProps={items:ITEMS,trips:TRIPS,packItems:PACKITEMS,selectedTrip:TRIPS[0]};export default App;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/App.js"],"names":["Amplify","awsconfig","React","Component","Route","NavBar","Policies","SignInBox","AuthStateApp","HomePage","Footer","TripNav","TripFilterForm","SearchForm","AddTripForm","EditTripForm","TripResults","PACKITEMS","ITEMS","TRIPS","ITEMTYPES","config","ItemAdjust","SearchResults","configure","App","props","updateSearchTerm","searchTerm","setState","updateSearchResults","searchResults","selectTrip","selectedTripId","tripName","selectItem","selectedItem","selectTripItem","addItem","newId","newBrand","newCalsPs","newName","newImage","newWeight","newQty","newUnit","items","state","newItems","id","food_name","image","cals_per_serving","serving_qty","serving_unit","serving_weight_grams","brand_name","addDefaultItem","addTrip","iframe","tripTravelers","tripDates","userid","newTrips","trips","name","traveler_names","trip_dates","addPackItem","tripid","trip_day","trav_name","type","newPackItems","packItems","deletePackItem","idToDelete","filter","pack","deleteTrip","trip","getUser","username","users","inputValues","API","API_UY_ENDPOINT","endpoint","endpointU","url","API_TOKEN","API_UY_KEY","console","log","user","length","fetch","method","body","JSON","stringify","headers","then","res","ok","json","error","item","e","preventDefault","endpointT","Authorization","Error","statusText","data","catch","err","endpointI","endpointP","urls","fetches","map","Promise","all","selectedTrip","selectedTripItems","selectedTripItemsId","tripItems","i","includes","push","defaultBrand","defaultCalsPs","defaultName","defaultImage","defaultWeight","defaultUnit","handleGetTrips","routerProps","handleGetItems","handleGetPackItems","common","branded","defaultProps"],"mappings":"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","sourcesContent":["import Amplify from 'aws-amplify';\nimport awsconfig from './aws-exports'\nimport React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./Font/Font.css\";\nimport NavBar from \"./NavHome/NavBar\";\nimport Policies from \"./NavHome/Policies\";\nimport SignInBox from \"./NavHome/SignInBox\";\nimport AuthStateApp from \"./NavHome/AuthStateApp\";\nimport HomePage from \"./NavHome/HomePage\";\nimport Footer from \"./NavHome/Footer\";\nimport TripNav from \"./TripList/TripNav\";\nimport TripFilterForm from \"./TripFilter/TripFilterForm\";\nimport SearchForm from \"./Search/SearchForm\";\nimport AddTripForm from \"./AddTrip/AddTripForm\";\nimport EditTripForm from \"./AddTrip/EditTripForm\";\nimport TripResults from \"./Tables/TripResults\";\nimport { PACKITEMS, ITEMS, TRIPS, ITEMTYPES } from \"./Defaults\";\nimport config from \"./config\";\nimport \"./FormElements/FormElements.css\";\nimport ItemAdjust from \"./ItemDetails/ItemAdjust\";\nimport SearchResults from \"./Tables/SearchResults\";\n\nAmplify.configure(awsconfig);\n\nclass App extends Component {\n  \n  \n  static defaultProps = {\n    items: ITEMS,\n    trips: TRIPS,\n    packItems: PACKITEMS,\n    selectedTrip: TRIPS[0]\n  };\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\",\n      searchResults: {},\n      selectedTripId: TRIPS[0].id,\n      tripName: TRIPS[0].name,\n      selectedItem: ITEMS[0],\n      item: ITEMS[0],\n      items: ITEMS,\n      trips: TRIPS,\n      packItems: PACKITEMS,\n      users: [],\n      userid: 1,\n      username: \"\",\n     \n    };\n  }\n\n  handleGetTrips(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointT\n   \n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n    const userid = this.state.userid\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n     \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json()\n      })\n      .then(data => {\n        this.setState({\n          trips: data.filter(trip => (trip.userid === userid)),\n          error: null\n        });\n      \n      }\n      )\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n\n  handleGetItems(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointI\n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n    \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      .then(data => {\n          this.setState({\n          items: data,\n          error: null\n        });\n      })\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n  componentDidMount() {\n    const API = config.API_UY_ENDPOINT   \n    const  endpointI = config.endpointI\n    const  endpointT = config.endpointT\n    const  endpointP = config.endpointP\n    const  endpointU = config.endpointU\n   \n    const API_TOKEN = config.API_UY_KEY\n\n    const userid = this.state.userid\n\n    const urls = [\n      API + endpointI,\n      API + endpointU,\n      API + endpointT,\n      API + endpointP,\n    ]\n\n  \n    const fetches = urls\n    .map (url =>\n       fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`\n      }\n       })\n       .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json(); \n        \n      })\n      \n      )\n\n      Promise.all(fetches)\n      .then(data => {\n      \n          this.setState({\n          items: data[0],\n          users: data[1],\n          trips: data[2].filter(trip => (trip.userid === userid)),\n          packItems: data[3],\n          \n        });\n      })\n      \n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n    }\n\n\n\n  handleGetPackItems(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointP\n   \n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n    \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      .then(data => {\n        this.setState({\n          packItems: data,\n          error: null\n        });\n      })\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n  updateSearchTerm = (searchTerm) => {\n    this.setState({\n      searchTerm: searchTerm,\n    });\n  };\n\n  updateSearchResults = (searchResults) => {\n    this.setState({\n      searchResults: searchResults,\n    });\n  };\n\n  selectTrip = (selectedTripId, tripName) => {\n    this.setState({\n      selectedTripId: selectedTripId,\n      tripName: tripName,\n    });\n  };\n\n  selectItem = (selectedItem) => {\n    this.setState({\n      selectedItem: selectedItem,\n    });\n  };\n\n  selectTripItem = (selectTripItem) => {\n    this.setState({\n      selectTripItem: selectTripItem,\n    });\n  };\n\n  \n\n\n  addItem = (newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit) => {\n    const items = this.state.items\n    const newItems = [\n      ...items,\n      { id: newId, \n        food_name: newName,\n        image: newImage,\n        cals_per_serving: newCalsPs,\n        serving_qty: newQty,\n        serving_unit: newUnit,\n        serving_weight_grams: newWeight,\n        brand_name: newBrand\n      }\n    ]\n    this.setState({\n      items: newItems,\n    });\n  }\n\n  addDefaultItem = (newId, newQty) => {\n    const items = this.state.items\n    const newItems = [\n      ...items,\n      { id: newId, \n        food_name:  this.state.food_name,\n        image: this.state.selectedItem.image,\n        cals_per_serving: this.state.selectedItem.cals_per_serving,\n        serving_qty: newQty,\n        serving_unit: this.state.selectedItem.serving_unit,\n        serving_weight_grams: this.state.selectedItem.serving_weight_grams,\n        brand_name: this.state.selectedItem.brand_name,\n      }\n    ]\n    this.setState({\n      items: newItems,\n    });\n  }\n\n \n\n  addTrip = (iframe, tripName, tripTravelers, tripDates, userid) => {\n    const newTrips = [\n      ...this.state.trips,\n      {name: tripName,\n       iframe: iframe,\n       traveler_names: tripTravelers,\n       trip_dates: tripDates[0],\n       userid: userid\n      }\n    ]\n    this.setState({\n      trips: newTrips,\n    });\n  }\n\n  addPackItem = (id, tripid, trip_day, trav_name, type, serving_qty) => {\n    const newPackItems = [\n      ...this.state.packItems,\n      {id: id,\n       tripid: tripid,\n       trip_day: trip_day,\n       trav_name: trav_name,\n       type: type,\n       serving_qty: serving_qty\n      }\n    ]\n    this.setState({\n      packItems: newPackItems,\n    })\n  }\n  \n  deletePackItem = idToDelete => {\n    const newPackItems = this.state.packItems.filter(pack =>\n        pack.id !== idToDelete\n        )\n        this.setState({\n         packItems: newPackItems\n        })\n\n    }\n\n  deleteTrip = idToDelete => {\n      const newTrips = this.state.trips.filter(trip =>\n          trip.id !== idToDelete\n          )\n          this.setState({\n           trips: newTrips\n          })\n  \n      }\n\n  getUser = (userid, username) => {\n    const trips = this.state.trips\n    const users = this.state.users\n\n    \n        this.setState({\n          userid: userid,\n          username: username,\n          trips: trips.filter(trip =>\n            trip.userid === userid\n            ),\n        })\n      \n\n        const inputValues = {\n      id: this.state.userid,\n      username: this.state.username\n    }\n\n\n    const API = config.API_UY_ENDPOINT   \n    const endpoint = config.endpointU\n\n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n    console.log(userid)\n    console.log(users)\n\n    console.log(users.filter(user => user.id === userid).length)\n  \n    if (users.filter(user => user.id === userid).length === 1) {\n      console.log(\"welcome back existing user\")\n    }  \n\n    else \n    fetch(url, {\n      \n          \n      method: 'POST',\n      body: JSON.stringify(inputValues),\n      headers: {\n        'content-type': 'application/json',\n        'authorization': `bearer ${API_TOKEN}`\n      }\n      \n    }\n   \n   \n    )\n\n   \n  .then(res => {\n  if (!res.ok) {\n      // get the error message from the response\n      return res.json().then(error => {\n      // then throw it\n      throw error\n      })\n  }\n\n \n  return res.json()\n \n  \n  })\n  \n\n    }\n  \n\n    \n    \n\n  render() {\n\n    console.log(this.state.selectedItem.brand_name)\n\n    \n    const userid = this.state.userid\n    \n    const username = this.state.username\n\n    console.log(username)\n    \n    const trips = this.state.trips\n\n    console.log(trips)\n\n\n    const items = this.state.items    \n    const selectedTripId = this.state.selectedTripId\n    \n    console.log(selectedTripId)\n    console.log(this.state.tripName)\n    \n\n    const selectedTrip = trips.filter((trip) => trip.id === selectedTripId)\n   \n    const packItems = this.state.packItems \n    const selectedTripItems = packItems.filter(\n      (items) => items.tripid === selectedTripId\n    );\n    const selectedTripItemsId = selectedTripItems.map((item) => item.id)\n    var tripItems = [];\n    for (let i = 0; i < items.length; i++) {\n      if (selectedTripItemsId.includes(items[i].id)) {\n        tripItems.push(items[i]);\n      }\n    }\n\n    const defaultBrand = this.state.item.defaultBrand\n    const defaultCalsPs = this.state.item.cals_per_serving\n    const defaultName = this.state.item.food_name\n    const defaultImage = this.state.item.image\n    const defaultWeight = this.state.item.serving_weight_grams\n    const defaultUnit = this.state.item.serving_unit\n  \n    return (\n      \n<div className=\"App\">\n        \n      \n        <NavBar \n        getTrips = {e => this.handleGetTrips(e)}\n        myTripText = {username === \"\" ? \"\" : `${username}'s trips`}\n        myAccountText = {username === \"\" ? \"get started\" : \"my account\"}\n        \n        />\n        \n\n        <Route\n          exact\n          path=\"/\"\n          render={(routerProps) => (\n            <HomePage\n              routerProps={routerProps}\n              handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n              handleResults={(searchResults) =>\n                this.updateSearchResults(searchResults)\n              }\n              \n              getItems = {(e) =>\n                this.handleGetItems(e)}\n \n              getPackItems = {(e) =>\n              this.handleGetPackItems(e)}\n              \n              userid = {userid}\n              \n              getUser = {(id, username) => this.getUser(id, username)}\n\n              username = {username}\n\n              handleSelectTrip={(selectedTripId, tripName) =>\n                this.selectTrip(selectedTripId, tripName)\n              }\n\n            \n              trips = {trips}\n              \n              getTrips = {(e) =>\n                this.handleGetTrips(e)\n              }\n\n              goButtonText = \"go!\"\n            />\n          )}\n        />\n\n        <Route\n          exact\n          path= \"/search-bar\"\n          render={(routerProps) => (\n            <SearchForm\n              routerProps={routerProps}\n              handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n              handleResults={(searchResults) =>\n                this.updateSearchResults(searchResults)\n              }\n              getUser = {(id, username) => this.getUser(id, username)} \n              username = {username}\n\n              getTrips = {(e) =>\n                this.handleGetTrips(e)\n              }\n\n              goButtonText = \"go!\"\n\n\n              \n            \n              \n             \n            />\n          )}\n        />\n\n        <Route\n          exact\n          path= \"/add-trip\"\n          render={(routerProps) => (\n            <AddTripForm\n              method= \"POST\"\n              text = \"plan a trip\"\n              routerProps={routerProps}\n              handleAddTrip={(iframe, tripName, tripTravelers, tripDates) =>\n                this.addTrip(iframe, tripName, tripTravelers, tripDates)\n              }\n\n              trips = {trips}\n\n              getUser = {(id, username) => this.getUser(id, username)}\n              getTrips = {e => this.handleGetTrips(e)}\n\n              username = {username}\n\n              goButtonText = \"go!\"\n              \n              \n            \n            />\n          )}\n        />\n\n\n        <Route\n          exact\n          path= \"/edit-trip/:tripName\"\n          render={(routerProps) => (\n            <EditTripForm\n            method= \"PATCH\"\n            text = \"edit your trip\"\n              routerProps={routerProps}\n              handleAddTrip={(iframe, tripName, tripTravelers, tripDates) =>\n                this.addTrip(iframe, tripName, tripTravelers, tripDates)\n              }\n\n              getUser = {(id, username) => this.getUser(id, username)}\n              getTrips = {e => this.handleGetTrips(e)}\n              selectedTrip={selectedTrip.length === 0 ? TRIPS[0] : selectedTrip} \n              \n              username = {username}\n\n              goButtonText = \"save\"\n            \n            />\n          )}\n        />\n\n       <Route\n          path=\"/my-trips\"\n          render={() => (\n            <TripNav\n              trips={trips}\n              handleSelectTrip={(selectedTripId, tripName) =>\n                this.selectTrip(selectedTripId, tripName)\n              }\n              getTrips = {e => this.handleGetTrips(e)}\n              getPackItems = {e => this.handleGetPackItems(e)}\n              handleDeleteTrip = {(idToDelete) => this.deleteTrip(idToDelete)}\n\n              getUser = {(id, username) => this.getUser(id, username)}\n              myTripText = {username === \"\" ? \"\" : `${username}'s trips`}\n\n              username = {username}\n\n              goButtonText = \"go!\"\n\n            />\n          )}\n        />\n        \n\n          <Route\n          path=\"/sign-in\"\n          render={(routerProps) => (\n            <SignInBox\n            routerProps={routerProps}\n            getUser = {(id, username) => this.getUser(id, username)} \n            trips = {trips}\n            \n            handleAddTrip={(iframe, tripName, tripTravelers, tripDates) =>\n              this.addTrip(iframe, tripName, tripTravelers, tripDates)\n            }\n            \n            addButtonText = {username === \"\"? \"Sign in to make your own item\" : \"Make your own item\"}\n\n            getTrips = {e => this.handleGetTrips(e)}\n            \n            handleResults={(searchResults) =>\n              this.updateSearchResults(searchResults)\n            }\n\n            handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n           \n            getItems = {(e) =>\n              this.handleGetItems(e)}\n            \n            goButtonText = \"go!\"\n\n           \n\n            />)}/>\n\n          <Route\n          path=\"/sign-in2\"\n          render={(routerProps) => (\n            <AuthStateApp\n            routerProps={routerProps}\n            getUser = {(id, username) => this.getUser(id, username)}             \n\n            />)}/>\n\n\n\n        <Route\n          path=\"/trip-filter/:tripid\"\n          render={() => (\n            <TripFilterForm\n              selectedTrip={selectedTrip.length === 0 ? TRIPS[0] : selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n              username = {username}\n             \n            />\n          )}\n        />\n\n        \n        <Route\n          path=\"/add-custom\"\n          render={(routerProps) => (\n            <ItemAdjust\n              routerProps={routerProps}\n              text = \"Make your own item\"\n              is = \"\"\n              forT = \"\"\n              onT = \"\"\n              currentT = \"\"\n              newT= \"\"\n              s = \"\"\n              goButtonText = \"save\"\n              selectedItem= {ITEMS[0]}\n              item= {ITEMS[0]}\n              trips={!trips? TRIPS : trips}\n              items= {!items? ITEMS : items}\n              tripItems={selectedTrip === TRIPS[0]? ITEMS : tripItems}\n              itemTypes={ITEMTYPES}\n              tripName={selectedTrip === TRIPS[0]? TRIPS[0].name : this.state.tripName}\n              packItems = {selectedTrip === TRIPS[0]? PACKITEMS: this.state.packItems}\n\n              handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n              }\n\n              handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n              }\n\n             getItems = {(e) =>\n                this.handleGetItems(e)}\n\n             getPackItems = {(e) =>\n              this.handleGetPackItems(e)\n            }\n\n            getTrips = {(e) =>\n              this.handleGetTrips(e)\n            }\n\n            getUser = {(id, username) => this.getUser(id, username)}\n            \n            username = {username}\n            \n            \n            handleSelectTrip={(selectedTripId, tripName) =>\n              this.selectTrip(selectedTripId, tripName)\n            }   \n            \n            \n            />\n\n            \n          )}\n        />\n\n        <Route\n          path=\"/trip/:tripName\"\n          render={(routerProps) => (\n            <TripResults\n              trips = {trips}\n              routerProps={routerProps}\n              selectedTrip={selectedTrip.length === 0 ? TRIPS[0] : selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n              itemTypes={ITEMTYPES}\n              handleSelectTripItem={(selectTripItem) =>\n                this.selectTripItem(selectTripItem)\n                            }\n\n              handleDeletePackItem = {(idToDelete) => this.deletePackItem(idToDelete)}\n              getPackItems = {(e) =>\n                this.handleGetPackItems(e)\n              }\n\n              getItems = {(e) =>\n                this.handleGetItems(e)\n              }\n\n\n              getTrips = {(e) =>\n                this.handleGetTrips(e)\n              }\n\n              addButtonText = {!username ? \"Sign in to make your own item\" : \"Make your own item\"}\n\n              username = {username}\n              \n            />\n          )}\n        />\n\n        <Route\n          path=\"/search-results\"\n          render={(routerProps) => {\n            return (\n              <SearchResults\n                routerProps={routerProps}\n                results= {this.state.searchResults}\n                common={this.state.searchResults.common}\n                branded={this.state.searchResults.branded}\n                trips={trips}\n                handleSelectedItem={(selectedItem) =>\n                  this.selectItem(selectedItem)\n                }\n                handleSelectTripItem={(selectTripItem) =>\n                  this.selectTripItem(selectTripItem)}\n\n                  getTrips = {(e) =>\n                    this.handleGetTrips(e)}\n                  addButtonText = {username === \"\"? \"Sign in to make your own item\" : \"Make your own item\"}\n                  username = {username}\n              />\n            )\n          }}\n        />\n\n      \n        <Route\n          path=\"/item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Adjust quantity\"\n                is = \"\"\n                forT = \"\"\n                onT = \"\"\n                currentT = \"\"\n                newT= \"\"\n                s = \"\"\n                goButtonText = \"save\"\n                selectedItem={this.state.selectedItem}\n                item= {this.state.item}\n                defaultBrand = {this.state.item.defaultBrand}\n                trips={trips}\n                items={items}\n                selectedTrip={selectedTrip.length === 0 ? TRIPS[0] : selectedTrip}\n                tripItems={tripItems}\n                itemTypes={ITEMTYPES}\n                tripName={this.state.tripName}\n                packItems = {this.state.packItems}\n\n               \n                handleNewItem= {(newId, newQty) =>\n                  this.addDefaultItem(defaultBrand, defaultCalsPs, defaultName, newId, defaultImage, defaultWeight, newQty, defaultUnit)\n                }\n\n                handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                  this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n              }\n                getItems = {(e) =>\n                this.handleGetItems(e)}\n  \n                getPackItems = {(e) =>\n                this.handleGetPackItems(e)}\n\n                getTrips = {(e) =>\n                  this.handleGetTrips(e)}\n\n                  getUser = {(id, username) => this.getUser(id, username)}\n                  \n                  handleSelectTrip={(selectedTripId, tripName) =>\n                    this.selectTrip(selectedTripId, tripName)\n                  }   \n              />\n            )\n          }}\n        />\n\n          <Route\n          path=\"/trip-item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Customize your item\"\n                is = \" is \"\n                forT = \" for \"\n                onT = \" on \"\n                currentT = \"Current \"\n                newT= \"New\"\n                s = \"'s \"\n                goButtonText = \"save\"\n                //main difference below in props, this route passes selectedTripItem}\n                selectedItem={this.state.selectTripItem}\n                item= {this.state.item}\n                trips={trips}\n                items={items}\n                selectedTrip={selectedTrip.length === 0 ? TRIPS[0] : selectedTrip}\n                selectedTripItems={selectedTripItems}\n                tripItems={tripItems}\n                itemTypes={ITEMTYPES}\n                tripName={this.state.tripName}\n                packItems = {this.state.packItems}\n                \n                handleNewItem= {(newId, newQty) =>\n                  this.addDefaultItem(defaultBrand, defaultCalsPs, defaultName, newId, defaultImage, defaultWeight, newQty, defaultUnit)\n                }\n  \n\n                handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n                }\n\n                getItems = {(e) =>\n                  this.handleGetItems(e)}\n\n                getPackItems = {(e) =>\n                  this.handleGetPackItems(e)}\n\n                getTrips = {(e) =>\n                    this.handleGetTrips(e)}\n\n                getUser = {(id, username) => this.getUser(id, username)} \n\n                handleSelectTrip={(selectedTripId, tripName) =>\n                  this.selectTrip(selectedTripId, tripName)\n                }   \n\n              />\n              )\n            }}\n          />\n          <Route\n          path=\"/policies\"\n          render={() => {\n            return (\n              <Policies/>)}}/>\n     \n     <Footer/>\n      </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}