{"ast":null,"code":"import _toConsumableArray from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import{Route,Link}from\"react-router-dom\";import\"./App.css\";import\"./Font/Font.css\";import NavBar from\"./NavHome/NavBar\";import HomePage from\"./NavHome/HomePage\";import TripNav from\"./TripList/TripNav\";import TripFilterForm from\"./TripFilter/TripFilterForm\";import UltraContext from\"./UltraContext\";import TripResults from\"./Tables/TripResults\";import{DEFAULTITEM,PACKITEMS,ITEMS,TRIPS}from\"./Defaults\";import ItemAdjust from\"./ItemDetails/ItemAdjust\";import SearchResults from\"./Tables/SearchResults\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.updateSearchTerm=function(searchTerm){_this.setState({searchTerm:searchTerm});};_this.updateSearchResults=function(searchResults){_this.setState({searchResults:searchResults});};_this.selectTrip=function(selectedTripId,tripName){_this.setState({selectedTripId:selectedTripId,tripName:tripName});};_this.selectItem=function(selectedItem){_this.setState({selectedItem:selectedItem});};_this.selectTripItem=function(selectTripItem){_this.setState({selectTripItem:selectTripItem});};_this.addItem=function(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){var items=_this.state.items;var newItems=[].concat(_toConsumableArray(items),[{id:newId,food_name:newName,image:newImage,calsPerServing:newCalsPs,serving_qty:newQty,serving_unit:newUnit,serving_weight_grams:newWeight,brand_name:newBrand}]);_this.setState({items:newItems});};_this.addTrip=function(tripId,iframe,tripName,tripTravelers,tripDates){var newTrips=[].concat(_toConsumableArray(_this.state.trips),[{id:tripId,iframe:iframe,name:tripName,traveler_names:tripTravelers,trip_dates:tripDates[0]}]);_this.setState({trips:newTrips});};_this.addPackItem=function(id,tripId,tripDay,travName,type,serving_qty){var newPackItems=[].concat(_toConsumableArray(_this.state.packItems),[{id:id,tripId:tripId,tripDay:tripDay,travName:travName,type:type,serving_qty:serving_qty}]);_this.setState({packItems:newPackItems});};_this.state={searchTerm:\"\",searchResults:{},selectedTripId:\"e\",tripName:\"Escalante\",selectedItem:DEFAULTITEM,item:DEFAULTITEM,selectTripItem:[],items:ITEMS,trips:TRIPS,packItems:PACKITEMS};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;var trips=this.state.trips;var items=this.state.items;var selectedTripId=this.state.selectedTripId;var selectedTrip=trips.filter(function(trip){return trip.id===selectedTripId;});var packItems=this.state.packItems;console.log(packItems);var selectedTripItems=packItems.filter(function(items){return items.tripId===selectedTripId;});var selectedTripItemsId=selectedTripItems.map(function(item){return item.id;});var tripItems=[];for(var i=0;i<items.length;i++){if(selectedTripItemsId.includes(items[i].id)){tripItems.push(items[i]);}}var itemTypes=this.props.itemTypes;return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(NavBar,null),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(routerProps){return/*#__PURE__*/React.createElement(HomePage,{routerProps:routerProps,handleUpdate:function handleUpdate(searchTerm){return _this2.updateSearchTerm(searchTerm);},handleResults:function handleResults(searchResults){return _this2.updateSearchResults(searchResults);},common:_this2.state.searchResults.common,branded:_this2.state.searchResults.branded,trips:trips,handleAddTrip:function handleAddTrip(tripId,iframe,tripName,tripTravelers,tripDates){return _this2.addTrip(tripId,iframe,tripName,tripTravelers,tripDates);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/my-trips\",render:function render(){return/*#__PURE__*/React.createElement(TripNav,{trips:trips,handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this2.selectTrip(selectedTripId,tripName);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-filter/:tripId\",render:function render(){return/*#__PURE__*/React.createElement(TripFilterForm,{selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems});}}),/*#__PURE__*/React.createElement(Route,{path:\"/add-custom\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Make your own item!\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",selectedItem:_this2.state.selectedItem,item:_this2.state.item,trips:trips,items:items,selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:itemTypes,tripName:\"\",packItems:_this2.props.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this2.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripId,tripDay,travName,type,serving_qty){return _this2.addPackItem(id,tripId,tripDay,travName,type,serving_qty);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip/:tripName\",render:function render(){return/*#__PURE__*/React.createElement(TripResults,{selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:itemTypes,handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this2.selectTripItem(selectTripItem);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/search-results\",render:function render(){console.log(_this2.state);return/*#__PURE__*/React.createElement(SearchResults,{results:_this2.state.searchResults,common:_this2.state.searchResults.common,branded:_this2.state.searchResults.branded,trips:trips,handleSelectedItem:function handleSelectedItem(selectedItem){return _this2.selectItem(selectedItem);},handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this2.selectTripItem(selectTripItem);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Customize your item!\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",selectedItem:_this2.state.selectedItem,item:_this2.state.item,trips:trips,items:items,selectedTrip:selectedTrip,tripItems:tripItems,itemTypes:itemTypes,tripName:_this2.state.tripName,packItems:_this2.props.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this2.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripId,tripDay,travName,type,serving_qty){return _this2.addPackItem(id,tripId,tripDay,travName,type,serving_qty);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Customize your item\",is:\" is \",forT:\" for \",onT:\" on \",currentT:\"Current \",newT:\"New\",s:\"'s \"//main difference below in props, this route passes selectedTripItem}\n,selectedItem:_this2.state.selectTripItem,item:_this2.state.item,trips:trips,items:items,selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:itemTypes,tripName:_this2.state.tripName,packItems:_this2.props.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this2.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripId,tripDay,travName,type,serving_qty){return _this2.addPackItem(id,tripId,tripDay,travName,type,serving_qty);}});}}));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/App.js"],"names":["React","Component","withRouter","Route","Link","NavBar","HomePage","TripNav","TripFilterForm","UltraContext","TripResults","DEFAULTITEM","PACKITEMS","ITEMS","TRIPS","ItemAdjust","SearchResults","App","props","updateSearchTerm","searchTerm","setState","updateSearchResults","searchResults","selectTrip","selectedTripId","tripName","selectItem","selectedItem","selectTripItem","addItem","newBrand","newCalsPs","newName","newId","newImage","newWeight","newQty","newUnit","items","state","newItems","id","food_name","image","calsPerServing","serving_qty","serving_unit","serving_weight_grams","brand_name","addTrip","tripId","iframe","tripTravelers","tripDates","newTrips","trips","name","traveler_names","trip_dates","addPackItem","tripDay","travName","type","newPackItems","packItems","item","selectedTrip","filter","trip","console","log","selectedTripItems","selectedTripItemsId","map","tripItems","i","length","includes","push","itemTypes","routerProps","common","branded"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Route, Link } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./Font/Font.css\";\nimport NavBar from \"./NavHome/NavBar\";\nimport HomePage from \"./NavHome/HomePage\";\nimport TripNav from \"./TripList/TripNav\";\nimport TripFilterForm from \"./TripFilter/TripFilterForm\";\nimport UltraContext from \"./UltraContext\";\nimport TripResults from \"./Tables/TripResults\";\nimport { DEFAULTITEM, PACKITEMS, ITEMS, TRIPS } from \"./Defaults\";\n\nimport ItemAdjust from \"./ItemDetails/ItemAdjust\";\n\n\nimport SearchResults from \"./Tables/SearchResults\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\",\n      searchResults: {},\n      selectedTripId: \"e\",\n      tripName: \"Escalante\",\n      selectedItem: DEFAULTITEM,\n      item: DEFAULTITEM,\n      selectTripItem: [],\n      items: ITEMS,\n      trips: TRIPS,\n      packItems: PACKITEMS\n      \n    };\n  }\n\n  updateSearchTerm = (searchTerm) => {\n    this.setState({\n      searchTerm: searchTerm,\n    });\n  };\n\n  updateSearchResults = (searchResults) => {\n    this.setState({\n      searchResults: searchResults,\n    });\n  };\n\n  selectTrip = (selectedTripId, tripName) => {\n    this.setState({\n      selectedTripId: selectedTripId,\n      tripName: tripName,\n    });\n  };\n\n  selectItem = (selectedItem) => {\n    this.setState({\n      selectedItem: selectedItem,\n    });\n  };\n\n  selectTripItem = (selectTripItem) => {\n    this.setState({\n      selectTripItem: selectTripItem,\n    });\n  };\n\n\n\n  addItem = (newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) => {\n    const items = this.state.items\n    const newItems = [\n      ...items,\n      {\n        id: newId,\n        food_name: newName,\n        image: newImage,\n        calsPerServing: newCalsPs,\n        serving_qty: newQty,\n        serving_unit: newUnit,\n        serving_weight_grams: newWeight,\n        brand_name: newBrand\n      }\n    ]\n    this.setState({\n      items: newItems,\n    });\n  }\n\n  addTrip = (tripId, iframe, tripName, tripTravelers, tripDates) => {\n    const newTrips = [\n      ...this.state.trips,\n      {id: tripId,\n       iframe: iframe,\n       name: tripName,\n       traveler_names: tripTravelers,\n       trip_dates: tripDates[0]\n      }\n    ]\n    this.setState({\n      trips: newTrips,\n    });\n  }\n\n  addPackItem = (id, tripId, tripDay, travName, type, serving_qty) => {\n    const newPackItems = [\n      ...this.state.packItems,\n      {id: id,\n       tripId: tripId,\n       tripDay: tripDay,\n       travName: travName,\n       type: type,\n       serving_qty: serving_qty\n      }\n    ]\n    this.setState({\n      packItems: newPackItems,\n    })\n  }\n\n\n\n  render() {\n\n    \n\n    \n    const trips = this.state.trips\n    const items = this.state.items\n\n    \n    const selectedTripId = this.state.selectedTripId\n    const selectedTrip = trips.filter((trip) => trip.id === selectedTripId)\n\n    const packItems = this.state.packItems\n    console.log(packItems)\n\n  \n    \n\n    const selectedTripItems = packItems.filter(\n      (items) => items.tripId === selectedTripId\n    );\n\n\n    const selectedTripItemsId = selectedTripItems.map((item) => item.id)\n  \n    var tripItems = [];\n    for (let i = 0; i < items.length; i++) {\n      if (selectedTripItemsId.includes(items[i].id)) {\n        tripItems.push(items[i]);\n      }\n    }\n\n    const itemTypes = this.props.itemTypes\n\n  \n  \n    return (\n      <div className=\"App\">\n        <NavBar />\n\n        <Route\n          exact\n          path=\"/\"\n          render={(routerProps) => (\n            <HomePage\n              routerProps={routerProps}\n              handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n              handleResults={(searchResults) =>\n                this.updateSearchResults(searchResults)\n              }\n              common={this.state.searchResults.common}\n              branded={this.state.searchResults.branded}\n              trips={trips}\n\n              handleAddTrip={(tripId, iframe, tripName, tripTravelers, tripDates) =>\n                this.addTrip(tripId, iframe, tripName, tripTravelers, tripDates)\n              }\n\n            />\n          )}\n        />\n\n        <Route\n          path=\"/my-trips\"\n          render={() => (\n            <TripNav\n              trips={trips}\n              handleSelectTrip={(selectedTripId, tripName) =>\n                this.selectTrip(selectedTripId, tripName)\n              }\n            />\n          )}\n        />\n\n        <Route\n          path=\"/trip-filter/:tripId\"\n          render={() => (\n            <TripFilterForm\n              selectedTrip={selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/add-custom\"\n          render={(routerProps) => (\n            <ItemAdjust\n              routerProps={routerProps}\n              text = \"Make your own item!\"\n              is = \"\"\n              forT = \"\"\n              onT = \"\"\n              currentT = \"\"\n              newT= \"\"\n              s = \"\"\n              selectedItem={this.state.selectedItem}\n              item= {this.state.item}\n              trips={trips}\n              items={items}\n              selectedTrip={selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n              itemTypes={itemTypes}\n              tripName={\"\"}\n              packItems = {this.props.packItems}\n\n              handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n              }\n\n              handleNewPackItem={(id, tripId, tripDay, travName, type, serving_qty) =>\n                this.addPackItem(id, tripId, tripDay, travName, type, serving_qty)\n              }\n            />\n          )}\n        />\n\n        <Route\n          path=\"/trip/:tripName\"\n          render={() => (\n            <TripResults\n              selectedTrip={selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n              itemTypes={itemTypes}\n              handleSelectTripItem={(selectTripItem) =>\n                this.selectTripItem(selectTripItem)\n              }\n              \n            />\n          )}\n        />\n\n        <Route\n          path=\"/search-results\"\n          render={() => {\n            console.log(this.state);\n            return (\n              <SearchResults\n                results= {this.state.searchResults}\n                common={this.state.searchResults.common}\n                branded={this.state.searchResults.branded}\n                trips={trips}\n                handleSelectedItem={(selectedItem) =>\n                  this.selectItem(selectedItem)\n                }\n                handleSelectTripItem={(selectTripItem) =>\n                  this.selectTripItem(selectTripItem)}\n              />\n            )\n          }}\n        />\n\n      \n\n\n        <Route\n          path=\"/item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Customize your item!\"\n                is = \"\"\n                forT = \"\"\n                onT = \"\"\n                currentT = \"\"\n                newT= \"\"\n                s = \"\"\n                selectedItem={this.state.selectedItem}\n                item= {this.state.item}\n                trips={trips}\n                items={items}\n                selectedTrip={selectedTrip}\n                tripItems={tripItems}\n                itemTypes={itemTypes}\n                tripName={this.state.tripName}\n                packItems = {this.props.packItems}\n                \n                handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n              }\n\n                handleNewPackItem={(id, tripId, tripDay, travName, type, serving_qty) =>\n                  this.addPackItem(id, tripId, tripDay, travName, type, serving_qty)\n              }\n\n              />\n            )\n          }}\n        />\n\n          <Route\n          path=\"/trip-item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Customize your item\"\n                is = \" is \"\n                forT = \" for \"\n                onT = \" on \"\n                currentT = \"Current \"\n                newT= \"New\"\n                s = \"'s \"\n                //main difference below in props, this route passes selectedTripItem}\n                selectedItem={this.state.selectTripItem}\n                item= {this.state.item}\n                trips={trips}\n                items={items}\n                selectedTrip={selectedTrip}\n                selectedTripItems={selectedTripItems}\n                tripItems={tripItems}\n                itemTypes={itemTypes}\n                tripName={this.state.tripName}\n                packItems = {this.props.packItems}\n                \n                handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                  this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n                } \n\n\n                handleNewPackItem={(id, tripId, tripDay, travName, type, serving_qty) =>\n                this.addPackItem(id, tripId, tripDay, travName, type, serving_qty)\n                }\n\n              />\n              )\n            }}\n          />\n            \n      \n      </div>\n    )\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}