{"ast":null,"code":"import _slicedToArray from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"./Home.css\";import\"../FormElements/FormElements.css\";import\"../Font/Font.css\";import uYtitle from\"../Images/uYtitle.png\";import{Auth}from'aws-amplify';import{AmplifyAuthenticator,AmplifySignOut}from'@aws-amplify/ui-react';import{AuthState,onAuthUIStateChange}from'@aws-amplify/ui-components';import AddTripForm from\"../AddTrip/AddTripForm\";import{NavLink}from'react-router-dom';import{withRouter}from\"react-router-dom\";import SearchForm from\"../Search/SearchForm\";var SignInBox=/*#__PURE__*/function(_Component){_inherits(SignInBox,_Component);var _super=_createSuper(SignInBox);function SignInBox(props){var _this;_classCallCheck(this,SignInBox);_this=_super.call(this,props);_this.state={id:\"\",username:\"\"};return _this;}_createClass(SignInBox,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;try{Auth.currentAuthenticatedUser().then(function(user){var id=user.attributes.sub;var username=user.username;_this2.props.getUser(id,username).then(function(id,username){return _this2.setState({id:id,username:username});});}).catch(function(err){return console.log(err);});}catch(ex){console.log(\"waiting for login\",ex);alert(\"Waiting for login\");}}},{key:\"render\",value:function render(){var _this3=this;function refreshPage(){window.location.reload(false);}var AuthStateApp=function AuthStateApp(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),authState=_React$useState2[0],setAuthState=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),user=_React$useState4[0],setUser=_React$useState4[1];React.useEffect(function(){return onAuthUIStateChange(function(nextAuthState,authData){setAuthState(nextAuthState);setUser(authData);});},[]);return authState===AuthState.SignedIn&&user?/*#__PURE__*/React.createElement(\"span\",null,\"\\xA0\",user.username):\"\";};var signIn=function signIn(){return/*#__PURE__*/React.createElement(AmplifyAuthenticator,null,/*#__PURE__*/React.createElement(\"div\",{className:\"montebello\"},/*#__PURE__*/React.createElement(\"div\",{className:\"primaryFont black greetings\",onMouseOver:_this3.props.getTrips},\"Hi\",/*#__PURE__*/React.createElement(\"strong\",null,/*#__PURE__*/React.createElement(AuthStateApp,null)),\", go to\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NavLink,{to:\"/add-trip\",className:\"noDeco bold goTo\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-seedling\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"goTo\"},\"plan a trip\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NavLink,{to:\"/search-bar\",className:\"noDeco bold goTo\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-skiing\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"goTo\"},\"quick search\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NavLink,{to:\"/my-trips\",className:\"noDeco montebello goTo\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-shoe-prints\"}),\"my trips\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NavLink,{to:\"/add-custom\",className:\"noDeco montebello goTo\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-stroopwafel\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"goTo\"},\"make your own item\"))),/*#__PURE__*/React.createElement(\"div\",{onClick:refreshPage},/*#__PURE__*/React.createElement(AmplifySignOut,null))),/*#__PURE__*/React.createElement(AddTripForm,{text:\"plan a trip\",routerProps:_this3.props.routerProps,handleAddTrip:_this3.props.handleAddTrip,trips:trips,getTrips:_this3.props.handleGetTrips,getUser:_this3.props.getUser}),/*#__PURE__*/React.createElement(SearchForm,{routerProps:_this3.props.routerProps,handleUpdate:_this3.props.handleUpdate,handleResults:_this3.props.handleResults,getUser:_this3.props.getUser,trips:_this3.props.trips,getTrips:_this3.props.getTrips}));};var trips=this.props.trips;return/*#__PURE__*/React.createElement(\"div\",{className:\"home\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home\"},/*#__PURE__*/React.createElement(\"img\",{className:\"uYtitle\",src:uYtitle,alt:\"ultraYumm logo\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"primaryFont\"}),/*#__PURE__*/React.createElement(\"h1\",{className:\"black montebello title\"},\"Get more energy!\",/*#__PURE__*/React.createElement(\"span\",null,\"\\xA0\\xA0\"),/*#__PURE__*/React.createElement(\"span\",{className:\"lighter\"},\"pack lighter\",/*#__PURE__*/React.createElement(\"span\",null,signIn())))));}}]);return SignInBox;}(Component);export default withRouter(SignInBox);/*\n<AddTripForm\ntext = \"plan a trip\"\nrouterProps={this.props.routerProps}\nhandleAddTrip = {this.props.handleAddTrip}\ntrips = {trips}\ngetTrips= {this.props.handleGetTrips}\ngetUser ={this.props.getUser}\n/>*/","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/NavHome/SignInBox.js"],"names":["React","Component","uYtitle","Auth","AmplifyAuthenticator","AmplifySignOut","AuthState","onAuthUIStateChange","AddTripForm","NavLink","withRouter","SearchForm","SignInBox","props","state","id","username","currentAuthenticatedUser","then","user","attributes","sub","getUser","setState","catch","err","console","log","ex","alert","refreshPage","window","location","reload","AuthStateApp","useState","authState","setAuthState","setUser","useEffect","nextAuthState","authData","SignedIn","signIn","getTrips","routerProps","handleAddTrip","trips","handleGetTrips","handleUpdate","handleResults"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./Home.css\";\nimport \"../FormElements/FormElements.css\";\nimport \"../Font/Font.css\";\nimport uYtitle from \"../Images/uYtitle.png\";\nimport { Auth } from 'aws-amplify';\nimport { AmplifyAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\nimport { AuthState, onAuthUIStateChange } from '@aws-amplify/ui-components';\nimport AddTripForm from \"../AddTrip/AddTripForm\";\nimport { NavLink} from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\nimport SearchForm from \"../Search/SearchForm\";\n\n\nclass SignInBox extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n     id: \"\",\n     username: \"\"\n    };\n  }\n\n  \n  componentDidMount () { \n   \n    \n    try {Auth.currentAuthenticatedUser()\n    \n    .then(user => {\n \n    const id = user.attributes.sub\n    const username = user.username\n\n    this.props.getUser(id, username)\n\n    .then((id, username) => \n    this.setState ({\n      id,\n      username\n    }) )\n    \n  })\n  .catch(err => console.log(err))\n  \n\n  }\n\n  catch (ex) {\n    console.log(\"waiting for login\", ex);\n    alert(\"Waiting for login\");\n  }\n\n}\n\n\n  \n\n  \n\n  render() {\n\n    \n\n  \n    function refreshPage() {\n      window.location.reload(false);\n    }\n    \n    const AuthStateApp = () => {\n      const [authState, setAuthState] = React.useState();\n      const [user, setUser] = React.useState();\n  \n      React.useEffect(() => {\n          return onAuthUIStateChange((nextAuthState, authData) => {\n              setAuthState(nextAuthState);\n              setUser(authData)\n          });\n      }, []);\n  \n      \n    return authState === AuthState.SignedIn && user ? (\n       \n            <span>&nbsp;{user.username}\n        </span>\n      ) : \"\";\n  }\n\n    const signIn = () => (\n\n\n     \n      <AmplifyAuthenticator>\n    <div className = \"montebello\">\n   \n    <div className = \"primaryFont black greetings\"\n     onMouseOver = {this.props.getTrips}\n    >Hi<strong><AuthStateApp/></strong>, go to\n    <br></br>\n    <NavLink\n          to={`/add-trip`}\n          className = \"noDeco bold goTo\"><i className=\"fas fa-seedling\"></i>\n            <span className=\"goTo\">plan a trip</span>\n            </NavLink> \n    <br></br><NavLink\n          to={`/search-bar`}\n          className = \"noDeco bold goTo\"><i className =\"fas fa-skiing\"></i>\n           <span className=\"goTo\"\n           \n           >quick search</span>\n            </NavLink>\n            <br></br>\n           \n      <NavLink\n          to={`/my-trips`}\n          className = \"noDeco montebello goTo\"><i className =\"fas fa-shoe-prints\"></i>my trips\n            </NavLink> \n            <br></br>\n            <NavLink\n          to={`/add-custom`}\n          className = \"noDeco montebello goTo\"\n         ><i className=\"fas fa-stroopwafel\"></i>\n          <span className=\"goTo\">make your own item</span>\n            </NavLink> \n   </div>\n   <div onClick = {refreshPage}>\n    <AmplifySignOut/> \n    </div>\n    </div>\n    <AddTripForm\n         text = \"plan a trip\"\n         routerProps={this.props.routerProps}\n         handleAddTrip = {this.props.handleAddTrip}\n         trips = {trips}\n         getTrips= {this.props.handleGetTrips}\n         getUser ={this.props.getUser}\n        />\n\n<SearchForm\n          routerProps={this.props.routerProps}\n          handleUpdate={this.props.handleUpdate}\n          handleResults={this.props.handleResults}\n          getUser ={this.props.getUser}\n          trips = {this.props.trips}\n          getTrips = {this.props.getTrips}\n        />\n  </AmplifyAuthenticator>\n  \n\n\n    );\n     \n    const trips = this.props.trips\n    \n    return (\n\n\n      <div className= \"home\">\n        <div className= \"home\">\n          <img className= \"uYtitle\" src={uYtitle} alt=\"ultraYumm logo\" />\n          <div className = \"primaryFont\"></div>\n          <h1 className= \"black montebello title\">\n         Get more energy!<span>&nbsp;&nbsp;</span>\n            <span className=\"lighter\">pack lighter\n           \n            <span>{signIn()}</span></span>\n           \n          </h1>\n         \n        </div>\n       \n      </div>\n    );\n  }\n}\nexport default withRouter (SignInBox);\n\n/*\n<AddTripForm\ntext = \"plan a trip\"\nrouterProps={this.props.routerProps}\nhandleAddTrip = {this.props.handleAddTrip}\ntrips = {trips}\ngetTrips= {this.props.handleGetTrips}\ngetUser ={this.props.getUser}\n/>*/"]},"metadata":{},"sourceType":"module"}