{"ast":null,"code":"import _toConsumableArray from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Route}from\"react-router-dom\";import\"./App.css\";import\"./Font/Font.css\";import NavBar from\"./NavHome/NavBar\";import HomePage from\"./NavHome/HomePage\";import Footer from\"./NavHome/Footer\";import TripNav from\"./TripList/TripNav\";import TripFilterForm from\"./TripFilter/TripFilterForm\";import SearchForm from\"./Search/SearchForm\";import AddTripForm from\"./AddTrip/AddTripForm\";import TripResults from\"./Tables/TripResults\";import{PACKITEMS,ITEMS,TRIPS,ITEMTYPES}from\"./Defaults\";import config from\"./config\";import\"./FormElements/FormElements.css\";import ItemAdjust from\"./ItemDetails/ItemAdjust\";import SearchResults from\"./Tables/SearchResults\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.updateSearchTerm=function(searchTerm){_this.setState({searchTerm:searchTerm});};_this.updateSearchResults=function(searchResults){_this.setState({searchResults:searchResults});};_this.selectTrip=function(selectedTripId,tripName){_this.setState({selectedTripId:selectedTripId,tripName:tripName});};_this.selectItem=function(selectedItem){_this.setState({selectedItem:selectedItem});};_this.selectTripItem=function(selectTripItem){_this.setState({selectTripItem:selectTripItem});};_this.addItem=function(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit){var items=_this.state.items;var newItems=[].concat(_toConsumableArray(items),[{id:newId,food_name:newName,image:newImage,cals_per_serving:newCalsPs,serving_qty:newQty,serving_unit:newUnit,serving_weight_grams:newWeight,brand_name:newBrand}]);_this.setState({items:newItems});};_this.addTrip=function(iframe,tripName,tripTravelers,tripDates,userid){var newTrips=[].concat(_toConsumableArray(_this.state.trips),[{name:tripName,iframe:iframe,traveler_names:tripTravelers,trip_dates:tripDates[0],userid:userid}]);_this.setState({trips:newTrips});};_this.addPackItem=function(id,tripid,trip_day,trav_name,type,serving_qty){var newPackItems=[].concat(_toConsumableArray(_this.state.packItems),[{id:id,tripid:tripid,trip_day:trip_day,trav_name:trav_name,type:type,serving_qty:serving_qty}]);_this.setState({packItems:newPackItems});};_this.deletePackItem=function(idToDelete){var newPackItems=_this.state.packItems.filter(function(pack){return pack.id!==idToDelete;});_this.setState({packItems:newPackItems});};_this.state={searchTerm:\"\",searchResults:{},selectedTripId:TRIPS[0].id,tripName:TRIPS[0].name,selectedItem:ITEMS[0],item:ITEMS[0],items:ITEMS,trips:TRIPS,packItems:PACKITEMS};return _this;}_createClass(App,[{key:\"handleGetTrips\",value:function handleGetTrips(e){var _this2=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointT;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this2.setState({trips:data,error:null});}).catch(function(err){_this2.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"handleGetItems\",value:function handleGetItems(e){var _this3=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointI;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this3.setState({items:data,error:null});}).catch(function(err){_this3.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;var API=config.API_UY_ENDPOINT;var endpointI=config.endpointI;var endpointT=config.endpointT;var endpointP=config.endpointP;var API_TOKEN=config.API_UY_KEY;var urls=[API+endpointI,API+endpointT,API+endpointP];var fetches=urls.map(function(url){return fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();});});Promise.all(fetches).then(function(data){_this4.setState({items:data[0],trips:data[1],packItems:data[2]});}).catch(function(err){_this4.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"handleGetPackItems\",value:function handleGetPackItems(e){var _this5=this;e.preventDefault();var API=config.API_UY_ENDPOINT;var endpoint=config.endpointP;var url=API+endpoint;var API_TOKEN=config.API_UY_KEY;fetch(url,{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}}).then(function(res){if(!res.ok){throw new Error(res.statusText);}return res.json();}).then(function(data){_this5.setState({packItems:data,error:null});}).catch(function(err){_this5.setState({error:'Sorry, could not get trips at this time.'});});}},{key:\"render\",value:function render(){var _this6=this;var trips=this.state.trips;var items=this.state.items;var selectedTripId=this.state.selectedTripId;var selectedTrip=trips.filter(function(trip){return trip.id===selectedTripId;});var packItems=this.state.packItems;var selectedTripItems=packItems.filter(function(items){return items.tripid===selectedTripId;});var selectedTripItemsId=selectedTripItems.map(function(item){return item.id;});var tripItems=[];for(var i=0;i<items.length;i++){if(selectedTripItemsId.includes(items[i].id)){tripItems.push(items[i]);}}return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(NavBar,{getTrips:function getTrips(e){return _this6.handleGetTrips(e);}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(routerProps){return/*#__PURE__*/React.createElement(HomePage,{routerProps:routerProps,handleUpdate:function handleUpdate(searchTerm){return _this6.updateSearchTerm(searchTerm);},handleResults:function handleResults(searchResults){return _this6.updateSearchResults(searchResults);},handleAddTrip:function handleAddTrip(iframe,tripName,tripTravelers,tripDates){return _this6.addTrip(iframe,tripName,tripTravelers,tripDates);},trips:trips,getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/search-bar\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SearchForm,{routerProps:routerProps,handleUpdate:function handleUpdate(searchTerm){return _this6.updateSearchTerm(searchTerm);},handleResults:function handleResults(searchResults){return _this6.updateSearchResults(searchResults);}});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/add-trip\",render:function render(routerProps){return/*#__PURE__*/React.createElement(AddTripForm,{routerProps:routerProps,handleAddTrip:function handleAddTrip(iframe,tripName,tripTravelers,tripDates){return _this6.addTrip(iframe,tripName,tripTravelers,tripDates);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/my-trips\",render:function render(){return/*#__PURE__*/React.createElement(TripNav,{trips:trips,handleSelectTrip:function handleSelectTrip(selectedTripId,tripName){return _this6.selectTrip(selectedTripId,tripName);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-filter/:tripid\",render:function render(){return/*#__PURE__*/React.createElement(TripFilterForm,{selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems});}}),/*#__PURE__*/React.createElement(Route,{path:\"/add-custom\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Make your own item!\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",selectedItem:!_this6.state.selectedItem?ITEMS[0]:_this6.state.selectedItem,item:ITEMS[0],trips:!trips?TRIPS:trips,items:!items?ITEMS:items,selectedTrip:selectedTrip===TRIPS[0]?TRIPS[0]:selectedTrip,tripItems:selectedTrip===TRIPS[0]?ITEMS:tripItems,itemTypes:ITEMTYPES,tripName:selectedTrip===TRIPS[0]?TRIPS[0].name:_this6.state.tripName,packItems:selectedTrip===TRIPS[0]?PACKITEMS:_this6.state.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this6.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip/:tripName\",render:function render(routerProps){return/*#__PURE__*/React.createElement(TripResults,{trips:trips,routerProps:routerProps,selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:ITEMTYPES,handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this6.selectTripItem(selectTripItem);},handleDeletePackItem:function handleDeletePackItem(idToDelete){return _this6.deletePackItem(idToDelete);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getItems:function getItems(e){return _this6.handleGetItems(e);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/search-results\",render:function render(routerProps){return/*#__PURE__*/React.createElement(SearchResults,{routerProps:routerProps,results:_this6.state.searchResults,common:_this6.state.searchResults.common,branded:_this6.state.searchResults.branded,trips:trips,handleSelectedItem:function handleSelectedItem(selectedItem){return _this6.selectItem(selectedItem);},handleSelectTripItem:function handleSelectTripItem(selectTripItem){return _this6.selectTripItem(selectTripItem);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Customize your item!\",is:\"\",forT:\"\",onT:\"\",currentT:\"\",newT:\"\",s:\"\",selectedItem:_this6.state.selectedItem,item:_this6.state.item,trips:trips,items:items,selectedTrip:!selectedTrip?trips[0]:selectedTrip,tripItems:tripItems,itemTypes:ITEMTYPES,tripName:_this6.state.tripName,packItems:_this6.state.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this6.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Route,{path:\"/trip-item/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(ItemAdjust,{routerProps:routerProps,text:\"Customize your item\",is:\" is \",forT:\" for \",onT:\" on \",currentT:\"Current \",newT:\"New\",s:\"'s \"//main difference below in props, this route passes selectedTripItem}\n,selectedItem:_this6.state.selectTripItem,item:_this6.state.item,trips:trips,items:items,selectedTrip:selectedTrip,selectedTripItems:selectedTripItems,tripItems:tripItems,itemTypes:ITEMTYPES,tripName:_this6.state.tripName,packItems:_this6.state.packItems,handleNewItem:function handleNewItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit){return _this6.addItem(newBrand,newCalsPs,newName,newId,newImage,newWeight,newQty,newUnit);},handleNewPackItem:function handleNewPackItem(id,tripid,trip_day,trav_name,type,serving_qty){return _this6.addPackItem(id,tripid,trip_day,trav_name,type,serving_qty);},getItems:function getItems(e){return _this6.handleGetItems(e);},getPackItems:function getPackItems(e){return _this6.handleGetPackItems(e);},getTrips:function getTrips(e){return _this6.handleGetTrips(e);}});}}),/*#__PURE__*/React.createElement(Footer,null));}}]);return App;}(Component);App.defaultProps={items:ITEMS,trips:TRIPS,packItems:PACKITEMS};export default App;/*\n<div className={\"loader \" + (this.state.fetchSuccess? \"hide\":\"\")}>\n<img src=\"https://i.redd.it/o6m7b0l6h6pz.gif\"/>\n</div>*/","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/App.js"],"names":["React","Component","Route","NavBar","HomePage","Footer","TripNav","TripFilterForm","SearchForm","AddTripForm","TripResults","PACKITEMS","ITEMS","TRIPS","ITEMTYPES","config","ItemAdjust","SearchResults","App","props","updateSearchTerm","searchTerm","setState","updateSearchResults","searchResults","selectTrip","selectedTripId","tripName","selectItem","selectedItem","selectTripItem","addItem","newId","newBrand","newCalsPs","newName","newImage","newWeight","newQty","newUnit","items","state","newItems","id","food_name","image","cals_per_serving","serving_qty","serving_unit","serving_weight_grams","brand_name","addTrip","iframe","tripTravelers","tripDates","userid","newTrips","trips","name","traveler_names","trip_dates","addPackItem","tripid","trip_day","trav_name","type","newPackItems","packItems","deletePackItem","idToDelete","filter","pack","item","e","preventDefault","API","API_UY_ENDPOINT","endpoint","endpointT","url","API_TOKEN","API_UY_KEY","fetch","headers","Authorization","then","res","ok","Error","statusText","json","data","error","catch","err","endpointI","endpointP","urls","fetches","map","Promise","all","selectedTrip","trip","selectedTripItems","selectedTripItemsId","tripItems","i","length","includes","push","handleGetTrips","routerProps","handleGetItems","handleGetPackItems","common","branded","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport \"./Font/Font.css\";\nimport NavBar from \"./NavHome/NavBar\";\nimport HomePage from \"./NavHome/HomePage\";\nimport Footer from \"./NavHome/Footer\";\nimport TripNav from \"./TripList/TripNav\";\nimport TripFilterForm from \"./TripFilter/TripFilterForm\";\nimport SearchForm from \"./Search/SearchForm\";\nimport AddTripForm from \"./AddTrip/AddTripForm\";\nimport TripResults from \"./Tables/TripResults\";\nimport { PACKITEMS, ITEMS, TRIPS, ITEMTYPES } from \"./Defaults\";\nimport config from \"./config\";\nimport \"./FormElements/FormElements.css\";\nimport ItemAdjust from \"./ItemDetails/ItemAdjust\";\nimport SearchResults from \"./Tables/SearchResults\";\n\nclass App extends Component {\n  \n  static defaultProps = {\n    items: ITEMS,\n    trips: TRIPS,\n    packItems: PACKITEMS\n  };\n  \n  constructor(props) {\n    super(props);\n    this.state = {\n      searchTerm: \"\",\n      searchResults: {},\n      selectedTripId: TRIPS[0].id,\n      tripName: TRIPS[0].name,\n      selectedItem: ITEMS[0],\n      item: ITEMS[0],\n      items: ITEMS,\n      trips: TRIPS,\n      packItems: PACKITEMS,\n    };\n  }\n\n  handleGetTrips(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointT\n   \n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n     \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json()\n      })\n      .then(data => {\n        this.setState({\n          trips: data,\n          error: null\n        });\n      \n      }\n      )\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n\n  handleGetItems(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointI\n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n    \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      .then(data => {\n          this.setState({\n          items: data,\n          error: null\n        });\n      })\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n  componentDidMount() {\n    const API = config.API_UY_ENDPOINT   \n    const  endpointI = config.endpointI\n    const  endpointT = config.endpointT\n    const  endpointP = config.endpointP\n   \n    const API_TOKEN = config.API_UY_KEY\n\n    const urls = [\n      API + endpointI,\n      API + endpointT,\n      API + endpointP,\n    ]\n\n  \n    const fetches = urls\n    .map (url =>\n       fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`\n      }\n       })\n       .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json(); \n        \n      })\n      \n      )\n\n      Promise.all(fetches)\n      .then(data => {\n          this.setState({\n          items: data[0],\n          trips: data[1],\n          packItems: data[2]\n        });\n      })\n      \n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n    }\n\n\n  handleGetPackItems(e) {\n    e.preventDefault();\n    const API = config.API_UY_ENDPOINT   \n    const  endpoint = config.endpointP\n   \n    const url = API + endpoint;\n    const API_TOKEN = config.API_UY_KEY\n\n   \n    fetch(url, {\n      headers: {\n        Authorization: `Bearer ${API_TOKEN}`,\n      },\n    \n    })\n      .then(res => {\n        if(!res.ok) {\n          throw new Error(res.statusText);\n        }\n        return res.json();\n      })\n      .then(data => {\n        this.setState({\n          packItems: data,\n          error: null\n        });\n      })\n      .catch(err => {\n        this.setState({\n          error: 'Sorry, could not get trips at this time.'\n        });\n      })\n\n  }\n\n  updateSearchTerm = (searchTerm) => {\n    this.setState({\n      searchTerm: searchTerm,\n    });\n  };\n\n  updateSearchResults = (searchResults) => {\n    this.setState({\n      searchResults: searchResults,\n    });\n  };\n\n  selectTrip = (selectedTripId, tripName) => {\n    this.setState({\n      selectedTripId: selectedTripId,\n      tripName: tripName,\n    });\n  };\n\n  selectItem = (selectedItem) => {\n    this.setState({\n      selectedItem: selectedItem,\n    });\n  };\n\n  selectTripItem = (selectTripItem) => {\n    this.setState({\n      selectTripItem: selectTripItem,\n    });\n  };\n\n\n\n  addItem = (newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit) => {\n    const items = this.state.items\n    const newItems = [\n      ...items,\n      { id: newId, \n        food_name: newName,\n        image: newImage,\n        cals_per_serving: newCalsPs,\n        serving_qty: newQty,\n        serving_unit: newUnit,\n        serving_weight_grams: newWeight,\n        brand_name: newBrand\n      }\n    ]\n    this.setState({\n      items: newItems,\n    });\n  }\n\n \n\n  addTrip = (iframe, tripName, tripTravelers, tripDates, userid) => {\n    const newTrips = [\n      ...this.state.trips,\n      {name: tripName,\n       iframe: iframe,\n       traveler_names: tripTravelers,\n       trip_dates: tripDates[0],\n       userid: userid\n      }\n    ]\n    this.setState({\n      trips: newTrips,\n    });\n  }\n\n  addPackItem = (id, tripid, trip_day, trav_name, type, serving_qty) => {\n    const newPackItems = [\n      ...this.state.packItems,\n      {id: id,\n       tripid: tripid,\n       trip_day: trip_day,\n       trav_name: trav_name,\n       type: type,\n       serving_qty: serving_qty\n      }\n    ]\n    this.setState({\n      packItems: newPackItems,\n    })\n  }\n  \n  deletePackItem = idToDelete => {\n    const newPackItems = this.state.packItems.filter(pack =>\n        pack.id !== idToDelete\n        )\n        this.setState({\n         packItems: newPackItems\n        })\n\n    }\n    \n\n  render() {\n\n   \n    const trips = this.state.trips\n    const items = this.state.items    \n    const selectedTripId = this.state.selectedTripId\n    const selectedTrip = trips.filter((trip) => trip.id === selectedTripId)\n    const packItems = this.state.packItems \n    const selectedTripItems = packItems.filter(\n      (items) => items.tripid === selectedTripId\n    );\n    const selectedTripItemsId = selectedTripItems.map((item) => item.id)\n    var tripItems = [];\n    for (let i = 0; i < items.length; i++) {\n      if (selectedTripItemsId.includes(items[i].id)) {\n        tripItems.push(items[i]);\n      }\n    }\n  \n    return (\n      <div className=\"App\">\n        <NavBar \n        getTrips = {e => this.handleGetTrips(e)}\n       \n        />\n\n        <Route\n          exact\n          path=\"/\"\n          render={(routerProps) => (\n            <HomePage\n              routerProps={routerProps}\n              handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n              handleResults={(searchResults) =>\n                this.updateSearchResults(searchResults)\n              }\n               handleAddTrip={(iframe, tripName, tripTravelers, tripDates) =>\n                this.addTrip(iframe, tripName, tripTravelers, tripDates)\n              }\n\n              trips = {trips}\n\n              getItems = {(e) =>\n                this.handleGetItems(e)}\n \n              getPackItems = {(e) =>\n              this.handleGetPackItems(e)}\n\n              getTrips = {(e) =>\n                this.handleGetTrips(e)}\n\n \n         \n            />\n          )}\n        />\n\n        <Route\n          exact\n          path= \"/search-bar\"\n          render={(routerProps) => (\n            <SearchForm\n              routerProps={routerProps}\n              handleUpdate={(searchTerm) => this.updateSearchTerm(searchTerm)}\n              handleResults={(searchResults) =>\n                this.updateSearchResults(searchResults)\n              }\n        \n             \n            />\n          )}\n        />\n\n        <Route\n          exact\n          path= \"/add-trip\"\n          render={(routerProps) => (\n            <AddTripForm\n              routerProps={routerProps}\n              handleAddTrip={(iframe, tripName, tripTravelers, tripDates) =>\n                this.addTrip(iframe, tripName, tripTravelers, tripDates)\n              }\n            />\n          )}\n        />\n\n        <Route\n          path=\"/my-trips\"\n          render={() => (\n            <TripNav\n              trips={trips}\n              handleSelectTrip={(selectedTripId, tripName) =>\n                this.selectTrip(selectedTripId, tripName)\n              }\n              getTrips = {e => this.handleGetTrips(e)}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/trip-filter/:tripid\"\n          render={() => (\n            <TripFilterForm\n              selectedTrip={selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/add-custom\"\n          render={(routerProps) => (\n            <ItemAdjust\n              routerProps={routerProps}\n              text = \"Make your own item!\"\n              is = \"\"\n              forT = \"\"\n              onT = \"\"\n              currentT = \"\"\n              newT= \"\"\n              s = \"\"\n              selectedItem= {!this.state.selectedItem? ITEMS[0] : this.state.selectedItem}\n              item= {ITEMS[0]}\n              trips={!trips? TRIPS : trips}\n              items= {!items? ITEMS : items}\n              selectedTrip={selectedTrip === TRIPS[0]? TRIPS[0] : selectedTrip}\n              tripItems={selectedTrip === TRIPS[0]? ITEMS : tripItems}\n              itemTypes={ITEMTYPES}\n              tripName={selectedTrip === TRIPS[0]? TRIPS[0].name : this.state.tripName}\n              packItems = {selectedTrip === TRIPS[0]?PACKITEMS: this.state.packItems}\n\n              handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n              }\n\n              handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n              }\n\n             getItems = {(e) =>\n                this.handleGetItems(e)}\n\n             getPackItems = {(e) =>\n              this.handleGetPackItems(e)\n            }\n\n            getTrips = {(e) =>\n              this.handleGetTrips(e)\n            }\n            />\n          )}\n        />\n\n        <Route\n          path=\"/trip/:tripName\"\n          render={(routerProps) => (\n            <TripResults\n              trips = {trips}\n              routerProps={routerProps}\n              selectedTrip={selectedTrip}\n              selectedTripItems={selectedTripItems}\n              tripItems={tripItems}\n              itemTypes={ITEMTYPES}\n              handleSelectTripItem={(selectTripItem) =>\n                this.selectTripItem(selectTripItem)\n                            }\n\n              handleDeletePackItem = {(idToDelete) => this.deletePackItem(idToDelete)}\n              getPackItems = {(e) =>\n                this.handleGetPackItems(e)\n              }\n\n              getItems = {(e) =>\n                this.handleGetItems(e)\n              }\n              \n            />\n          )}\n        />\n\n        <Route\n          path=\"/search-results\"\n          render={(routerProps) => {\n            return (\n              <SearchResults\n                routerProps={routerProps}\n                results= {this.state.searchResults}\n                common={this.state.searchResults.common}\n                branded={this.state.searchResults.branded}\n                trips={trips}\n                handleSelectedItem={(selectedItem) =>\n                  this.selectItem(selectedItem)\n                }\n                handleSelectTripItem={(selectTripItem) =>\n                  this.selectTripItem(selectTripItem)}\n\n                  getTrips = {(e) =>\n                    this.handleGetTrips(e)}\n              />\n            )\n          }}\n        />\n\n      \n\n\n        <Route\n          path=\"/item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Customize your item!\"\n                is = \"\"\n                forT = \"\"\n                onT = \"\"\n                currentT = \"\"\n                newT= \"\"\n                s = \"\"\n                selectedItem={this.state.selectedItem}\n                item= {this.state.item}\n                trips={trips}\n                items={items}\n                selectedTrip={!selectedTrip? trips[0] : selectedTrip}\n                tripItems={tripItems}\n                itemTypes={ITEMTYPES}\n                tripName={this.state.tripName}\n                packItems = {this.state.packItems}\n                \n                handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n              }\n\n                handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                  this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n              }\n                getItems = {(e) =>\n                this.handleGetItems(e)}\n  \n                getPackItems = {(e) =>\n                this.handleGetPackItems(e)}\n\n                getTrips = {(e) =>\n                  this.handleGetTrips(e)}\n              />\n            )\n          }}\n        />\n\n          <Route\n          path=\"/trip-item/:id\"\n          render={(routerProps) => {\n            return (\n              <ItemAdjust\n                routerProps={routerProps}\n                text = \"Customize your item\"\n                is = \" is \"\n                forT = \" for \"\n                onT = \" on \"\n                currentT = \"Current \"\n                newT= \"New\"\n                s = \"'s \"\n                //main difference below in props, this route passes selectedTripItem}\n                selectedItem={this.state.selectTripItem}\n                item= {this.state.item}\n                trips={trips}\n                items={items}\n                selectedTrip={selectedTrip}\n                selectedTripItems={selectedTripItems}\n                tripItems={tripItems}\n                itemTypes={ITEMTYPES}\n                tripName={this.state.tripName}\n                packItems = {this.state.packItems}\n                \n                handleNewItem= {(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit) =>\n                  this.addItem(newBrand, newCalsPs, newName, newId, newImage, newWeight, newQty, newUnit)\n                } \n\n                handleNewPackItem={(id, tripid, trip_day, trav_name, type, serving_qty) =>\n                this.addPackItem(id, tripid, trip_day, trav_name, type, serving_qty)\n                }\n\n                getItems = {(e) =>\n                  this.handleGetItems(e)}\n\n                getPackItems = {(e) =>\n                  this.handleGetPackItems(e)}\n\n                getTrips = {(e) =>\n                    this.handleGetTrips(e)}\n\n              />\n              )\n            }}\n          />\n     \n     <Footer/>\n      </div>\n    )\n  }\n}\n\nexport default App;\n\n/*\n<div className={\"loader \" + (this.state.fetchSuccess? \"hide\":\"\")}>\n<img src=\"https://i.redd.it/o6m7b0l6h6pz.gif\"/>\n</div>*/"]},"metadata":{},"sourceType":"module"}