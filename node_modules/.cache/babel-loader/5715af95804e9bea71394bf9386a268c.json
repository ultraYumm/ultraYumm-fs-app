{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"../Font/Font.css\";import\"../FormElements/FormElements.css\";import React,{Component}from\"react\";import BackButton from\"../FormElements/BackButton\";import ForwardButton from\"../FormElements/ForwardButton\";import config from\"../config\";import GoButton from\"../FormElements/GoButton\";import ServUnit from\"../CustomItem/ServUnit\";import UnitQuant from\"../CustomItem/UnitQuant\";import WeightQuant from\"../CustomItem/WeightQuant\";import CalsQuant from\"../CustomItem/CalsQuant\";import Result from\"../CustomItem/Result\";import TripNames from\"../CustomItem/TripNames\";import\"../Tables/Tables.css\";import TripDates from\"../TripDetails/TripDates\";import ItemTypes from\"../CustomItem/ItemTypes\";import TripTravelers from\"../TripDetails/TripTravelers\";import NewItemName from\"../CustomItem//NewItemName\";import NewItemBrand from\"../CustomItem/NewItemBrand\";import ItemImage from\"../ItemDetails/ItemImage\";import Moment from'react-moment';import{v4 as uuidv4}from'uuid';import{ITEMS,DEFAULTITEM,TRIPS,PACKITEMS}from\"../Defaults\";var ItemAdjust=/*#__PURE__*/function(_Component){_inherits(ItemAdjust,_Component);var _super=_createSuper(ItemAdjust);function ItemAdjust(props){var _this;_classCallCheck(this,ItemAdjust);_this=_super.call(this,props);_this.adjustItemName=function(name,id){_this.setState({food_name:name,id:id});};_this.adjustItemBrand=function(newBrand){_this.setState({brand_name:newBrand});};_this.selectTrip=function(selectedTrip,tripid){var tripName=selectedTrip.name;var tripDates=selectedTrip.trip_dates;var tripTravelers=selectedTrip.traveler_names;_this.setState({tripid:tripid,selectedTrip:selectedTrip,name:tripName,trip_dates:tripDates,traveler_names:tripTravelers});};_this.adjustQuant=function(input){_this.setState({serving_qty:input});};_this.adjustUnit=function(input){_this.setState({serving_unit:input});};_this.adjustWeight=function(input){_this.setState({serving_weight_grams:input});};_this.adjustCals=function(input,id){_this.setState({cals_per_serving:input});};_this.selectDay=function(input){_this.setState({trip_day:input});};_this.selectType=function(input){_this.setState({type:input});};_this.selectTraveler=function(input){_this.setState({trav_name:input});};var _selectedTrip=_this.props.selectedTrip;var packItems=_this.props.packItems;var trips=_this.props.trips;var selectedItem=_this.props.selectedItem===undefined?PACKITEMS[0]:_this.props.selectedItem;_this.state={selectedItem:selectedItem,selectedTrip:_selectedTrip,name:!_selectedTrip[0]?TRIPS[0].name:_selectedTrip[0].name,selectedTripId:!_selectedTrip[0]?PACKITEMS[0].id:_selectedTrip[0].id,//selectedTrip: !selectedTrip[0]? TRIPS[0] : selectedTrip[0],\nid:selectedItem.id,serving_qty:selectedItem.serving_qty,serving_unit:selectedItem.serving_unit,cals_per_serving:selectedItem.cals_per_serving,serving_weight_grams:selectedItem.serving_weight_grams,food_name:selectedItem.food_name,brand_name:selectedItem.brand_name,packItems:{packItems:packItems},image:selectedItem.image,tripid:!_selectedTrip[0]?TRIPS[0].id:_selectedTrip[0].id,trip_dates:!_selectedTrip[0]?trips[0].trip_dates:_selectedTrip[0].trip_dates.toString().replace('{',\"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(','),traveler_names:!_selectedTrip[0]?TRIPS[0].traveler_names:_selectedTrip[0].traveler_names.toString().replace('{',\"\").replace(\"}\",\"\").split(/[ ,]+/),trip_day:!_selectedTrip[0]?PACKITEMS[0].trip_day:_selectedTrip[0].trip_dates.toString().replace('{',\"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(',')[0],type:!_selectedTrip[0]|selectedItem.type===undefined?PACKITEMS[0].type:selectedItem.type,trav_name:!_selectedTrip[0]?PACKITEMS[0].trav_name:selectedItem.trav_name};return _this;}_createClass(ItemAdjust,[{key:\"render\",value:function render(){var _this2=this;var onSubmitForm=function onSubmitForm(e){e.preventDefault();var newId=uuidv4();var newName=_this2.state.food_name;var newBrand=_this2.state.brand_name;var newCalsPs=isNaN(_this2.state.cals_per_serving)?0:_this2.state.cals_per_serving;var newImage=_this2.state.image;var newQty=!_this2.state.serving_qty?1:_this2.state.serving_qty;var newUnit=_this2.state.serving_unit;var newWeight=isNaN(_this2.state.serving_weight_grams)?0:_this2.state.serving_weight_grams;var tripid=_this2.state.tripid;var trip_day=_this2.state.trip_day;var trav_name=_this2.state.trav_name===undefined?\"TBD\":_this2.state.trav_name;var type=_this2.state.type;var API=config.API_UY_ENDPOINT;var endpointI=config.endpointI;var endpointP=config.endpointP;var urlI=API+endpointI;var urlP=API+endpointP;var item={id:newId,food_name:newName,serving_unit:newUnit,brand_name:newBrand,serving_qty:newQty,image:newImage,serving_weight_grams:newWeight,cals_per_serving:newCalsPs};var packItem={id:newId,tripid:tripid,trip_day:trip_day,trav_name:trav_name,type:type,serving_qty:newQty};fetch(urlI,{method:'POST',body:JSON.stringify(item),headers:{'content-type':'application/json','authorization':\"bearer \".concat(config.API_UY_KEY)}}).then(function(res){if(!res.ok){// get the error message from the response,\nreturn res.json().then(function(error){// then throw it\nthrow error;});}}).then(function(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit){_this2.props.handleNewItem(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit);fetch(urlP,{method:'POST',body:JSON.stringify(packItem),headers:{'content-type':'application/json','authorization':\"bearer \".concat(config.API_UY_KEY)}}).then(function(res){if(!res.ok){// get the error message from the response,\nreturn res.json().then(function(error){// then throw it\nthrow error;});}return res.json();}).then(function(newId,tripid,trip_day,trav_name,type,newQty){_this2.props.handleNewPackItem(newId,tripid,trip_day,trav_name,type,newQty);_this2.props.routerProps.history.push(\"/trip/:tripName\");_this2.props.getPackitems(e);}).catch(function(error){_this2.setState({error:error});});}).catch(function(error){_this2.setState({error:error});});_this2.props.getItems(e);_this2.props.getPackItems(e);_this2.props.getTrips(e);};var trips=this.props.trips;var itemTypes=this.props.itemTypes;var item=this.props.selectedItem;var image=item.image;var name=item.food_name;var brand=!item.brand_name?\"common\":item.brand_name;var quant=Math.round(item.serving_qty);var unit=item.serving_unit;var weight=Math.round(item.serving_weight_grams);var calsPs=Math.round(item.cals_per_serving);var totalWeightnf=quant*weight;var totalCalnf=quant*calsPs;var id=item.id;var stateQty=parseInt(this.state.serving_qty);var stateCalsPs=parseInt(this.state.cals_per_serving);var stateServWeight=parseInt(this.state.serving_weight_grams);var stateWeightnf=stateQty*stateServWeight;var stateCalsnf=stateQty*stateCalsPs;var text=this.props.text;var trip_day=/*#__PURE__*/React.createElement(Moment,{format:\"MMM/DD\"},this.state.trip_day);return/*#__PURE__*/React.createElement(\"section\",{className:\"filterForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"back\"},/*#__PURE__*/React.createElement(BackButton,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"forward\"},/*#__PURE__*/React.createElement(ForwardButton,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"adjustImage\"},/*#__PURE__*/React.createElement(ItemImage,{image:image})),/*#__PURE__*/React.createElement(\"form\",{id:\"filter\",onSubmit:onSubmitForm,className:\"blueBackground\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"montebello white\"},text,/*#__PURE__*/React.createElement(GoButton,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"white primaryFont\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"newI\"},/*#__PURE__*/React.createElement(\"div\",{className:\"newItems\"},/*#__PURE__*/React.createElement(NewItemName,{name:name,id:id,handleAdjustName:function handleAdjustName(inputValue,id){return _this2.adjustItemName(inputValue,id);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"newItems\"},/*#__PURE__*/React.createElement(NewItemBrand,{brand:brand,handleAdjustBrand:function handleAdjustBrand(inputValue){return _this2.adjustItemBrand(inputValue);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"calcBox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"serving quantity\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-coins white mobileHide\"}),\"\\xA0Serving Quantity\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(UnitQuant,{input:quant,handleAdjustQuant:function handleAdjustQuant(inputValue){return _this2.adjustQuant(inputValue);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"serving unit\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ruler-vertical white mobileHide\"}),\"\\xA0Serving unit\"),/*#__PURE__*/React.createElement(\"div\",{className:\"textInput\"},/*#__PURE__*/React.createElement(ServUnit,{id:id,input:unit,handleAdjustUnit:function handleAdjustUnit(inputValue,id){return _this2.adjustUnit(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"weight per serving\",className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-balance-scale white mobileHide\"}),\"\\xA0\\xA0\\xA0Weight per serving\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(WeightQuant,{input:weight,id:id,handleAdjustWeight:function handleAdjustWeight(inputValue,id){return _this2.adjustWeight(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"calories per serving\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-fire-alt white mobileHide\"}),\"\\xA0Calories per serving\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(CalsQuant,{input:calsPs,id:id,handleAdjustCals:function handleAdjustCals(inputValue,id){return _this2.adjustCals(inputValue,id);}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"resultsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"resultBox\"},/*#__PURE__*/React.createElement(\"label\",{className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-hiking white mobileHide\"}),\"\\xA0\",/*#__PURE__*/React.createElement(\"strong\",null,\"Total Weight\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cellBox redBackground\"},/*#__PURE__*/React.createElement(Result,{result:stateWeightnf,placeholder:totalWeightnf}))),/*#__PURE__*/React.createElement(\"div\",{className:\"resultBox\"},/*#__PURE__*/React.createElement(\"label\",{className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-fire-alt white mobileHide\"}),\"\\xA0\",/*#__PURE__*/React.createElement(\"strong\",null,\"Total Calories\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cellBox redBackground\"},/*#__PURE__*/React.createElement(Result,{result:stateCalsnf,placeholder:totalCalnf})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"filterContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-feather black\"}),\"\\xA0Trip:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont blue skinBackground\"},this.state.name)),/*#__PURE__*/React.createElement(TripNames,{trips:trips,handleSelectTrip:function handleSelectTrip(selectedTrip,tripid){return _this2.selectTrip(selectedTrip,tripid);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-calendar-day black\"}),\"\\xA0Date:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont blue skinBackground\"},this.state.trip_day===PACKITEMS[0].trip_day|this.state.trip_day===\"undefined\"|this.state.trip_day===undefined|this.state.trip_dates===\"\"|this.state.trip_dates[0]===\"\"|this.state.trip_dates===undefined|this.state.trip_dates==={}|this.state.trip_dates===\"{}\"?\"\":trip_day)),/*#__PURE__*/React.createElement(TripDates,{name:this.state.name,defaultDay:PACKITEMS[0].trip_day,tripDates:this.state.trip_dates,handleSelectDay:function handleSelectDay(selectedDay){return _this2.selectDay(selectedDay);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-utensils black\"}),\"\\xA0Type:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont blue skinBackground\"},this.state.type)),/*#__PURE__*/React.createElement(ItemTypes,{itemTypes:itemTypes,id:id,handleSelectType:function handleSelectType(selectedType){return _this2.selectType(selectedType);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},\"  \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle black\"}),\"\\xA0Select traveler:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont blue skinBackground\"},this.state.trav_name)),/*#__PURE__*/React.createElement(TripTravelers,{tripTravelers:this.state.traveler_names,handleSelectTraveler:function handleSelectTraveler(selectedTraveler){return _this2.selectTraveler(selectedTraveler);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mobileOnly\"},/*#__PURE__*/React.createElement(GoButton,null))));}}]);return ItemAdjust;}(Component);ItemAdjust.defaultProps={selectedTrip:TRIPS[0],trips:TRIPS,items:ITEMS,tripItems:ITEMS,selectedTripItems:ITEMS,selectedItem:DEFAULTITEM,item:DEFAULTITEM,serving_unit:\"\",cals_per_serving:null,packItems:{},name:\"\",selectedTripId:\"\",id:\"\",serving_qty:null,serving_weight_grams:null,trip_day:PACKITEMS[0].trip_day,type:\"\",food_name:\"\",brand_name:\"\",image:ITEMS[0].image};export default ItemAdjust;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/ItemDetails/ItemAdjust.js"],"names":["React","Component","BackButton","ForwardButton","config","GoButton","ServUnit","UnitQuant","WeightQuant","CalsQuant","Result","TripNames","TripDates","ItemTypes","TripTravelers","NewItemName","NewItemBrand","ItemImage","Moment","v4","uuidv4","ITEMS","DEFAULTITEM","TRIPS","PACKITEMS","ItemAdjust","props","adjustItemName","name","id","setState","food_name","adjustItemBrand","newBrand","brand_name","selectTrip","selectedTrip","tripid","tripName","tripDates","trip_dates","tripTravelers","traveler_names","adjustQuant","input","serving_qty","adjustUnit","serving_unit","adjustWeight","serving_weight_grams","adjustCals","cals_per_serving","selectDay","trip_day","selectType","type","selectTraveler","trav_name","packItems","trips","selectedItem","undefined","state","selectedTripId","image","toString","replace","trim","split","onSubmitForm","e","preventDefault","newId","newName","newCalsPs","isNaN","newImage","newQty","newUnit","newWeight","API","API_UY_ENDPOINT","endpointI","endpointP","urlI","urlP","item","packItem","fetch","method","body","JSON","stringify","headers","API_UY_KEY","then","res","ok","json","error","handleNewItem","handleNewPackItem","routerProps","history","push","getPackitems","catch","getItems","getPackItems","getTrips","itemTypes","brand","quant","Math","round","unit","weight","calsPs","totalWeightnf","totalCalnf","stateQty","parseInt","stateCalsPs","stateServWeight","stateWeightnf","stateCalsnf","text","inputValue","selectedDay","selectedType","selectedTraveler","defaultProps","items","tripItems","selectedTripItems"],"mappings":"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","sourcesContent":["import \"../Font/Font.css\";\nimport \"../FormElements/FormElements.css\";\nimport React, { Component } from \"react\";\nimport BackButton from \"../FormElements/BackButton\";\nimport ForwardButton from \"../FormElements/ForwardButton\";\nimport config from \"../config\";\nimport GoButton from \"../FormElements/GoButton\";\nimport ServUnit from \"../CustomItem/ServUnit\";\nimport UnitQuant from \"../CustomItem/UnitQuant\";\nimport WeightQuant from \"../CustomItem/WeightQuant\";\nimport CalsQuant from \"../CustomItem/CalsQuant\";\nimport Result from \"../CustomItem/Result\";\nimport TripNames from \"../CustomItem/TripNames\";\nimport \"../Tables/Tables.css\";\nimport TripDates from \"../TripDetails/TripDates\";\nimport ItemTypes from \"../CustomItem/ItemTypes\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport NewItemName from \"../CustomItem//NewItemName\";\nimport NewItemBrand from \"../CustomItem/NewItemBrand\";\nimport ItemImage from \"../ItemDetails/ItemImage\"\nimport Moment from 'react-moment';\nimport { v4 as uuidv4 } from 'uuid';\n\n\nimport { ITEMS, DEFAULTITEM, TRIPS, PACKITEMS } from \"../Defaults\";\n\n\nclass ItemAdjust extends Component {\n  static defaultProps = {\n    selectedTrip: TRIPS[0],\n    trips: TRIPS,\n    items: ITEMS,\n    tripItems:ITEMS,\n    selectedTripItems: ITEMS,\n    selectedItem: DEFAULTITEM,\n    item:  DEFAULTITEM,\n    serving_unit: \"\",\n    cals_per_serving: null,\n    packItems: {},\n    name: \"\",\n    selectedTripId: \"\",\n    id: \"\",\n    serving_qty: null,\n    serving_weight_grams: null,\n    trip_day: PACKITEMS[0].trip_day,\n    type: \"\",\n    food_name: \"\",\n    brand_name: \"\",\n    image: ITEMS[0].image\n\n  }\n\n\n  constructor(props) {\n    super(props);\n    \n    const selectedTrip = this.props.selectedTrip\n    const packItems = this.props.packItems\n    const trips = this.props.trips\n    const selectedItem = this.props.selectedItem === undefined ? PACKITEMS[0] : this.props.selectedItem\n\n\n\n    this.state = {\n      selectedItem: selectedItem,\n      selectedTrip: selectedTrip,\n\n      name: !selectedTrip[0]? TRIPS[0].name: selectedTrip[0].name,\n      \n      selectedTripId: !selectedTrip[0]? PACKITEMS[0].id: selectedTrip[0].id,\n      \n      //selectedTrip: !selectedTrip[0]? TRIPS[0] : selectedTrip[0],\n      \n      id:  selectedItem.id,\n      serving_qty: selectedItem.serving_qty,\n      serving_unit: selectedItem.serving_unit,\n      cals_per_serving: selectedItem.cals_per_serving,\n      serving_weight_grams: selectedItem.serving_weight_grams,\n      food_name: selectedItem.food_name,\n      brand_name: selectedItem.brand_name,\n      packItems: {packItems},\n      image: selectedItem.image,\n\n      tripid: !selectedTrip[0]? TRIPS[0].id : selectedTrip[0].id,\n      \n      trip_dates: !selectedTrip[0]? trips[0].trip_dates : \n      selectedTrip[0].trip_dates.toString().replace('{', \"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(','),\n      \n\n       traveler_names: !selectedTrip[0]? TRIPS[0].traveler_names : selectedTrip[0].traveler_names.toString().replace('{', \"\").replace(\"}\",\"\").split(/[ ,]+/),\n\n\n      trip_day: !selectedTrip[0]? PACKITEMS[0].trip_day : selectedTrip[0].trip_dates.toString().replace('{', \"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(',')[0],\n      \n      type: !selectedTrip[0] | selectedItem.type === undefined ? PACKITEMS[0].type : selectedItem.type,\n\n      trav_name: !selectedTrip[0]? PACKITEMS[0].trav_name : selectedItem.trav_name,\n\n      \n    };\n  }\n \n  adjustItemName = (name, id) => {\n    \n    this.setState({\n      food_name: name,\n      id: id\n    }); \n  };\n\n  adjustItemBrand = (newBrand) => {\n    \n    this.setState({\n      brand_name: newBrand,\n    });\n  };\n\n\n  selectTrip = (selectedTrip, tripid) => {\n    const tripName = selectedTrip.name\n    const tripDates = selectedTrip.trip_dates\n    const tripTravelers = selectedTrip.traveler_names\n    this.setState({\n      tripid: tripid,\n      selectedTrip: selectedTrip,    \n      name: tripName,\n      trip_dates: tripDates,\n      traveler_names: tripTravelers\n    });\n  };\n\n  adjustQuant = (input) => {\n    \n    this.setState({\n      serving_qty: input\n    });\n  };\n\n  adjustUnit = (input) => {\n    \n    this.setState({\n      serving_unit: input\n    });\n  };\n\n  adjustWeight = (input) => {\n    \n    this.setState({\n      serving_weight_grams: input\n    });\n  };\n\n  adjustCals = (input, id) => {\n    \n    this.setState({\n      cals_per_serving: input\n    });\n  };\n\n  selectDay = (input) => {\n    \n    this.setState({\n      trip_day: input,\n    });\n  };\n\n\n  selectType = (input) => {\n    \n    this.setState({\n      type: input\n    });\n  };\n\n\n  selectTraveler = (input) => {\n    \n    this.setState({\n      trav_name: input,\n    });\n  };\n\n \n  \n  render() {\n\n  \n      const onSubmitForm = (e) => {\n      e.preventDefault()\n      const newId =  uuidv4()\n      const newName = this.state.food_name\n      const newBrand = this.state.brand_name\n      const newCalsPs = isNaN(this.state.cals_per_serving)? 0 : this.state.cals_per_serving\n      const newImage = this.state.image\n      const newQty = !this.state.serving_qty? 1 : this.state.serving_qty\n      const newUnit = this.state.serving_unit\n      const newWeight = isNaN(this.state.serving_weight_grams)? 0 : this.state.serving_weight_grams \n      const tripid = this.state.tripid      \n      const trip_day = this.state.trip_day\n      const trav_name = this.state.trav_name === undefined ?  \"TBD\" : this.state.trav_name\n      const type = this.state.type\n    \n      const API = config.API_UY_ENDPOINT   \n      const  endpointI = config.endpointI\n      const  endpointP = config.endpointP\n     \n      const urlI = API + endpointI;\n      const urlP = API + endpointP;\n      \n      const item = {\n        id: newId,\n        food_name: newName,\n        serving_unit: newUnit,\n        brand_name: newBrand,\n        serving_qty:  newQty,\n        image: newImage,\n        serving_weight_grams: newWeight,\n        cals_per_serving: newCalsPs\n      }\n      \n      const packItem = {\n        id: newId,\n        tripid: tripid,\n        trip_day: trip_day,\n        trav_name: trav_name,\n        type: type,\n        serving_qty: newQty\n      }\n\n      fetch(urlI, {\n        method: 'POST',\n        body: JSON.stringify(item),\n        headers: {\n          'content-type': 'application/json',\n          'authorization': `bearer ${config.API_UY_KEY}`\n        }\n      })\n        .then(res => {\n          if (!res.ok) {\n            // get the error message from the response,\n            return res.json().then(error => {\n              // then throw it\n              throw error\n            })\n          \n          }\n\n        })\n      \n        .then((newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit) => {\n          this.props.handleNewItem(newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit)\n\n          fetch(urlP, {\n            method: 'POST',\n            body: JSON.stringify(packItem),\n            headers: {\n              'content-type': 'application/json',\n              'authorization': `bearer ${config.API_UY_KEY}`\n            }\n          })\n            .then(res => {\n              if (!res.ok) {\n                // get the error message from the response,\n                return res.json().then(error => {\n                  // then throw it\n                  throw error\n                })\n              }\n              return res.json()\n              \n            })\n            \n            .then((newId, tripid, trip_day, trav_name, type, newQty) => {\n              this.props.handleNewPackItem(newId, tripid, trip_day, trav_name, type, newQty)\n              this.props.routerProps.history.push(\"/trip/:tripName\");\n              this.props.getPackitems(e)\n                    \n            })\n  \n            .catch(error => {\n              this.setState({ error })\n            })\n                \n        })\n       \n        .catch(error => {\n          this.setState({ error })\n        })\n        \n        this.props.getItems(e)\n        this.props.getPackItems(e)\n        this.props.getTrips(e)\n\n    }\n    \n      \n    const trips = this.props.trips;   \n    const itemTypes = this.props.itemTypes;\n    const item = this.props.selectedItem;\n    const image = item.image\n    const name = item.food_name;\n    \n    const brand = !item.brand_name ? \"common\" : item.brand_name;\n    const quant = Math.round(item.serving_qty);\n    const unit = item.serving_unit\n    const weight = Math.round(item.serving_weight_grams);\n    const calsPs = Math.round(item.cals_per_serving);\n    const totalWeightnf = (quant * weight)\n    const totalCalnf = (quant * calsPs)\n    const id = item.id\n    const stateQty = parseInt(this.state.serving_qty)\n    const stateCalsPs = parseInt(this.state.cals_per_serving)\n    const stateServWeight = parseInt(this.state.serving_weight_grams)\n    const stateWeightnf = (stateQty * stateServWeight)\n    const stateCalsnf = (stateQty * stateCalsPs)\n    const text = this.props.text\n    const trip_day = <Moment format= \"MMM/DD\" >{this.state.trip_day}</Moment>\n  \n\n    return (\n      <section className=\"filterForm\">\n           \n          <div className = \"iconButtonsContainer\">\n                <div className = \"back\">\n              <BackButton/>  \n              </div>\n              <div className = \"forward\">\n              <ForwardButton/> \n          </div> \n          </div>    \n          <div className = \"adjustImage\" >\n          <ItemImage \n          image = {image}\n          />\n          </div>\n\n        <form id=\"filter\" onSubmit={onSubmitForm} className = \"blueBackground\">\n          <h2 className=\"montebello white\">{text}<GoButton /></h2>\n                \n            <div className= \"white primaryFont\"></div>  \n                <div>\n                  <div className = \"newI\">\n                  <div className=\"newItems\">\n                    <NewItemName\n                    name = {name}\n                    id = {id}\n                    handleAdjustName= {(inputValue, id) =>\n                      this.adjustItemName(inputValue, id)\n                    }\n                    />\n                 </div>\n                \n                  \n                  <div className=\"newItems\">\n                    <NewItemBrand\n                    brand = {brand}\n                    handleAdjustBrand= {(inputValue) =>\n                      this.adjustItemBrand(inputValue)\n                    }\n                    />\n                  </div>\n                  </div>\n\n            <div className= \"calcBox\">\n              <div className= \"inputsContainer\">\n                <div className= \"inputBox\">\n                  <label\n                    htmlFor= \"serving quantity\"\n                    className= \"labelWidth white\"\n                  ><i className =\"fas fa-coins white mobileHide\"></i>&nbsp;Serving Quantity\n                  </label>\n                  <div className= \"dataInput\">\n                    <UnitQuant\n                    input = {quant}\n                    handleAdjustQuant = {(inputValue) =>\n                      this.adjustQuant(inputValue)\n                    }\n                    />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                <label\n                    htmlFor= \"serving unit\"\n                    className= \"labelWidth white\"\n                  ><i className= \"fas fa-ruler-vertical white mobileHide\"></i>&nbsp;Serving unit\n                  </label>\n                  <div className= \"textInput\">\n                    <ServUnit\n                    id = {id}\n                    input = {unit}\n                    handleAdjustUnit = {(inputValue, id) =>\n                      this.adjustUnit(inputValue, id)\n                    }\n                    />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                  <label\n                    htmlFor= \"weight per serving\"\n                    className= \"labelWidth white\"\n                  > <i className= \"fas fa-balance-scale white mobileHide\"></i>&nbsp;&nbsp;&nbsp;Weight per serving\n                  </label>\n                  <div className=\"dataInput\">\n                  <WeightQuant\n                    input = {weight}\n                    id = {id}\n                   handleAdjustWeight = {(inputValue, id) =>\n                    this.adjustWeight(inputValue, id)\n                  }\n                  />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                  <label\n                    htmlFor=\"calories per serving\"\n                    className=\"labelWidth white\"\n                  ><i className =\"fas fa-fire-alt white mobileHide\"></i>&nbsp;Calories per serving\n                  </label>\n                  <div className=\"dataInput\">\n                  <CalsQuant\n                  input = {calsPs}\n                  id = {id}\n                  handleAdjustCals = {(inputValue, id) =>\n                   this.adjustCals(inputValue, id)\n                 }\n                  />\n                  </div>\n                </div>\n\n              </div>\n\n              <div className=\"resultsContainer\">\n                <div className=\"resultBox\">\n               \n                  <label\n                    className=\"labelWidth white\"\n                  > <i className =\"fas fa-hiking white mobileHide\">\n                  </i>&nbsp;\n                  <strong>Total Weight</strong>\n                  </label>\n                  <div className=\"cellBox redBackground\">\n                    <Result\n                    result =\n                    {stateWeightnf}\n                    placeholder = {totalWeightnf}/>\n                    </div>\n               \n                </div>\n\n                <div className=\"resultBox\">\n               \n                  <label\n                    className=\"labelWidth white\"\n                  > <i className =\"fas fa-fire-alt white mobileHide\"></i>&nbsp;\n                    <strong>Total Calories</strong>\n                  </label>\n                  <div className=\"cellBox redBackground\">\n               \n                    <Result\n                    result = {stateCalsnf} \n                    placeholder = {totalCalnf}\n                    />\n                      </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"filterContainer\">\n        \n          <div className= \"filterSelection\"> \n    \n              <h3 className=\"filterCategory\"><i className =\"fas fa-feather black\"></i>&nbsp;Trip:{\" \"}<span className = \"primaryFont blue skinBackground\">{this.state.name}</span></h3>       \n                <TripNames \n                trips={trips}\n                handleSelectTrip={(selectedTrip, tripid) =>\n                  this.selectTrip(selectedTrip, tripid)\n                }\n                />\n            </div>\n\n            <div className= \"filterSelection\">\n              <h3 className=\"filterCategory\"><i className =\"fas fa-calendar-day black\"></i>&nbsp;Date:{\" \"}<span className = \"primaryFont blue skinBackground\" >{this.state.trip_day === PACKITEMS[0].trip_day | this.state.trip_day === \"undefined\" | this.state.trip_day === undefined | this.state.trip_dates === \"\" |  this.state.trip_dates[0] === \"\" | this.state.trip_dates === undefined |\n              this.state.trip_dates === {} |\n              this.state.trip_dates === \"{}\"\n              ? \"\" : trip_day}</span></h3>\n                <TripDates\n                name = {this.state.name}\n                defaultDay = {PACKITEMS[0].trip_day}\n                tripDates={this.state.trip_dates}\n                handleSelectDay={(selectedDay) =>\n                  this.selectDay(selectedDay)\n                }/>\n            </div>\n\n            <div className= \"filterSelection\">\n              <h3 className=\"filterCategory\"><i className =\"fas fa-utensils black\"></i>&nbsp;Type:{\" \"}<span className = \"primaryFont blue skinBackground\">{this.state.type}</span></h3>\n                <ItemTypes itemTypes={itemTypes}\n                id = {id}\n                handleSelectType={(selectedType) =>\n                  this.selectType(selectedType)\n                }/>\n             </div>\n\n             <div className=\"filterSelection\">\n              <h3 className=\"filterCategory\">  <i className =\"fas fa-user-circle black\"></i>&nbsp;Select traveler:{\" \"}<span className = \"primaryFont blue skinBackground\">{this.state.trav_name}</span></h3>\n                <TripTravelers tripTravelers={this.state.traveler_names}\n                handleSelectTraveler={(selectedTraveler) =>\n                  this.selectTraveler(selectedTraveler)\n                }/>\n             </div>\n          </div>\n          <div className = \"mobileOnly\">\n          <GoButton/>\n        </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default ItemAdjust;\n\n"]},"metadata":{},"sourceType":"module"}