{"ast":null,"code":"import _objectSpread from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../Font/Font.css\";import TripName from\"../TripDetails/TripName\";import TripYear from\"../TripDetails/TripYear\";import Moment from\"react-moment\";import PrintButton from\"../FormElements/PrintButton\";import AddCustomButton from\"../FormElements/AddCustomButton\";import SearchMoreButton from\"../FormElements/SearchMoreButton\";import TripPackGraph from\"../TripDetails/TripPackGraph\";import TripCalorieGraph from\"../TripDetails/TripCalorieGraph\";import{NavLink}from\"react-router-dom\";import ItemName from\"../ItemDetails/ItemName\";import ServingQuant from\"../ItemDetails/ServingQuant\";import ServingUnit from\"../ItemDetails/ServingUnit\";import ServingWeight from\"../ItemDetails/ServingWeight\";import\"./Tables.css\";import CalsPerServing from\"../ItemDetails/CalsPerServing\";import Delete from\"../ItemDetails/Delete\";import ItemHeader from\"./ItemHeader\";import ServQuantHeader from\"./ServQuantHeader\";import UnitHeader from\"./UnitHeader\";import WeightGHeader from\"./WeightGHeader\";import TotalCalHeader from\"./TotalCalHeader\";import DateHeader from\"./DateHeader\";import TypeHeader from\"./TypeHeader\";import TravlrHeader from\"./TravlrHeader\";import DeleteHeader from\"./DeleteHeader\";import DeleteButton from'../FormElements/DeleteButton';import ExcelButton from'../FormElements/ExcelButton';import ItemImage from\"../ItemDetails/ItemImage\";import ItemBrand from\"../ItemDetails/ItemBrand\";import BrandHeader from\"./BrandHeader\";import'../FormElements/FormElements.css';import{ITEMS,TRIPS,PACKITEMS}from\"../Defaults\";import{withRouter}from\"react-router-dom\";import config from\"../config\";import TripTravelers from\"../TripDetails/TripTravelers\";import TripDates from\"../TripDetails/TripDates\";var TripResults=/*#__PURE__*/function(_Component){_inherits(TripResults,_Component);var _super=_createSuper(TripResults);function TripResults(props){var _this;_classCallCheck(this,TripResults);_this=_super.call(this,props);_this.adjustQuant=function(input,id){_this.setState({serving_qty:input,id:id,trip_dates:[],item:{},serving_unit:\"\",calsPs:null,serving_weight_grams:null,trip_day:\"\",type:\"\"});};_this.selectDay=function(input,id){_this.setState({trip_day:input});};_this.selectTraveler=function(input){_this.setState({trav_name:input});};_this.selectItemToDelete=function(id,name){_this.setState({idToDelete:id,nameOfDelete:name});};_this.undoFilter=function(){_this.setState({trav_name:\"\",trip_day:\"\"});};var selectedTrip=_this.props.selectedTrip;_this.state={serving_qty:null,id:\"\",idToDelete:\"\",nameOfDelete:\"\",items:[],tripItems:[],selectedTripItems:[],trav_name:\"\",trip_day:\"\",results:PACKITEMS,selectedTrip:selectedTrip.length===0?TRIPS[0]:selectedTrip};return _this;}_createClass(TripResults,[{key:\"render\",value:function render(){var _this2=this;var selectedTrip=this.state.selectedTrip;console.log(selectedTrip.id);var selectedTripItems=this.props.selectedTripItems;var tripItems=this.props.tripItems;var imageArray=tripItems.map(function(items){return items.image;});var food_nameArray=tripItems.map(function(items){return items.food_name;});var brandArray=tripItems.map(function(items){return items.brand_name;});var fixedUnitArray=tripItems.map(function(items){return items.serving_unit;});var fixedCalPerUnitArray=tripItems.map(function(items){return items.cals_per_serving;});var fixedServingWeightArray=tripItems.map(function(items){return items.serving_weight_grams;});var results=selectedTripItems.map(function(item,i){var food_name=food_nameArray[i];var image=imageArray[i];var brand_name=brandArray[i];var serving_unit=fixedUnitArray[i];var cals_per_serving=fixedCalPerUnitArray[i];var serving_weight_grams=fixedServingWeightArray[i];var resultsObject=_objectSpread({image:image,food_name:food_name,brand_name:brand_name,serving_unit:serving_unit,serving_weight_grams:serving_weight_grams,cals_per_serving:cals_per_serving},item);return resultsObject;});var filterResults=function filterResults(){if(selectedTrip[0].trip_dates===\"{}\"){var resultA=results.filter(function(result){return result.trav_name===_this2.state.trav_name;});return resultA;}else return results.filter(function(result){return result.trip_day===_this2.state.trip_day||result.trav_name===_this2.state.trav_name;});};var filteredResults=filterResults();console.log(selectedTrip[0].trip_dates);console.log(selectedTrip[0]);var resultstoUse=function resultstoUse(){if(selectedTrip[0].trip_dates===\"{}\"&&_this2.state.trav_name.length===0){return results;}else if(selectedTrip[0].trip_dates===\"{}\"&&_this2.state.trav_name.length>0){return filteredResults;}else if(_this2.state.trip_day.length===0&&_this2.state.trav_name.length===0){return results;}else if(_this2.state.trip_day.length>0||_this2.state.trav_name.length>0){return filteredResults;}};var datatoCalc=resultstoUse();var fixedCalPerUnitCalc=datatoCalc.map(function(items){return items.cals_per_serving;});var selectServingQuantCalc=datatoCalc.map(function(items){return items.serving_qty;}).sort();var fixedServingWeightCalc=datatoCalc.map(function(items){return items.serving_weight_grams;});var sum_CalServProducts=fixedCalPerUnitCalc.reduce(function(sum,val,i){return sum+val*selectServingQuantCalc[i];},0);var sum_WeightServProducts=fixedServingWeightCalc.reduce(function(sum,val,i){return sum+val*selectServingQuantCalc[i];},0);var getPackItems=this.props.getPackItems;var getItems=this.props.getItems;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"section\",{className:\"lightBlueBackground\",onMouseOver:getItems},/*#__PURE__*/React.createElement(\"div\",{className:\"lightBlueBackground sticky\",onMouseOver:getPackItems},/*#__PURE__*/React.createElement(\"div\",{className:\"charts sticky cloudBlueBackground\"},/*#__PURE__*/React.createElement(TripCalorieGraph,{cals:sum_CalServProducts}),/*#__PURE__*/React.createElement(TripPackGraph,{weight:sum_WeightServProducts}),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection summary\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"filterCategory black\"},\"  Filters: \\xA0 \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-undo black\",onClick:this.undoFilter}),\" \"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle black\"}),\"\\xA0by traveler\"),/*#__PURE__*/React.createElement(TripTravelers,{stateName:this.state.trav_name,tripTravelers:!selectedTrip[0]?TRIPS[0].traveler_names:selectedTrip[0].traveler_names,handleSelectTraveler:function handleSelectTraveler(selectedTraveler){return _this2.selectTraveler(selectedTraveler);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection summary\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-calendar-day black\"}),\"\\xA0by date:\",\" \"),/*#__PURE__*/React.createElement(TripDates,{stateDate:!results[0]?PACKITEMS[0].trip_day:this.state.trip_day,defaultDay:!results[0]?PACKITEMS[0].trip_day:results[0].trip_day,tripDates:!selectedTrip[0]?TRIPS[0].trip_dates:selectedTrip[0].trip_dates,handleSelectDay:function handleSelectDay(selectedDay){return _this2.selectDay(selectedDay);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonContainer sticky\"}),/*#__PURE__*/React.createElement(\"h2\",{className:\"montebello black sticky resultsTitle\"},/*#__PURE__*/React.createElement(\"div\",{className:\"primaryFont bold white sticky resultsTitle\"},/*#__PURE__*/React.createElement(TripName,{selectedTrip:!selectedTrip[0]?TRIPS[0]:selectedTrip}),/*#__PURE__*/React.createElement(\"span\",{className:\"montebello\"},\"\\xA0Results!\\xA0\",/*#__PURE__*/React.createElement(TripYear,{selectedTrip:!selectedTrip[0]?TRIPS[0]:selectedTrip[0]})))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"excel\"},/*#__PURE__*/React.createElement(ExcelButton,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"print\"},/*#__PURE__*/React.createElement(PrintButton,null)))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DeleteButton,{name:this.state.nameOfDelete,idToDelete:this.state.idToDelete,handleDeleteItem:function handleDeleteItem(idToDelete){return _this2.props.handleDeletePackItem(idToDelete);},endpoint:config.endpointP})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterButtonContainer moreContainer sticky\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/add-custom/\".concat(!selectedTrip[0]?TRIPS[0].name:selectedTrip[0].name)},/*#__PURE__*/React.createElement(AddCustomButton,{addButtonText:this.props.addButtonText})),/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},/*#__PURE__*/React.createElement(SearchMoreButton,null)))),/*#__PURE__*/React.createElement(\"table\",{id:\"results-filtered\",className:\"primaryFont desk\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"blueBackground white\"},/*#__PURE__*/React.createElement(DateHeader,null),/*#__PURE__*/React.createElement(TypeHeader,null),/*#__PURE__*/React.createElement(TravlrHeader,null),/*#__PURE__*/React.createElement(ItemHeader,null),/*#__PURE__*/React.createElement(ServQuantHeader,null),/*#__PURE__*/React.createElement(UnitHeader,null),/*#__PURE__*/React.createElement(WeightGHeader,null),/*#__PURE__*/React.createElement(TotalCalHeader,null),/*#__PURE__*/React.createElement(DeleteHeader,null)),resultstoUse().map(function(item,key){return/*#__PURE__*/React.createElement(\"tr\",{className:\"one whiteBackground black\",key:key},/*#__PURE__*/React.createElement(\"td\",{className:\"date\"},item.trip_day===PACKITEMS[0].trip_day?\"TBD\":/*#__PURE__*/React.createElement(Moment,{format:\"ddd-MMM-DD\"},item.trip_day)),/*#__PURE__*/React.createElement(\"td\",{className:\"type\"},item.type),/*#__PURE__*/React.createElement(\"td\",{className:\"traveler\"},item.trav_name),/*#__PURE__*/React.createElement(\"td\",{className:\"itemH\"},/*#__PURE__*/React.createElement(NavLink,{className:\"noDeco\",to:\"/trip-item/\".concat(item.id),onClick:function onClick(){var selectTripItem=item;_this2.props.handleSelectTripItem(selectTripItem);}},/*#__PURE__*/React.createElement(ItemName,{name:item.food_name}))),/*#__PURE__*/React.createElement(ServingQuant,{input:Math.round(item.serving_qty),id:item.id,handleAdjustQuant:function handleAdjustQuant(inputValue,id){return _this2.adjustQuant(inputValue,id);}}),/*#__PURE__*/React.createElement(ServingUnit,{unit:item.serving_unit}),/*#__PURE__*/React.createElement(ServingWeight,{weight:item.serving_qty*item.serving_weight_grams,result:Math.round(_this2.state.serving_qty*item.serving_weight_grams).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}),/*#__PURE__*/React.createElement(CalsPerServing,{calories:(item.serving_qty*item.cals_per_serving).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\"),result:Math.round(_this2.state.serving_qty*item.cals_per_serving).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}),/*#__PURE__*/React.createElement(Delete,{idToDelete:function idToDelete(id,name){return _this2.selectItemToDelete(id,name);},id:item.id,name:item.food_name}));}))),resultstoUse().map(function(item,key){return/*#__PURE__*/React.createElement(\"table\",{id:\"results-filtered-mobile\",className:\"primaryFont whiteBackground mobileOnly\",key:key},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"mobile\"},/*#__PURE__*/React.createElement(\"td\",{className:\"noBorder\"},/*#__PURE__*/React.createElement(ItemImage,{image:item.image})))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"itemH\"},/*#__PURE__*/React.createElement(ItemHeader,null),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NavLink,{className:\"noDeco\",to:\"/trip-item/\".concat(item.id),onClick:function onClick(){var selectTripItem=item;_this2.props.handleSelectTripItem(selectTripItem);}},/*#__PURE__*/React.createElement(ItemName,{name:item.food_name,item:item,handleSelectedItem:_this2.props.handleSelectedItem}))))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(BrandHeader,null),/*#__PURE__*/React.createElement(ItemBrand,{brand:!item.brand_name?\"common\":item.brand_name}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(DateHeader,null),/*#__PURE__*/React.createElement(\"td\",{className:\"date\"},item.trip_day===PACKITEMS[0].trip_day?\"TBD\":/*#__PURE__*/React.createElement(Moment,{format:\"ddd-MMM-DD\"},item.trip_day)))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TypeHeader,null),/*#__PURE__*/React.createElement(\"td\",{className:\"type\"},item.type))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TravlrHeader,null),/*#__PURE__*/React.createElement(\"td\",{className:\"type\"},item.trav_name))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(UnitHeader,null),/*#__PURE__*/React.createElement(ServingUnit,{unit:item.serving_unit}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(ServQuantHeader,null),/*#__PURE__*/React.createElement(ServingQuant,{input:Math.round(item.serving_qty),id:item.id,handleAdjustQuant:function handleAdjustQuant(inputValue,id){return _this2.adjustQuant(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(WeightGHeader,null),/*#__PURE__*/React.createElement(ServingWeight,{weight:item.serving_qty*item.serving_weight_grams,result:Math.round(_this2.state.serving_qty*item.serving_weight_grams).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TotalCalHeader,null),/*#__PURE__*/React.createElement(CalsPerServing,{calories:(item.serving_qty*item.cals_per_serving).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\"),result:Math.round(_this2.state.serving_qty*item.cals_per_serving).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(DeleteHeader,null),/*#__PURE__*/React.createElement(Delete,{idToDelete:function idToDelete(id,name){return _this2.selectItemToDelete(id,name);},id:item.id,name:item.food_name}))));})));}}]);return TripResults;}(Component);TripResults.defaultProps={selectedTrip:TRIPS[0],items:ITEMS,tripItems:ITEMS,selectedTripItems:ITEMS,results:PACKITEMS};export default withRouter(TripResults);","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Tables/TripResults.js"],"names":["React","Component","TripName","TripYear","Moment","PrintButton","AddCustomButton","SearchMoreButton","TripPackGraph","TripCalorieGraph","NavLink","ItemName","ServingQuant","ServingUnit","ServingWeight","CalsPerServing","Delete","ItemHeader","ServQuantHeader","UnitHeader","WeightGHeader","TotalCalHeader","DateHeader","TypeHeader","TravlrHeader","DeleteHeader","DeleteButton","ExcelButton","ItemImage","ItemBrand","BrandHeader","ITEMS","TRIPS","PACKITEMS","withRouter","config","TripTravelers","TripDates","TripResults","props","adjustQuant","input","id","setState","serving_qty","trip_dates","item","serving_unit","calsPs","serving_weight_grams","trip_day","type","selectDay","selectTraveler","trav_name","selectItemToDelete","name","idToDelete","nameOfDelete","undoFilter","selectedTrip","state","items","tripItems","selectedTripItems","results","length","console","log","imageArray","map","image","food_nameArray","food_name","brandArray","brand_name","fixedUnitArray","fixedCalPerUnitArray","cals_per_serving","fixedServingWeightArray","i","resultsObject","filterResults","resultA","filter","result","filteredResults","resultstoUse","datatoCalc","fixedCalPerUnitCalc","selectServingQuantCalc","sort","fixedServingWeightCalc","sum_CalServProducts","reduce","sum","val","sum_WeightServProducts","getPackItems","getItems","traveler_names","selectedTraveler","selectedDay","handleDeletePackItem","endpointP","addButtonText","key","selectTripItem","handleSelectTripItem","Math","round","inputValue","toFixed","replace","handleSelectedItem","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport TripName from \"../TripDetails/TripName\";\nimport TripYear from \"../TripDetails/TripYear\";\nimport Moment from \"react-moment\";\nimport PrintButton from \"../FormElements/PrintButton\";\nimport AddCustomButton from \"../FormElements/AddCustomButton\";\nimport SearchMoreButton from \"../FormElements/SearchMoreButton\";\nimport TripPackGraph from \"../TripDetails/TripPackGraph\";\nimport TripCalorieGraph from \"../TripDetails/TripCalorieGraph\";\nimport { NavLink } from \"react-router-dom\";\nimport ItemName from \"../ItemDetails/ItemName\";\nimport ServingQuant from \"../ItemDetails/ServingQuant\";\nimport ServingUnit from \"../ItemDetails/ServingUnit\";\nimport ServingWeight from \"../ItemDetails/ServingWeight\";\nimport \"./Tables.css\";\nimport CalsPerServing from \"../ItemDetails/CalsPerServing\";\nimport Delete from \"../ItemDetails/Delete\";\nimport ItemHeader from \"./ItemHeader\"\nimport ServQuantHeader from \"./ServQuantHeader\";\nimport UnitHeader from \"./UnitHeader\";\nimport WeightGHeader from \"./WeightGHeader\";\nimport TotalCalHeader from \"./TotalCalHeader\";\nimport DateHeader from \"./DateHeader\";\nimport TypeHeader from \"./TypeHeader\";\nimport TravlrHeader from \"./TravlrHeader\";\nimport DeleteHeader from \"./DeleteHeader\";\nimport DeleteButton from '../FormElements/DeleteButton';\nimport ExcelButton from '../FormElements/ExcelButton';\nimport ItemImage from \"../ItemDetails/ItemImage\";\nimport ItemBrand from \"../ItemDetails/ItemBrand\";\nimport BrandHeader from \"./BrandHeader\";\nimport '../FormElements/FormElements.css';\nimport { ITEMS, TRIPS, PACKITEMS } from \"../Defaults\";\nimport { withRouter } from \"react-router-dom\";\nimport config from \"../config\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport TripDates from \"../TripDetails/TripDates\";\n\n\nclass TripResults extends Component {\n  static defaultProps = {\n    selectedTrip: TRIPS[0],\n    items: ITEMS,\n    tripItems:ITEMS,\n    selectedTripItems: ITEMS,\n    results: PACKITEMS\n \n    \n  };\n\n  constructor(props) {\n    super(props);\n    const selectedTrip = this.props.selectedTrip\n    this.state = {\n      serving_qty: null,\n      id: \"\",\n      idToDelete: \"\",\n      nameOfDelete: \"\",\n      items: [],\n      tripItems: [],\n      selectedTripItems: [],\n      trav_name: \"\",\n      trip_day: \"\",\n      results: PACKITEMS,\n      selectedTrip: selectedTrip.length === 0? TRIPS[0] : selectedTrip\n          \n      \n    };\n  }\n\n  adjustQuant = (input, id) => {\n    \n    this.setState({\n      serving_qty: input,\n      id: id,\n      trip_dates: [],\n      item: {},\n      serving_unit: \"\",\n      calsPs: null,\n      serving_weight_grams: null,\n      trip_day: \"\",\n      type: \"\"\n    });\n  };\n\n  selectDay = (input, id) => {\n    \n    this.setState({\n      trip_day: input,\n    });\n  };\n\n\n\n  selectTraveler = (input) => {\n    \n    this.setState({\n      trav_name: input,\n    });\n  };\n\n\n\n  selectItemToDelete = (id, name) => {\n    \n    this.setState({\n      idToDelete: id,\n      nameOfDelete: name\n    });\n    \n  };\n\n  undoFilter = () => {\n    \n    this.setState({\n      trav_name: \"\",\n      trip_day: \"\"\n    });\n    \n  };\n  \n\n \n\n  render() {\n    const selectedTrip = this.state.selectedTrip;\n    console.log(selectedTrip.id)\n  \n    const selectedTripItems = this.props.selectedTripItems;\n    const tripItems = this.props.tripItems;\n    \n    const imageArray = tripItems.map((items) => items.image);\n    const food_nameArray = tripItems.map((items) => items.food_name);\n    const brandArray = tripItems.map((items) => items.brand_name);\n    const fixedUnitArray = tripItems.map((items) => items.serving_unit);\n\n\n    const fixedCalPerUnitArray = tripItems.map((items) => items.cals_per_serving);\n\n\n    const fixedServingWeightArray = tripItems.map(\n      (items) => items.serving_weight_grams\n    );\n   \n    const results = selectedTripItems.map((item, i) => {\n    const food_name = food_nameArray[i];\n    const image = imageArray[i];\n    const brand_name = brandArray[i];\n    const serving_unit = fixedUnitArray[i];\n    const cals_per_serving = fixedCalPerUnitArray[i];\n    const serving_weight_grams = fixedServingWeightArray[i];\n    const resultsObject = {\n        image,\n        food_name,\n        brand_name,\n        serving_unit,\n        serving_weight_grams,\n        cals_per_serving,\n        ...item,\n      };\n\n      return resultsObject;\n    });\n\n    const filterResults = () => {\n      if (selectedTrip[0].trip_dates === \"{}\") {\n        const resultA = results.filter(result => result.trav_name === this.state.trav_name)\n        return resultA\n       }\n     else return results.filter(result => (result.trip_day === this.state.trip_day || result.trav_name === this.state.trav_name)\n     )\n    }\n\n    const filteredResults = filterResults ()\n\n   console.log(selectedTrip[0].trip_dates)\n   console.log(selectedTrip[0])\n\n     const resultstoUse = () => {\n       \n       if (selectedTrip[0].trip_dates === \"{}\" && this.state.trav_name.length === 0) {\n        return results\n       }\n       else if (selectedTrip[0].trip_dates === \"{}\" && this.state.trav_name.length > 0) {\n        return filteredResults\n       }\n       else if (this.state.trip_day.length === 0 && this.state.trav_name.length === 0) {return results}\n       else if (this.state.trip_day.length > 0 || this.state.trav_name.length > 0) {return filteredResults}}\n\n     \n     const datatoCalc = resultstoUse()\n\n     const fixedCalPerUnitCalc = datatoCalc.map((items) => items.cals_per_serving);\n\n     const selectServingQuantCalc = datatoCalc\n       .map((items) => items.serving_qty)\n       .sort();\n \n     const fixedServingWeightCalc = datatoCalc.map(\n       (items) => items.serving_weight_grams\n     );\n    \n    const sum_CalServProducts = fixedCalPerUnitCalc.reduce((sum, val, i) => sum + (val * selectServingQuantCalc[i]), 0)\n\n    const sum_WeightServProducts = fixedServingWeightCalc.reduce((sum, val, i) => sum + (val * selectServingQuantCalc[i]), 0)\n\n    const getPackItems = this.props.getPackItems\n    const getItems = this.props.getItems\n     \n    return (\n      <div>\n     \n      <section className=\"lightBlueBackground\"\n      onMouseOver = {getItems}>      \n       \n        <div className = \"lightBlueBackground sticky\" \n        onMouseOver = {getPackItems}>\n           <div className=\"charts sticky cloudBlueBackground\">\n          <TripCalorieGraph cals={sum_CalServProducts}/>\n          <TripPackGraph weight={sum_WeightServProducts}/>\n\n\n          <div className=\"filterSelection summary\">\n          <h2 className=\"filterCategory black\">  Filters: &nbsp; <i className=\"fas fa-undo black\" onClick = {this.undoFilter}></i> </h2> <br></br>\n      \n              <h3 className=\"filterCategory\"> <i className =\"fas fa-user-circle black\"></i>&nbsp;by traveler</h3>\n                <TripTravelers \n                stateName = {this.state.trav_name}\n                tripTravelers={!selectedTrip[0]? TRIPS[0].traveler_names : selectedTrip[0].traveler_names}\n                handleSelectTraveler={(selectedTraveler) =>\n                  this.selectTraveler(selectedTraveler)\n                }/>\n             </div>\n\n             <div className= \"filterSelection summary\">\n              <h3 className=\"filterCategory\"><i className =\"fas fa-calendar-day black\"></i>&nbsp;by date:{\" \"}</h3>\n                <TripDates\n                stateDate = {!results[0]? PACKITEMS[0].trip_day : this.state.trip_day}\n                defaultDay = {!results[0]? PACKITEMS[0].trip_day : results[0].trip_day}\n                tripDates={!selectedTrip[0]? TRIPS[0].trip_dates : selectedTrip[0].trip_dates}\n                handleSelectDay={(selectedDay) =>\n                  this.selectDay(selectedDay)\n                }/>\n            </div>\n\n              \n\n          </div>\n        \n          <div className = \"iconButtonContainer sticky\">\n         \n        </div>\n          <h2 className=\"montebello black sticky resultsTitle\">\n         \n            <div className=\"primaryFont bold white sticky resultsTitle\">\n              <TripName selectedTrip={!selectedTrip[0]? TRIPS[0] : selectedTrip}/><span className = \"montebello\">&nbsp;Results!&nbsp; \n              <TripYear selectedTrip= {!selectedTrip[0]? TRIPS[0] : selectedTrip[0]}/></span>\n            </div>\n          </h2>\n        \n       \n           <div>\n          <div className=\"iconButtonContainer\"> \n             <div className = \"excel\">\n             <ExcelButton\n            />\n            </div>\n             </div>\n             <div className=\"iconButtonContainer\">\n             <div className = \"print\">          \n             <PrintButton/>\n             </div>\n             </div>\n             </div>\n             <div>\n             <DeleteButton\n            name = {this.state.nameOfDelete}\n            idToDelete = {this.state.idToDelete}\n          \n            handleDeleteItem = {(idToDelete) =>\n              this.props.handleDeletePackItem(idToDelete)\n            \n            }\n            endpoint = {config.endpointP}\n             />\n          </div>\n\n          <div className=\"filterButtonContainer moreContainer sticky\">\n            \n            <NavLink to={`/add-custom/${!selectedTrip[0]? TRIPS[0].name :  selectedTrip[0].name}`}>\n              <AddCustomButton \n               addButtonText = {this.props.addButtonText}\n              \n              />\n            </NavLink>\n\n            <NavLink to={`/`}>\n              <SearchMoreButton />\n            </NavLink>\n           \n          </div>\n          </div>\n\n          <table id=\"results-filtered\" className=\"primaryFont desk\">\n            <tbody>\n              <tr className=\"blueBackground white\">  \n                <DateHeader/>\n                <TypeHeader/>\n                <TravlrHeader/>\n                <ItemHeader/>\n                <ServQuantHeader/>\n                <UnitHeader/>\n                <WeightGHeader/>\n                <TotalCalHeader/>\n                <DeleteHeader/>\n             \n              </tr>\n           \n\n              {resultstoUse().map((item, key) => (\n                <tr className=\"one whiteBackground black\" key = {key}>\n                \n                  <td className=\"date\">\n                  {item.trip_day === PACKITEMS[0].trip_day? \"TBD\" :<Moment format=\"ddd-MMM-DD\">{item.trip_day}</Moment>}        \n                  </td>\n\n                  <td className=\"type\">\n                    {item.type}\n                  </td>\n\n                  <td className=\"traveler\"> \n                    {item.trav_name}\n                  </td>\n\n                  <td className=\"itemH\">\n                  <NavLink\n                  className = \"noDeco\"\n                      to={`/trip-item/${item.id}`}\n\n                    onClick={() => {\n                    const selectTripItem =  item\n                    this.props.handleSelectTripItem(selectTripItem)}} \n                       >\n                      <ItemName \n                      name = {item.food_name} />\n                      </NavLink>\n                    </td>\n                  <ServingQuant \n                    input = {Math.round(item.serving_qty)}\n                    id = {item.id}\n                    handleAdjustQuant = {(inputValue, id) =>\n                      this.adjustQuant(inputValue, id)\n                    }\n                    />\n\n                  <ServingUnit unit={item.serving_unit}/>\n\n                  <ServingWeight\n                   weight = {item.serving_qty * item.serving_weight_grams}\n                   result = {Math.round(this.state.serving_qty * item.serving_weight_grams).toFixed(0)\n                    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                   />\n\n                  <CalsPerServing\n                    calories =\n                    {(item.serving_qty * item.cals_per_serving)\n                      .toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                      result = {Math.round(this.state.serving_qty * item.cals_per_serving).toFixed(0)\n                        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                      />\n                  <Delete\n                  idToDelete = {(id, name) => this.selectItemToDelete(id, name)}\n                  id = {item.id}\n                  name = {item.food_name}\n               \n                  />\n                 \n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n         \n          {resultstoUse().map((item, key) => (\n          <table id=\"results-filtered-mobile\" className=\"primaryFont whiteBackground mobileOnly\" key={key}>\n            \n            <tbody>\n             <tr className = \"mobile\" >\n              <td className = \"noBorder\"> \n                <ItemImage image = {item.image}/>\n              </td>\n             </tr>\n            </tbody>\n\n            <tbody>  \n            <tr className=\"itemH\">\n              <ItemHeader/>\n              <td>\n                      <NavLink\n                      className = \"noDeco\"\n                        to={`/trip-item/${item.id}`}\n                        onClick={() => {\n                          const selectTripItem =  item\n                          this.props.handleSelectTripItem(selectTripItem)}} \n                             >\n                      \n                        <ItemName \n                        name = {item.food_name} \n                        item = {item}\n                        handleSelectedItem = {this.props.handleSelectedItem}/>\n                      </NavLink>\n                </td>\n            </tr>\n            </tbody>\n\n            <tbody>\n              <tr>  \n              <BrandHeader/>\n                      <ItemBrand\n                      brand = {!item.brand_name ? \"common\" : item.brand_name}\n                      />\n             </tr>\n            </tbody>\n              \n            <tbody>\n            <tr> \n            <DateHeader/>\n            <td className=\"date\">\n                     {item.trip_day === PACKITEMS[0].trip_day? \"TBD\" :<Moment format=\"ddd-MMM-DD\">{item.trip_day}</Moment>}     \n            </td>\n\n            </tr>\n            </tbody>\n            \n            <tbody>\n            <tr>\n            <TypeHeader/>\n              <td className=\"type\">\n                        {item.type}          \n              </td>\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n            <TravlrHeader/>\n              <td className=\"type\">\n              {item.trav_name}        \n              </td>\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n              <UnitHeader/>\n              <ServingUnit unit={item.serving_unit}/>\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n            <ServQuantHeader/>\n            <ServingQuant \n                      input = {Math.round(item.serving_qty)}\n                      id = {item.id}\n                      handleAdjustQuant = {(inputValue, id) =>\n                        this.adjustQuant(inputValue, id)\n                      }\n                      />\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n            <WeightGHeader/>\n            <ServingWeight\n                    weight = {item.serving_qty * item.serving_weight_grams}\n                    result = {Math.round(this.state.serving_qty * item.serving_weight_grams).toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                    />\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n            <TotalCalHeader/>\n            <CalsPerServing\n                      calories =\n                      {(item.serving_qty * item.cals_per_serving)\n                        .toFixed(0)\n                        .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                        result = {Math.round(this.state.serving_qty * item.cals_per_serving).toFixed(0)\n                          .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                        />\n            </tr>\n            </tbody>\n\n            <tbody>\n            <tr>\n            <DeleteHeader/>\n            <Delete           \n             idToDelete = {(id, name) => this.selectItemToDelete(id, name)}\n             id = {item.id}\n             name = {item.food_name}\n             \n            />\n            </tr>\n            </tbody>\n            </table>\n          ))}\n      </section>\n      </div>\n    );\n  }\n}\n\nexport default withRouter (TripResults);\n"]},"metadata":{},"sourceType":"module"}