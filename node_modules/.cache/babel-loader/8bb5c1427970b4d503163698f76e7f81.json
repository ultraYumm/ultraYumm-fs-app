{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import\"../Font/Font.css\";import SaveButton from\"../FormElements/SaveButton\";import PrintButton from\"../FormElements/PrintButton\";import AddCustomButton from\"../FormElements/AddCustomButton\";import SearchMoreButton from\"../FormElements/SearchMoreButton\";import\"./Tables.css\";import{NavLink}from\"react-router-dom\";import TableItemImage from\"../ItemDetails/TableItemImage\";import ItemImage from\"../ItemDetails/ItemImage\";import ItemName from\"../ItemDetails/ItemName\";import ItemBrand from\"../ItemDetails/ItemBrand\";import ServingQuant from\"../ItemDetails/ServingQuant\";import ServingUnit from\"../ItemDetails/ServingUnit\";import CalsPerHg from\"../ItemDetails/CalsPerHg\";import CalsPerServing from\"../ItemDetails/CalsPerServing\";import ServingWeight from\"../ItemDetails/ServingWeight\";//import Add from \"../ItemDetails/Add\";\nimport{DEFAULTITEM,PACKITEMS}from\"../Defaults\";import ImageHeader from\"./ImageHeader\";import ItemHeader from\"./ItemHeader\";import BrandHeader from\"./BrandHeader\";import ServQuantHeader from\"./ServQuantHeader\";import UnitHeader from\"./UnitHeader\";import WeightGHeader from\"./WeightGHeader\";import TotalCalHeader from\"./TotalCalHeader\";import TotalCalsPhgHeader from\"./TotalCalsPhgHeader\";//import AddHeader from \"./AddHeader\";\nimport BackButton from'../FormElements/BackButton';import ForwardButton from'../FormElements/ForwardButton';import{v4 as uuidv4}from'uuid';import{withRouter}from\"react-router-dom\";var SearchResults=/*#__PURE__*/function(_Component){_inherits(SearchResults,_Component);var _super=_createSuper(SearchResults);function SearchResults(props){var _this;_classCallCheck(this,SearchResults);_this=_super.call(this,props);_this.adjustQuant=function(input,id){_this.setState({serving_qty:input,id:id});};_this.state={serving_qty:0,id:\"\",packItems:PACKITEMS};return _this;}_createClass(SearchResults,[{key:\"render\",value:function render(){var _this2=this;var common=this.props.common;var branded=this.props.branded;Array.prototype.push.apply(common,branded);var commonNutrients=function commonNutrients(){var results=common.map(function(item){return item.full_nutrients;});return results;};var nutrients=commonNutrients();var commonCalsPerS=function commonCalsPerS(){var results=nutrients.map(function(nutrient){var data=nutrient.filter(function(item){return item.attr_id===208;});return data;});return results;};var calorieArray=commonCalsPerS();var removeNoCalNutrients=function removeNoCalNutrients(){for(var i=0;i<common.length;i++){common[i].full_nutrients=calorieArray[i];common[i].image=common[i].photo.thumb;var replace=\"%\";common[i].calsPerServing=common[i].full_nutrients[0].value;common[i].nameId=common[i].food_name.replace(replace,\"\");common[i].id=uuidv4();common[i].calsPhg=!common[i].serving_weight_grams?Math.round(common[i].full_nutrients[0].value):Math.round(common[i].full_nutrients[0].value/common[i].serving_weight_grams*100);}return common;};var newBrandCommonArr=removeNoCalNutrients();newBrandCommonArr.sort(function(b,a){return parseFloat(a.calsPhg)-parseFloat(b.calsPhg);});return/*#__PURE__*/React.createElement(\"section\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"sticky lightBlueBackground\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sticky\"},/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"back\"},/*#__PURE__*/React.createElement(BackButton,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"forward\"},/*#__PURE__*/React.createElement(ForwardButton,null))),/*#__PURE__*/React.createElement(\"h2\",{className:\"montebello searchResultsTitle black\"},\" \",\"See your highest energy results!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"iconButtonContainer\"},/*#__PURE__*/React.createElement(PrintButton,null),/*#__PURE__*/React.createElement(\"span\",{className:\"mobileHide\"},/*#__PURE__*/React.createElement(SaveButton,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"filterButtonContainer moreContainer\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/add-custom\"},/*#__PURE__*/React.createElement(AddCustomButton,null)),/*#__PURE__*/React.createElement(NavLink,{to:\"/\"},/*#__PURE__*/React.createElement(SearchMoreButton,null)))),/*#__PURE__*/React.createElement(\"table\",{id:\"search-results\",className:\"primaryFont desk\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"blueBackground white\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(ImageHeader,null),/*#__PURE__*/React.createElement(ItemHeader,null),/*#__PURE__*/React.createElement(BrandHeader,null),/*#__PURE__*/React.createElement(ServQuantHeader,null),/*#__PURE__*/React.createElement(UnitHeader,null),/*#__PURE__*/React.createElement(WeightGHeader,null),/*#__PURE__*/React.createElement(TotalCalHeader,null),/*#__PURE__*/React.createElement(TotalCalsPhgHeader,null))),/*#__PURE__*/React.createElement(\"tbody\",null,newBrandCommonArr.map(function(item,key){return/*#__PURE__*/React.createElement(\"tr\",{className:\"one whiteBackground black\",key:item.id},/*#__PURE__*/React.createElement(TableItemImage,{image:item.image}),/*#__PURE__*/React.createElement(\"td\",{className:\"itemH\",headers:\"item name\"},/*#__PURE__*/React.createElement(NavLink,{className:\"noDeco\",to:\"/item/\".concat(item.nameId),onClick:function onClick(){var selectedItem=item;_this2.props.handleSelectedItem(selectedItem);}},/*#__PURE__*/React.createElement(ItemName,{name:item.food_name,item:item,handleSelectedItem:_this2.props.handleSelectedItem}))),/*#__PURE__*/React.createElement(ItemBrand,{brand:!item.brand_name?\"common\":item.brand_name}),/*#__PURE__*/React.createElement(ServingQuant,{input:Math.round(item.serving_qty),id:item.id,handleAdjustQuant:function handleAdjustQuant(inputValue,id){return _this2.adjustQuant(inputValue,id);}}),/*#__PURE__*/React.createElement(ServingUnit,{unit:item.serving_unit}),/*#__PURE__*/React.createElement(ServingWeight,{weight:Math.round(item.serving_weight_grams),result:Math.round(_this2.state.serving_qty*item.serving_weight_grams).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}),/*#__PURE__*/React.createElement(CalsPerServing,{calories:Math.round(item.calsPerServing),result:Math.round(_this2.state.serving_qty*item.calsPerServing).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}),/*#__PURE__*/React.createElement(CalsPerHg,{calsPHg:item.calsPhg}));}))),newBrandCommonArr.map(function(item){return/*#__PURE__*/React.createElement(\"table\",{id:\"search-results\",className:\"primaryFont whiteBackground mobileOnly noBorder\",key:item.id},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"mobile\"},/*#__PURE__*/React.createElement(\"td\",{className:\"noBorder\"},/*#__PURE__*/React.createElement(ItemImage,{image:item.image})))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"itemH\"},/*#__PURE__*/React.createElement(ItemHeader,null),/*#__PURE__*/React.createElement(\"td\",{id:\"item name\"},/*#__PURE__*/React.createElement(NavLink,{className:\"noDeco\",to:\"/item/\".concat(item.nameId),onClick:function onClick(){var selectedItem=item;_this2.props.handleSelectedItem(selectedItem);}},/*#__PURE__*/React.createElement(ItemName,{name:item.food_name,item:item,handleSelectedItem:_this2.props.handleSelectedItem}))))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(BrandHeader,null),/*#__PURE__*/React.createElement(ItemBrand,{brand:!item.brand_name?\"common\":item.brand_name}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(ServQuantHeader,null),/*#__PURE__*/React.createElement(ServingQuant,{input:Math.round(item.serving_qty),id:item.id,handleAdjustQuant:function handleAdjustQuant(inputValue,id){return _this2.adjustQuant(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(UnitHeader,null),/*#__PURE__*/React.createElement(ServingUnit,{unit:item.serving_unit}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(WeightGHeader,null),/*#__PURE__*/React.createElement(ServingWeight,{weight:Math.round(item.serving_weight_grams),result:Math.round(_this2.state.serving_qty*item.serving_weight_grams).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TotalCalHeader,null),/*#__PURE__*/React.createElement(CalsPerServing,{calories:Math.round(item.calsPerServing),result:Math.round(_this2.state.serving_qty*item.calsPerServing).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g,\"$1,\")}))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(TotalCalsPhgHeader,null),/*#__PURE__*/React.createElement(CalsPerHg,{calsPHg:item.calsPhg}))));}));}}]);return SearchResults;}(Component);SearchResults.defaultProps={results:{},common:[],branded:[],item:DEFAULTITEM,thumb:\"\",packItems:PACKITEMS};export default withRouter(SearchResults);/*\n<AddHeader/>\n\n<Add \ntrips={trips} />*/","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Tables/SearchResults.js"],"names":["React","Component","SaveButton","PrintButton","AddCustomButton","SearchMoreButton","NavLink","TableItemImage","ItemImage","ItemName","ItemBrand","ServingQuant","ServingUnit","CalsPerHg","CalsPerServing","ServingWeight","DEFAULTITEM","PACKITEMS","ImageHeader","ItemHeader","BrandHeader","ServQuantHeader","UnitHeader","WeightGHeader","TotalCalHeader","TotalCalsPhgHeader","BackButton","ForwardButton","v4","uuidv4","withRouter","SearchResults","props","adjustQuant","input","id","setState","serving_qty","state","packItems","common","branded","Array","prototype","push","apply","commonNutrients","results","map","item","full_nutrients","nutrients","commonCalsPerS","nutrient","data","filter","attr_id","calorieArray","removeNoCalNutrients","i","length","image","photo","thumb","replace","calsPerServing","value","nameId","food_name","calsPhg","serving_weight_grams","Math","round","newBrandCommonArr","sort","b","a","parseFloat","key","selectedItem","handleSelectedItem","brand_name","inputValue","serving_unit","toFixed","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport SaveButton from \"../FormElements/SaveButton\";\nimport PrintButton from \"../FormElements/PrintButton\";\nimport AddCustomButton from \"../FormElements/AddCustomButton\";\nimport SearchMoreButton from \"../FormElements/SearchMoreButton\";\nimport \"./Tables.css\";\nimport { NavLink } from \"react-router-dom\";\nimport TableItemImage from \"../ItemDetails/TableItemImage\";\nimport ItemImage from \"../ItemDetails/ItemImage\";\nimport ItemName from \"../ItemDetails/ItemName\";\nimport ItemBrand from \"../ItemDetails/ItemBrand\";\nimport ServingQuant from \"../ItemDetails/ServingQuant\";\nimport ServingUnit from \"../ItemDetails/ServingUnit\";\nimport CalsPerHg from \"../ItemDetails/CalsPerHg\";\nimport CalsPerServing from \"../ItemDetails/CalsPerServing\";\nimport ServingWeight from \"../ItemDetails/ServingWeight\";\n//import Add from \"../ItemDetails/Add\";\nimport { DEFAULTITEM, PACKITEMS} from \"../Defaults\";\nimport ImageHeader from \"./ImageHeader\"\nimport ItemHeader from \"./ItemHeader\"\nimport BrandHeader from \"./BrandHeader\";\nimport ServQuantHeader from \"./ServQuantHeader\";\nimport UnitHeader from \"./UnitHeader\";\nimport WeightGHeader from \"./WeightGHeader\";\nimport TotalCalHeader from \"./TotalCalHeader\";\nimport TotalCalsPhgHeader from \"./TotalCalsPhgHeader\";\n//import AddHeader from \"./AddHeader\";\nimport BackButton from '../FormElements/BackButton';\nimport ForwardButton from '../FormElements/ForwardButton';\nimport { v4 as uuidv4 } from 'uuid';\nimport { withRouter } from \"react-router-dom\";\n\n\nclass SearchResults extends Component {\n  static defaultProps = {\n    results: {},\n    common: [],\n    branded: [],\n    item:  DEFAULTITEM,\n    thumb: \"\",\n    packItems: PACKITEMS\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      serving_qty: 0,\n      id: \"\",\n      packItems: PACKITEMS\n\n    \n      \n    };\n  }\n\n  adjustQuant = (input, id) => {\n    \n    this.setState({\n      serving_qty: input,\n      id: id\n    });\n  };\n\n  \n\n\n  render() {\n\n    const common = this.props.common;\n    const branded = this.props.branded;\n   \n    Array.prototype.push.apply(common, branded);\n\n    const commonNutrients = () => {\n      var results = common.map((item) => item.full_nutrients);\n      return results;\n    };\n\n    const nutrients = commonNutrients();\n\n    const commonCalsPerS = () => {\n      var results = nutrients.map((nutrient) => {\n        var data = nutrient.filter((item) => item.attr_id === 208);\n        return data;\n      });\n      return results;\n    };\n\n    const calorieArray = commonCalsPerS();\n\n    const removeNoCalNutrients = () => {\n      for (let i = 0; i < common.length; i++) {\n        common[i].full_nutrients = calorieArray[i];\n        \n        common[i].image = common[i].photo.thumb\n        const replace = \"%\";\n        common[i].calsPerServing = common[i].full_nutrients[0].value\n        common[i].nameId = common[i].food_name.replace(replace, \"\");\n        common[i].id = uuidv4()\n        common[i].calsPhg = !common[i].serving_weight_grams\n          ? Math.round(common[i].full_nutrients[0].value)\n          : Math.round(\n              (common[i].full_nutrients[0].value /\n                common[i].serving_weight_grams) *\n                100\n            );\n      }\n      return common;\n    };\n\n    const newBrandCommonArr = removeNoCalNutrients();\n\n    newBrandCommonArr.sort(\n      (b, a) => parseFloat(a.calsPhg) - parseFloat(b.calsPhg)\n    );\n\n\n    \n    return (\n      <section>\n            \n        <div className = \"sticky lightBlueBackground\">\n       \n        <div className = \"sticky\">\n        <div className = \"iconButtonsContainer\">\n                <div className = \"back\">\n              <BackButton/>  \n              </div>\n              <div className = \"forward\">\n              <ForwardButton/> \n        </div> \n       \n        </div>\n          <h2 className=\"montebello searchResultsTitle black\">\n            {\" \"}\n            See your highest energy results!\n          </h2>\n        </div> \n\n        <div className=\"iconButtonContainer\">\n          <PrintButton />\n          <span className= \"mobileHide\">\n          <SaveButton />\n          </span>\n        </div>\n        \n          <div className=\"filterButtonContainer moreContainer\">\n            <NavLink to={`/add-custom`}\n           >\n              <AddCustomButton />\n            </NavLink>\n\n            <NavLink to={`/`}>\n              <SearchMoreButton />\n            </NavLink>\n          </div>\n          </div>\n          <table id=\"search-results\" className=\"primaryFont desk\">\n            \n              <thead className=\"blueBackground white\">\n                <tr>\n                <ImageHeader/>\n                <ItemHeader/>\n                <BrandHeader/>\n                <ServQuantHeader/>\n                <UnitHeader/>\n                <WeightGHeader/>\n                <TotalCalHeader/> \n                <TotalCalsPhgHeader/> \n                </tr>\n              </thead>\n              \n              <tbody>\n\n              {newBrandCommonArr.map((item, key) => (\n                <tr className=\"one whiteBackground black\" key={item.id}>\n                   \n                   <TableItemImage image = {item.image}/>\n                \n                  <td className=\"itemH\" headers = \"item name\">\n                    <NavLink\n                     className = \"noDeco\"\n                      to={`/item/${item.nameId}`}\n                      onClick={() => {\n                        const selectedItem = item;\n                        this.props.handleSelectedItem(selectedItem);\n                      }}\n                    >\n                      <ItemName \n                      name = {item.food_name} \n                      item = {item}\n                      handleSelectedItem = {this.props.handleSelectedItem}/>\n                    </NavLink>\n                  </td>\n\n                    <ItemBrand\n                    brand = {!item.brand_name ? \"common\" : item.brand_name}\n                    />\n                    <ServingQuant \n                    input = {Math.round(item.serving_qty)}\n                    id = {item.id}\n                    handleAdjustQuant = {(inputValue, id) =>\n                      this.adjustQuant(inputValue, id)\n                    }/>\n                    <ServingUnit unit={item.serving_unit} />\n                    <ServingWeight\n                    weight =  {Math.round(item.serving_weight_grams)}\n                    result = {Math.round(this.state.serving_qty * item.serving_weight_grams).toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                    />\n                    <CalsPerServing\n                    calories =  {Math.round(item.calsPerServing)}\n                    result = {Math.round(this.state.serving_qty * item.calsPerServing ).toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                    />   \n                    <CalsPerHg\n                      calsPHg = {item.calsPhg}\n                    />\n               \n              </tr>\n              ))}\n            </tbody>\n         </table>\n\n         \n          {newBrandCommonArr.map((item) => ( \n          <table id=\"search-results\" className=\"primaryFont whiteBackground mobileOnly noBorder\"  key={item.id}>\n           \n           <tbody>\n            <tr className = \"mobile\">\n              <td className = \"noBorder\">\n              <ItemImage image = {item.image}/>\n              </td>\n            </tr>\n           </tbody>\n\n           <tbody>\n            <tr className=\"itemH\">\n            <ItemHeader/>\n              <td id= \"item name\">  \n                    <NavLink\n                     className = \"noDeco\"\n                      to={`/item/${item.nameId}`}\n                      onClick={() => {\n                        const selectedItem = item;\n                        this.props.handleSelectedItem(selectedItem);\n                      }}\n                    >\n                      <ItemName \n                      name = {item.food_name} \n                      item = {item}\n                      handleSelectedItem = {this.props.handleSelectedItem}\n                   \n                      />\n                    </NavLink>\n                 </td>\n              </tr>\n            </tbody>\n\n            <tbody>\n              <tr>\n                <BrandHeader/>\n                    <ItemBrand\n                    brand = {!item.brand_name ? \"common\" : item.brand_name}\n                    />\n             </tr>\n           </tbody>\n           \n            <tbody>\n              <tr>\n                <ServQuantHeader/>\n                  <ServingQuant \n                            input = {Math.round(item.serving_qty)}\n                            id = {item.id}\n                            handleAdjustQuant = {(inputValue, id) =>\n                              this.adjustQuant(inputValue, id)\n                            }/>\n            </tr>\n          </tbody>\n       \n          <tbody>\n           <tr>\n              <UnitHeader/>\n                <ServingUnit unit={item.serving_unit} />\n          </tr>\n          </tbody>\n         \n          <tbody>\n           <tr>     \n             <WeightGHeader/>\n                    <ServingWeight\n                    weight =  {Math.round(item.serving_weight_grams)}\n                    result = {Math.round(this.state.serving_qty * item.serving_weight_grams).toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                    />\n          </tr>\n         </tbody>\n\n         <tbody>\n          <tr>        \n                <TotalCalHeader/> \n                <CalsPerServing\n                    calories =  {Math.round(item.calsPerServing)}\n                    result = {Math.round(this.state.serving_qty * item.calsPerServing ).toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                    />   \n          </tr> \n         </tbody>\n       \n         <tbody>\n          <tr>\n                <TotalCalsPhgHeader/> \n                <CalsPerHg\n                      calsPHg = {item.calsPhg}\n                    />\n          </tr>\n         </tbody>\n\n          </table>))}    \n      </section>\n    );\n  }\n}\n\nexport default withRouter (SearchResults);\n/*\n<AddHeader/>\n\n<Add \ntrips={trips} />*/\n\n"]},"metadata":{},"sourceType":"module"}