{"ast":null,"code":"var _jsxFileName = \"/Users/Stephanie/coding/ultrayumm-fs-app/src/Tables/TripResults.js\";\nimport React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport TripName from \"../TripDetails/TripName\";\nimport TripDates from \"../TripDetails/TripDates\";\nimport ItemTypes from \"../CustomItem/ItemTypes\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport TripYear from \"../TripDetails/TripYear\";\nimport Moment from \"react-moment\";\nimport SaveButton from \"../FormElements/SaveButton\";\nimport ResetButton from \"../FormElements/ResetButton\";\nimport PrintButton from \"../FormElements/PrintButton\";\nimport AddCustomButton from \"../FormElements/AddCustomButton\";\nimport GoToFiltersButton from \"../FormElements/GoToFiltersButton\";\nimport SearchMoreButton from \"../FormElements/SearchMoreButton\";\nimport TripPackGraph from \"../TripDetails/TripPackGraph\";\nimport TripCalorieGraph from \"../TripDetails/TripCalorieGraph\";\nimport { NavLink } from \"react-router-dom\";\nimport ItemName from \"../ItemDetails/ItemName\";\nimport ServingQuant from \"../ItemDetails/ServingQuant\";\nimport ServingUnit from \"../ItemDetails/ServingUnit\";\nimport ServingWeight from \"../ItemDetails/ServingWeight\";\nimport \"./Tables.css\";\nimport CalsPerServing from \"../ItemDetails/CalsPerServing\";\nimport Delete from \"../ItemDetails/Delete\";\nimport ItemHeader from \"./ItemHeader\";\nimport ServQuantHeader from \"./ServQuantHeader\";\nimport UnitHeader from \"./UnitHeader\";\nimport WeightGHeader from \"./WeightGHeader\";\nimport TotalCalHeader from \"./TotalCalHeader\";\nimport DateHeader from \"./DateHeader\";\nimport TypeHeader from \"./TypeHeader\";\nimport TravlrHeader from \"./TravlrHeader\";\nimport DeleteHeader from \"./DeleteHeader\";\nimport BackButton from '../FormElements/BackButton';\nimport ForwardButton from '../FormElements/ForwardButton';\n\nclass TripResults extends Component {\n  constructor(props) {\n    super(props);\n\n    this.adjustQuant = (input, id) => {\n      this.setState({\n        serving_qty: input,\n        id: id\n      });\n    };\n\n    this.state = {\n      serving_qty: null,\n      id: \"\"\n    };\n  }\n\n  render() {\n    const selectedTrip = this.props.selectedTrip;\n    const tripDates = selectedTrip[0].trip_dates;\n    const tripTravelers = selectedTrip[0].traveler_names;\n    const selectedTripItems = this.props.selectedTripItems;\n    const tripItems = this.props.tripItems;\n    const imageArray = tripItems.map(items => items.image);\n    const food_nameArray = tripItems.map(items => items.food_name);\n    const brandArray = tripItems.map(items => items.brand_name);\n    const fixedUnitArray = tripItems.map(items => items.serving_unit);\n    const fixedCalPerUnitArray = tripItems.map(items => items.calsPerServing);\n    const selectServingQuantArray = selectedTripItems.map(items => items.serving_qty).sort();\n    const fixedServingWeightArray = tripItems.map(items => items.serving_weight_grams);\n    const itemTypes = this.props.itemTypes;\n    const results = selectedTripItems.map((item, i) => {\n      const food_name = food_nameArray[i];\n      const image = imageArray[i];\n      const brand_name = brandArray[i];\n      const serving_unit = fixedUnitArray[i];\n      const calsPerServing = fixedCalPerUnitArray[i];\n      const serving_weight_grams = fixedServingWeightArray[i];\n      const resultsObject = {\n        image,\n        food_name,\n        brand_name,\n        serving_unit,\n        serving_weight_grams,\n        calsPerServing,\n        ...item\n      };\n      return resultsObject;\n    });\n    console.log(results);\n\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n    const sumCalsPerServing = () => {\n      if (fixedCalPerUnitArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n\n      return fixedCalPerUnitArray.reduce(reducer);\n    };\n\n    const sumWeightsPerServing = () => {\n      if (fixedServingWeightArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n\n      return fixedServingWeightArray.reduce(reducer);\n    };\n\n    console.log(sumWeightsPerServing());\n\n    const sumServings = () => {\n      if (selectServingQuantArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n\n      return selectServingQuantArray.reduce(reducer);\n    };\n\n    const totalCals = sumCalsPerServing() * sumServings();\n    const totalWeightKg = sumWeightsPerServing() * sumServings() / 1000;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"lightBlueBackground\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"charts redBackground\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TripCalorieGraph, {\n      cals: totalCals,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TripPackGraph, {\n      weight: totalWeightKg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"montebello\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"resultsTitle montebello white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TripName, {\n      selectedTrip: selectedTrip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }), \"Results!\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"resultsTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TripYear, {\n      selectedTrip: selectedTrip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filterButtonContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(BackButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ForwardButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(SaveButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(PrintButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(ResetButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"filterButtonContainer moreContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: \"hidden\",\n      to: `/trip-filter/${selectedTrip[0].food_name}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GoToFiltersButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(NavLink, {\n      to: `/add-custom/${selectedTrip[0].food_name}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AddCustomButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(NavLink, {\n      to: `/`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SearchMoreButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"results-filtered\",\n      className: \"primaryFont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"blueBackground white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DateHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TypeHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TravlrHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ItemHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(ServQuantHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(UnitHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(WeightGHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TotalCalHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(DeleteHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    })), results.map((item, key) => /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"one whiteBackground black\",\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Moment, {\n      format: \"ddd-MMM-DD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, item.tripDay), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tableScroll tableAdjust add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 21\n      }\n    }, \" \", /*#__PURE__*/React.createElement(TripDates, {\n      tripDates: tripDates,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, item.type, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tableScroll tableAdjust add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(ItemTypes, {\n      itemTypes: itemTypes,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"traveler\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 19\n      }\n    }, item.travName, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tableScroll tableAdjust add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TripTravelers, {\n      tripTravelers: tripTravelers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"itemH\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: \"noDeco\",\n      to: `/trip-item/${item.id}`,\n      onClick: () => {\n        const selectTripItem = item;\n        this.props.handleSelectTripItem(selectTripItem);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(ItemName, {\n      name: item.food_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(ServingQuant, {\n      quant: Math.round(item.serving_qty),\n      id: item.id,\n      handleAdjustQuant: (inputValue, id) => this.adjustQuant(inputValue, id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(ServingUnit, {\n      unit: item.serving_unit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(ServingWeight, {\n      weight: item.serving_qty * item.serving_weight_grams,\n      result: Math.round(this.state.serving_qty * item.serving_weight_grams),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(CalsPerServing, {\n      calories: (item.serving_qty * item.calsPerServing).toFixed(0).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\"),\n      result: Math.round(this.state.serving_qty * item.calsPerServing),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Delete, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 19\n      }\n    }))))));\n  }\n\n}\n\nTripResults.defaultProps = {\n  selectedTrip: []\n};\nexport default TripResults;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/Tables/TripResults.js"],"names":["React","Component","TripName","TripDates","ItemTypes","TripTravelers","TripYear","Moment","SaveButton","ResetButton","PrintButton","AddCustomButton","GoToFiltersButton","SearchMoreButton","TripPackGraph","TripCalorieGraph","NavLink","ItemName","ServingQuant","ServingUnit","ServingWeight","CalsPerServing","Delete","ItemHeader","ServQuantHeader","UnitHeader","WeightGHeader","TotalCalHeader","DateHeader","TypeHeader","TravlrHeader","DeleteHeader","BackButton","ForwardButton","TripResults","constructor","props","adjustQuant","input","id","setState","serving_qty","state","render","selectedTrip","tripDates","trip_dates","tripTravelers","traveler_names","selectedTripItems","tripItems","imageArray","map","items","image","food_nameArray","food_name","brandArray","brand_name","fixedUnitArray","serving_unit","fixedCalPerUnitArray","calsPerServing","selectServingQuantArray","sort","fixedServingWeightArray","serving_weight_grams","itemTypes","results","item","i","resultsObject","console","log","reducer","accumulator","currentValue","sumCalsPerServing","length","defaultResult","reduce","sumWeightsPerServing","sumServings","totalCals","totalWeightKg","key","tripDay","type","travName","selectTripItem","handleSelectTripItem","Math","round","inputValue","toFixed","replace","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../Font/Font.css\";\nimport TripName from \"../TripDetails/TripName\";\nimport TripDates from \"../TripDetails/TripDates\";\nimport ItemTypes from \"../CustomItem/ItemTypes\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport TripYear from \"../TripDetails/TripYear\";\nimport Moment from \"react-moment\";\nimport SaveButton from \"../FormElements/SaveButton\";\nimport ResetButton from \"../FormElements/ResetButton\";\nimport PrintButton from \"../FormElements/PrintButton\";\nimport AddCustomButton from \"../FormElements/AddCustomButton\";\nimport GoToFiltersButton from \"../FormElements/GoToFiltersButton\";\nimport SearchMoreButton from \"../FormElements/SearchMoreButton\";\nimport TripPackGraph from \"../TripDetails/TripPackGraph\";\nimport TripCalorieGraph from \"../TripDetails/TripCalorieGraph\";\nimport { NavLink } from \"react-router-dom\";\nimport ItemName from \"../ItemDetails/ItemName\";\nimport ServingQuant from \"../ItemDetails/ServingQuant\";\nimport ServingUnit from \"../ItemDetails/ServingUnit\";\nimport ServingWeight from \"../ItemDetails/ServingWeight\";\nimport \"./Tables.css\";\nimport CalsPerServing from \"../ItemDetails/CalsPerServing\";\nimport Delete from \"../ItemDetails/Delete\";\nimport ItemHeader from \"./ItemHeader\"\nimport ServQuantHeader from \"./ServQuantHeader\";\nimport UnitHeader from \"./UnitHeader\";\nimport WeightGHeader from \"./WeightGHeader\";\nimport TotalCalHeader from \"./TotalCalHeader\";\nimport DateHeader from \"./DateHeader\";\nimport TypeHeader from \"./TypeHeader\";\nimport TravlrHeader from \"./TravlrHeader\";\nimport DeleteHeader from \"./DeleteHeader\";\nimport BackButton from '../FormElements/BackButton';\nimport ForwardButton from '../FormElements/ForwardButton';\n\n\nclass TripResults extends Component {\n  static defaultProps = {\n    selectedTrip: [],\n    \n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      serving_qty: null,\n      id: \"\"\n    \n      \n    };\n  }\n\n  adjustQuant = (input, id) => {\n    \n    this.setState({\n      serving_qty: input,\n      id: id\n    });\n  };\n \n\n  render() {\n    const selectedTrip = this.props.selectedTrip;\n    const tripDates = selectedTrip[0].trip_dates\n    const tripTravelers = selectedTrip[0].traveler_names\n    const selectedTripItems = this.props.selectedTripItems;\n    const tripItems = this.props.tripItems;\n    const imageArray = tripItems.map((items) => items.image);\n    const food_nameArray = tripItems.map((items) => items.food_name);\n    const brandArray = tripItems.map((items) => items.brand_name);\n    const fixedUnitArray = tripItems.map((items) => items.serving_unit);\n    const fixedCalPerUnitArray = tripItems.map((items) => items.calsPerServing);\n    const selectServingQuantArray = selectedTripItems\n      .map((items) => items.serving_qty)\n      .sort();\n    const fixedServingWeightArray = tripItems.map(\n      (items) => items.serving_weight_grams\n    );\n    const itemTypes = this.props.itemTypes;\n    const results = selectedTripItems.map((item, i) => {\n    const food_name = food_nameArray[i];\n    const image = imageArray[i];\n    const brand_name = brandArray[i];\n    const serving_unit = fixedUnitArray[i];\n    const calsPerServing = fixedCalPerUnitArray[i];\n    const serving_weight_grams = fixedServingWeightArray[i];\n    const resultsObject = {\n        image,\n        food_name,\n        brand_name,\n        serving_unit,\n        serving_weight_grams,\n        calsPerServing,\n        ...item,\n      };\n\n      return resultsObject;\n    });\n\n    console.log(results)\n    const reducer = (accumulator, currentValue) => accumulator + currentValue;\n    const sumCalsPerServing = () => {\n      if (fixedCalPerUnitArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n      return fixedCalPerUnitArray.reduce(reducer);\n    };\n    const sumWeightsPerServing = () => {\n      if (fixedServingWeightArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n      return fixedServingWeightArray.reduce(reducer);\n    };\n    console.log(sumWeightsPerServing());\n    const sumServings = () => {\n      if (selectServingQuantArray.length === 0) {\n        const defaultResult = 1;\n        return defaultResult;\n      }\n\n      return selectServingQuantArray.reduce(reducer);\n    };\n\n    const totalCals = sumCalsPerServing() * sumServings();\n    const totalWeightKg = (sumWeightsPerServing() * sumServings()) / 1000;\n\n    return (\n      <section className=\"lightBlueBackground\">\n        <div className=\"charts redBackground\">\n         \n          <TripCalorieGraph cals={totalCals}/>\n          <TripPackGraph weight={totalWeightKg}/>\n        </div>\n        <div>\n          <h2 className=\"montebello\">\n            <span className=\"resultsTitle montebello white\">\n              <TripName selectedTrip={selectedTrip}/>Results!\n            </span>\n            <span className=\"resultsTitle\">\n              <TripYear selectedTrip={selectedTrip}/>\n            </span>\n          </h2>\n        </div>\n\n          <div className=\"filterButtonContainer\">\n          <BackButton/>\n          <ForwardButton/>\n            <SaveButton/>\n            <PrintButton/>\n            <ResetButton/>\n          </div>\n\n          <div className=\"filterButtonContainer moreContainer\">\n            <NavLink \n            className= \"hidden\" \n            to={`/trip-filter/${selectedTrip[0].food_name}`}>\n              <GoToFiltersButton />\n            </NavLink>\n\n            <NavLink to={`/add-custom/${selectedTrip[0].food_name}`}>\n              <AddCustomButton />\n            </NavLink>\n\n            <NavLink to={`/`}>\n              <SearchMoreButton />\n            </NavLink>\n          </div>\n\n          <table id=\"results-filtered\" className=\"primaryFont\">\n            <tbody>\n              <tr className=\"blueBackground white\">\n              \n                <DateHeader/>\n                <TypeHeader/>\n                <TravlrHeader/>\n                <ItemHeader/>\n                <ServQuantHeader/>\n                <UnitHeader/>\n                <WeightGHeader/>\n                <TotalCalHeader/>\n                <DeleteHeader/>\n               \n              </tr>\n\n              {results.map((item, key) => (\n                <tr className=\"one whiteBackground black\" key={item.id}>\n                \n\n                  <td className=\"date\">\n                    <Moment format=\"ddd-MMM-DD\">{item.tripDay}</Moment>\n                    <div className=\"tableScroll tableAdjust add\">\n                      {\" \"}\n                      <TripDates tripDates={tripDates}/>\n                    </div>\n                  </td>\n\n                  <td className=\"type\">\n                    {item.type}\n                    <div className=\"tableScroll tableAdjust add\">\n                      <ItemTypes itemTypes={itemTypes}/>\n                    </div>\n                  </td>\n\n                  <td className=\"traveler\">\n                    {item.travName}\n                    <div className=\"tableScroll tableAdjust add\">\n                      <TripTravelers\n                        tripTravelers={tripTravelers}\n                      />\n                    </div>\n                  </td>\n\n                  <td className=\"itemH\">\n                  <NavLink\n                  className = \"noDeco\"\n                      to={`/trip-item/${item.id}`}\n\n                    onClick={() => {\n                    const selectTripItem =  item\n                    this.props.handleSelectTripItem(selectTripItem)}}                     \n                       >\n                      <ItemName \n                      name = {item.food_name} />\n                      </NavLink>\n                    </td>\n                  <ServingQuant \n                    quant = {Math.round(item.serving_qty)}\n                    id = {item.id}\n                    handleAdjustQuant = {(inputValue, id) =>\n                      this.adjustQuant(inputValue, id)\n                    }\n                    />\n\n                  <ServingUnit unit={item.serving_unit}/>\n\n                  <ServingWeight\n                   weight = {item.serving_qty * item.serving_weight_grams}\n                   result = {Math.round(this.state.serving_qty * item.serving_weight_grams )}\n                   />\n\n                  <CalsPerServing\n                    calories =\n                    {(item.serving_qty * item.calsPerServing)\n                      .toFixed(0)\n                      .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\n                      result = {Math.round(this.state.serving_qty * item.calsPerServing )}\n                      />\n                  <Delete/>\n                 \n                </tr>\n              ))}\n            </tbody>\n          </table>\n      </section>\n    );\n  }\n}\n\nexport default TripResults;\n\n"]},"metadata":{},"sourceType":"module"}