{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/coding/ultrayumm-fs-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import\"../Font/Font.css\";import\"../FormElements/FormElements.css\";import React,{Component}from\"react\";import{NavLink}from'react-router-dom';import config from\"../config\";import GoButton from\"../FormElements/GoButton\";import ServUnit from\"../CustomItem/ServUnit\";import UnitQuant from\"../CustomItem/UnitQuant\";import WeightQuant from\"../CustomItem/WeightQuant\";import CalsQuant from\"../CustomItem/CalsQuant\";import Result from\"../CustomItem/Result\";import TripNames from\"../CustomItem/TripNames\";import\"../Tables/Tables.css\";import TripDates from\"../TripDetails/TripDates\";import ItemTypes from\"../CustomItem/ItemTypes\";import TripTravelers from\"../TripDetails/TripTravelers\";import NewItemName from\"../CustomItem//NewItemName\";import NewItemBrand from\"../CustomItem/NewItemBrand\";import ItemImage from\"../ItemDetails/ItemImage\";import Moment from'react-moment';import{v4 as uuidv4}from'uuid';import{Auth}from'aws-amplify';import{ITEMS,DEFAULTITEM,TRIPS,PACKITEMS}from\"../Defaults\";var ItemAdjust=/*#__PURE__*/function(_Component){_inherits(ItemAdjust,_Component);var _super=_createSuper(ItemAdjust);function ItemAdjust(props){var _this;_classCallCheck(this,ItemAdjust);_this=_super.call(this,props);_this.adjustItemName=function(name,id){_this.setState({food_name:name,id:id});};_this.adjustItemBrand=function(newBrand){_this.setState({brand_name:newBrand});};_this.selectTrip=function(selectedTrip,tripid){var tripName=selectedTrip.name;var tripDates=selectedTrip.trip_dates;var tripTravelers=selectedTrip.traveler_names;_this.setState({tripid:tripid,selectedTrip:selectedTrip,name:tripName,trip_dates:tripDates,traveler_names:tripTravelers});_this.props.handleSelectTrip(tripid,tripName);};_this.adjustQuant=function(input){_this.setState({serving_qty:input});};_this.adjustUnit=function(input){_this.setState({serving_unit:input});};_this.adjustWeight=function(input){_this.setState({serving_weight_grams:input});};_this.adjustCals=function(input,id){_this.setState({cals_per_serving:input});};_this.selectDay=function(input){_this.setState({trip_day:input});};_this.selectType=function(input){_this.setState({type:input});};_this.selectTraveler=function(input){_this.setState({trav_name:input});};var _selectedTrip=_this.props.selectedTrip;var packItems=_this.props.packItems;var trips=_this.props.trips.length===0?TRIPS:_this.props.trips;var selectedItem=_this.props.selectedItem===undefined?PACKITEMS[0]:_this.props.selectedItem;_this.state={selectedItem:selectedItem,selectedTrip:_this.props.selectedTrip.id===1000000?_this.props.trips[0]:_this.props.selectedTrip,name:!_selectedTrip[0]?TRIPS[0].name:_selectedTrip[0].name,id:selectedItem.id,serving_qty:selectedItem.serving_qty,serving_unit:selectedItem.serving_unit,cals_per_serving:selectedItem.cals_per_serving,serving_weight_grams:selectedItem.serving_weight_grams,food_name:selectedItem.food_name,brand_name:selectedItem.brand_name,packItems:{packItems:packItems},image:selectedItem.image,tripid:!_selectedTrip[0]?TRIPS[0].id:_selectedTrip[0].id,trip_dates:!_selectedTrip[0]?trips[0].trip_dates:_selectedTrip[0].trip_dates.toString().replace('{',\"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(','),traveler_names:!_selectedTrip[0]?TRIPS[0].traveler_names:_selectedTrip[0].traveler_names.toString().replace('{',\"\").replace(\"}\",\"\").split(/[ ,]+/),trip_day:!_selectedTrip[0]?PACKITEMS[0].trip_day:_selectedTrip[0].trip_dates[0].toString().replace('{',\"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(',')[0],type:!_selectedTrip[0]|selectedItem.type===undefined?PACKITEMS[0].type:selectedItem.type,trav_name:!_selectedTrip[0]?PACKITEMS[0].trav_name:selectedItem.trav_name};return _this;}_createClass(ItemAdjust,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;Auth.currentAuthenticatedUser().then(function(user){var id=user.attributes.sub;var username=user.username;_this2.props.getUser(id,username);});}},{key:\"render\",value:function render(){var _this3=this;var onSubmitForm=function onSubmitForm(e){e.preventDefault();var newId=uuidv4();var newName=_this3.state.food_name;var newBrand=_this3.state.brand_name;var newCalsPs=isNaN(_this3.state.cals_per_serving)?0:_this3.state.cals_per_serving;var newImage=_this3.state.image;var newQty=!_this3.state.serving_qty?1:_this3.state.serving_qty;var newUnit=_this3.state.serving_unit;var newWeight=isNaN(_this3.state.serving_weight_grams)?0:_this3.state.serving_weight_grams;var tripid=_this3.state.tripid;var trip_day=_this3.state.trip_day;var trav_name=_this3.state.trav_name===undefined?\"TBD\":_this3.state.trav_name;var type=_this3.state.type;var API=config.API_UY_ENDPOINT;var endpointI=config.endpointI;var endpointP=config.endpointP;var urlI=API+endpointI;var urlP=API+endpointP;var item={id:newId,food_name:newName,serving_unit:newUnit,brand_name:newBrand,serving_qty:newQty,image:newImage,serving_weight_grams:newWeight,cals_per_serving:newCalsPs};var packItem={id:newId,tripid:tripid,trip_day:trip_day,trav_name:trav_name,type:type,serving_qty:newQty};fetch(urlI,{method:'POST',body:JSON.stringify(item),headers:{'content-type':'application/json','authorization':\"bearer \".concat(config.API_UY_KEY)}}).then(function(res){if(!res.ok){// get the error message from the response,\nreturn res.json().then(function(error){// then throw it\nthrow error;});}}).then(function(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit){_this3.props.handleNewItem(newId,newBrand,newCalsPs,newName,newImage,newWeight,newQty,newUnit);_this3.props.getItems(e);fetch(urlP,{method:'POST',body:JSON.stringify(packItem),headers:{'content-type':'application/json','authorization':\"bearer \".concat(config.API_UY_KEY)}}).then(function(res){if(!res.ok){// get the error message from the response,\nreturn res.json().then(function(error){// then throw it\nthrow error;});}return res.json();}).then(function(newId,tripid,trip_day,trav_name,type,newQty){_this3.props.handleNewPackItem(newId,tripid,trip_day,trav_name,type,newQty);_this3.props.routerProps.history.push(\"/trip/:tripName\");_this3.props.getPackitems(e);}).catch(function(error){_this3.setState({error:error});});}).catch(function(error){_this3.setState({error:error});});_this3.props.getTrips(e);};var trips=this.props.trips;var itemTypes=this.props.itemTypes;var item=this.props.selectedItem;var image=item.image;var name=item.food_name;var brand=!item.brand_name?\"common\":item.brand_name;var quant=Math.round(item.serving_qty);var unit=item.serving_unit;var weight=Math.round(item.serving_weight_grams);var calsPs=Math.round(item.cals_per_serving);var totalWeightnf=quant*weight;var totalCalnf=quant*calsPs;var id=item.id;var stateQty=parseInt(this.state.serving_qty);var stateCalsPs=parseInt(this.state.cals_per_serving);var stateServWeight=parseInt(this.state.serving_weight_grams);var stateWeightnf=stateQty*stateServWeight;var stateCalsnf=stateQty*stateCalsPs;var text=this.props.text;var trip_day=/*#__PURE__*/React.createElement(Moment,{format:\"MMM/DD\"},this.state.trip_day);var getTrips=this.props.getTrips;console.log(this.props.trips);console.log(this.state.selectedTrip);return/*#__PURE__*/React.createElement(\"section\",{className:\"filterForm\",onMouseOver:getTrips},/*#__PURE__*/React.createElement(\"div\",{className:\"adjustImage\"},/*#__PURE__*/React.createElement(ItemImage,{image:image})),/*#__PURE__*/React.createElement(\"form\",{id:\"filter\",onSubmit:onSubmitForm,className:\"blueBackground\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"montebello white\"},text,/*#__PURE__*/React.createElement(\"span\",{className:\"tooltiptext primaryFont white\"},\"change presets\"),/*#__PURE__*/React.createElement(GoButton,{username:this.props.username,goButtonText:this.props.goButtonText})),/*#__PURE__*/React.createElement(\"div\",{className:\"white primaryFont\"}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"newI\"},/*#__PURE__*/React.createElement(\"div\",{className:\"newItems\"},/*#__PURE__*/React.createElement(NewItemName,{name:name,id:id,handleAdjustName:function handleAdjustName(inputValue,id){return _this3.adjustItemName(inputValue,id);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"newItems\"},/*#__PURE__*/React.createElement(NewItemBrand,{brand:brand,handleAdjustBrand:function handleAdjustBrand(inputValue){return _this3.adjustItemBrand(inputValue);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"calcBox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"serving quantity\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-coins white mobileHide\"}),\"\\xA0\",/*#__PURE__*/React.createElement(\"strong\",null,\"Serving Quantity\")),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(UnitQuant,{input:quant,handleAdjustQuant:function handleAdjustQuant(inputValue){return _this3.adjustQuant(inputValue);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"serving unit\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ruler-vertical white mobileHide\"}),\"\\xA0Serving unit\"),/*#__PURE__*/React.createElement(\"div\",{className:\"textInput\"},/*#__PURE__*/React.createElement(ServUnit,{id:id,input:unit,handleAdjustUnit:function handleAdjustUnit(inputValue,id){return _this3.adjustUnit(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"weight per serving\",className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-balance-scale white mobileHide\"}),\"\\xA0\\xA0\\xA0Weight per serving\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(WeightQuant,{input:weight,id:id,handleAdjustWeight:function handleAdjustWeight(inputValue,id){return _this3.adjustWeight(inputValue,id);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"inputBox\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"calories per serving\",className:\"labelWidth white\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-fire-alt white mobileHide\"}),\"\\xA0Calories per serving\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dataInput\"},/*#__PURE__*/React.createElement(CalsQuant,{input:calsPs,id:id,handleAdjustCals:function handleAdjustCals(inputValue,id){return _this3.adjustCals(inputValue,id);}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"resultsContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"resultBox\"},/*#__PURE__*/React.createElement(\"label\",{className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-hiking white mobileHide\"}),\"\\xA0\",/*#__PURE__*/React.createElement(\"strong\",null,\"Total Weight (grams)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cellBox redBackground\"},/*#__PURE__*/React.createElement(Result,{result:stateWeightnf,placeholder:totalWeightnf}))),/*#__PURE__*/React.createElement(\"div\",{className:\"resultBox\"},/*#__PURE__*/React.createElement(\"label\",{className:\"labelWidth white\"},\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-fire-alt white mobileHide\"}),\"\\xA0\",/*#__PURE__*/React.createElement(\"strong\",null,\"Total Calories(cals)\")),/*#__PURE__*/React.createElement(\"div\",{className:\"cellBox redBackground\"},/*#__PURE__*/React.createElement(Result,{result:stateCalsnf,placeholder:totalCalnf})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"filterContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"div\",{className:\"plan\"},/*#__PURE__*/React.createElement(NavLink,{to:\"/add-trip\",className:\"noDeco bold goTo blue\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-seedling\"}),\"plan a new trip\")),/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-shoe-prints black\"}),\"\\xA0Trip:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont black\"},this.state.name)),/*#__PURE__*/React.createElement(TripNames,{stateName:this.state.name,trips:trips,handleSelectTrip:function handleSelectTrip(selectedTrip,tripid){return _this3.selectTrip(selectedTrip,tripid);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-calendar-day black\"}),\"\\xA0Date:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont black\"},this.state.trip_day===PACKITEMS[0].trip_day|this.state.trip_day===\"undefined\"|this.state.trip_day===undefined|this.state.trip_dates===\"\"|this.state.trip_dates[0]===\"\"|this.state.trip_dates===undefined|this.state.trip_dates==={}|this.state.trip_dates===\"{}\"?\"\":trip_day)),/*#__PURE__*/React.createElement(TripDates,{stateDate:this.state.trip_day,defaultDay:PACKITEMS[0].trip_day,tripDates:this.state.trip_dates,handleSelectDay:function handleSelectDay(selectedDay){return _this3.selectDay(selectedDay);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-utensils black\"}),\"\\xA0Type:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont black\"},this.state.type)),/*#__PURE__*/React.createElement(ItemTypes,{itemTypes:itemTypes,id:id,stateType:!this.state.type?\"TBD\":this.state.type,handleSelectType:function handleSelectType(selectedType){return _this3.selectType(selectedType);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"filterSelection\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"filterCategory\"},\"  \",/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-user-circle black\"}),\"\\xA0traveler:\",\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"primaryFont black\"},this.state.trav_name)),/*#__PURE__*/React.createElement(TripTravelers,{stateName:this.state.trav_name,tripTravelers:this.state.traveler_names,handleSelectTraveler:function handleSelectTraveler(selectedTraveler){return _this3.selectTraveler(selectedTraveler);}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mobileOnly\"},/*#__PURE__*/React.createElement(GoButton,null))));}}]);return ItemAdjust;}(Component);ItemAdjust.defaultProps={selectedTrip:TRIPS[0],trips:TRIPS,items:ITEMS,tripItems:ITEMS,selectedTripItems:ITEMS,selectedItem:DEFAULTITEM,item:DEFAULTITEM,serving_unit:\"\",cals_per_serving:null,packItems:{},name:\"\",selectedTripId:\"\",id:\"\",serving_qty:null,serving_weight_grams:null,trip_day:PACKITEMS[0].trip_day,type:\"\",food_name:\"\",brand_name:\"\",image:ITEMS[0].image};export default ItemAdjust;","map":{"version":3,"sources":["/Users/Stephanie/coding/ultrayumm-fs-app/src/ItemDetails/ItemAdjust.js"],"names":["React","Component","NavLink","config","GoButton","ServUnit","UnitQuant","WeightQuant","CalsQuant","Result","TripNames","TripDates","ItemTypes","TripTravelers","NewItemName","NewItemBrand","ItemImage","Moment","v4","uuidv4","Auth","ITEMS","DEFAULTITEM","TRIPS","PACKITEMS","ItemAdjust","props","adjustItemName","name","id","setState","food_name","adjustItemBrand","newBrand","brand_name","selectTrip","selectedTrip","tripid","tripName","tripDates","trip_dates","tripTravelers","traveler_names","handleSelectTrip","adjustQuant","input","serving_qty","adjustUnit","serving_unit","adjustWeight","serving_weight_grams","adjustCals","cals_per_serving","selectDay","trip_day","selectType","type","selectTraveler","trav_name","packItems","trips","length","selectedItem","undefined","state","image","toString","replace","trim","split","currentAuthenticatedUser","then","user","attributes","sub","username","getUser","onSubmitForm","e","preventDefault","newId","newName","newCalsPs","isNaN","newImage","newQty","newUnit","newWeight","API","API_UY_ENDPOINT","endpointI","endpointP","urlI","urlP","item","packItem","fetch","method","body","JSON","stringify","headers","API_UY_KEY","res","ok","json","error","handleNewItem","getItems","handleNewPackItem","routerProps","history","push","getPackitems","catch","getTrips","itemTypes","brand","quant","Math","round","unit","weight","calsPs","totalWeightnf","totalCalnf","stateQty","parseInt","stateCalsPs","stateServWeight","stateWeightnf","stateCalsnf","text","console","log","goButtonText","inputValue","selectedDay","selectedType","selectedTraveler","defaultProps","items","tripItems","selectedTripItems","selectedTripId"],"mappings":"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","sourcesContent":["import \"../Font/Font.css\";\nimport \"../FormElements/FormElements.css\";\nimport React, { Component } from \"react\";\nimport { NavLink} from 'react-router-dom';\nimport config from \"../config\";\nimport GoButton from \"../FormElements/GoButton\";\nimport ServUnit from \"../CustomItem/ServUnit\";\nimport UnitQuant from \"../CustomItem/UnitQuant\";\nimport WeightQuant from \"../CustomItem/WeightQuant\";\nimport CalsQuant from \"../CustomItem/CalsQuant\";\nimport Result from \"../CustomItem/Result\";\nimport TripNames from \"../CustomItem/TripNames\";\nimport \"../Tables/Tables.css\";\nimport TripDates from \"../TripDetails/TripDates\";\nimport ItemTypes from \"../CustomItem/ItemTypes\";\nimport TripTravelers from \"../TripDetails/TripTravelers\";\nimport NewItemName from \"../CustomItem//NewItemName\";\nimport NewItemBrand from \"../CustomItem/NewItemBrand\";\nimport ItemImage from \"../ItemDetails/ItemImage\"\nimport Moment from 'react-moment';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Auth } from 'aws-amplify';\nimport { ITEMS, DEFAULTITEM, TRIPS, PACKITEMS } from \"../Defaults\";\n\nclass ItemAdjust extends Component {\n  static defaultProps = {\n    selectedTrip: TRIPS[0],\n    trips: TRIPS,\n    items: ITEMS,\n    tripItems:ITEMS,\n    selectedTripItems: ITEMS,\n    selectedItem: DEFAULTITEM,\n    item:  DEFAULTITEM,\n    serving_unit: \"\",\n    cals_per_serving: null,\n    packItems: {},\n    name: \"\",\n    selectedTripId: \"\",\n    id: \"\",\n    serving_qty: null,\n    serving_weight_grams: null,\n    trip_day: PACKITEMS[0].trip_day,\n    type: \"\",\n    food_name: \"\",\n    brand_name: \"\",\n    image: ITEMS[0].image\n\n  }\n\n\n  constructor(props) {\n    super(props);\n    \n    const selectedTrip = this.props.selectedTrip\n    const packItems = this.props.packItems\n    const trips = this.props.trips.length === 0? TRIPS : this.props.trips\n    const selectedItem = this.props.selectedItem === undefined ? PACKITEMS[0] : this.props.selectedItem\n\n\n\n    this.state = {\n      selectedItem: selectedItem,\n      selectedTrip: this.props.selectedTrip.id === 1000000 ? this.props.trips[0] : this.props.selectedTrip,\n\n      name: !selectedTrip[0]? TRIPS[0].name: selectedTrip[0].name,\n    \n\n      id:  selectedItem.id,\n      serving_qty: selectedItem.serving_qty,\n      serving_unit: selectedItem.serving_unit,\n      cals_per_serving: selectedItem.cals_per_serving,\n      serving_weight_grams: selectedItem.serving_weight_grams,\n      food_name: selectedItem.food_name,\n      brand_name: selectedItem.brand_name,\n      packItems: {packItems},\n      image: selectedItem.image,\n\n      tripid: !selectedTrip[0]? TRIPS[0].id : selectedTrip[0].id,\n      \n      trip_dates: !selectedTrip[0]? trips[0].trip_dates : \n      selectedTrip[0].trip_dates.toString().replace('{', \"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(','),\n      \n\n      traveler_names: !selectedTrip[0]? TRIPS[0].traveler_names : selectedTrip[0].traveler_names.toString().replace('{', \"\").replace(\"}\",\"\").split(/[ ,]+/),\n\n\n      trip_day: !selectedTrip[0]? PACKITEMS[0].trip_day : selectedTrip[0].trip_dates[0].toString().replace('{', \"\").replace(\"}\",\"\").replace(/\"/g,\"\").replace(\"\",\"\").replace(/\\s+/g,\"\").trim().split(',')[0],\n      \n      type: !selectedTrip[0] | selectedItem.type === undefined ? PACKITEMS[0].type : selectedItem.type,\n\n      trav_name: !selectedTrip[0]? PACKITEMS[0].trav_name : selectedItem.trav_name,\n\n      \n    };\n  }\n \n  adjustItemName = (name, id) => {\n    \n    this.setState({\n      food_name: name,\n      id: id\n    }); \n  };\n\n  adjustItemBrand = (newBrand) => {\n    \n    this.setState({\n      brand_name: newBrand,\n    });\n  };\n\n\n  selectTrip = (selectedTrip, tripid) => {\n    const tripName = selectedTrip.name\n    const tripDates = selectedTrip.trip_dates\n    const tripTravelers = selectedTrip.traveler_names\n    this.setState({\n      tripid: tripid,\n      selectedTrip: selectedTrip,    \n      name: tripName,\n      trip_dates: tripDates,\n      traveler_names: tripTravelers\n    });\n    this.props.handleSelectTrip(tripid, tripName)\n  };\n\n  adjustQuant = (input) => {\n    \n    this.setState({\n      serving_qty: input\n    });\n  };\n\n  adjustUnit = (input) => {\n    \n    this.setState({\n      serving_unit: input\n    });\n  };\n\n  adjustWeight = (input) => {\n    \n    this.setState({\n      serving_weight_grams: input\n    });\n  };\n\n  adjustCals = (input, id) => {\n    \n    this.setState({\n      cals_per_serving: input\n    });\n  };\n\n  selectDay = (input) => {\n    \n    this.setState({\n      trip_day: input,\n    });\n  };\n\n\n  selectType = (input) => {\n    \n    this.setState({\n      type: input\n    });\n  };\n\n\n  selectTraveler = (input) => {\n    \n    this.setState({\n      trav_name: input,\n    });\n  };\n\n\n  componentDidMount () { Auth.currentAuthenticatedUser().then(user => {\n\n    let id = user.attributes.sub\n    let username = user.username\n\n    this.props.getUser(id, username)\n   \n  })\n\n\n    }\n\n \n\n \n  \n  render() {\n\n  \n      const onSubmitForm = (e) => {\n      e.preventDefault()\n      const newId =  uuidv4()\n      const newName = this.state.food_name\n      const newBrand = this.state.brand_name\n      const newCalsPs = isNaN(this.state.cals_per_serving)? 0 : this.state.cals_per_serving\n      const newImage = this.state.image\n      const newQty = !this.state.serving_qty? 1 : this.state.serving_qty\n      const newUnit = this.state.serving_unit\n      const newWeight = isNaN(this.state.serving_weight_grams)? 0 : this.state.serving_weight_grams \n      const tripid = this.state.tripid      \n      const trip_day = this.state.trip_day\n      const trav_name = this.state.trav_name === undefined ?  \"TBD\" : this.state.trav_name\n      const type = this.state.type\n    \n      const API = config.API_UY_ENDPOINT   \n      const  endpointI = config.endpointI\n      const  endpointP = config.endpointP\n     \n      const urlI = API + endpointI;\n      const urlP = API + endpointP;\n      \n      const item = {\n        id: newId,\n        food_name: newName,\n        serving_unit: newUnit,\n        brand_name: newBrand,\n        serving_qty:  newQty,\n        image: newImage,\n        serving_weight_grams: newWeight,\n        cals_per_serving: newCalsPs\n      }\n      \n      const packItem = {\n        id: newId,\n        tripid: tripid,\n        trip_day: trip_day,\n        trav_name: trav_name,\n        type: type,\n        serving_qty: newQty\n      }\n\n      fetch(urlI, {\n        method: 'POST',\n        body: JSON.stringify(item),\n        headers: {\n          'content-type': 'application/json',\n          'authorization': `bearer ${config.API_UY_KEY}`\n        }\n      })\n        .then(res => {\n          if (!res.ok) {\n            // get the error message from the response,\n            return res.json().then(error => {\n              // then throw it\n              throw error\n            })\n          \n          }\n\n        })\n      \n        .then((newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit) => {\n          this.props.handleNewItem(newId, newBrand, newCalsPs, newName, newImage, newWeight, newQty, newUnit)\n          this.props.getItems(e)\n\n          fetch(urlP, {\n            method: 'POST',\n            body: JSON.stringify(packItem),\n            headers: {\n              'content-type': 'application/json',\n              'authorization': `bearer ${config.API_UY_KEY}`\n            }\n          })\n            .then(res => {\n              if (!res.ok) {\n                // get the error message from the response,\n                return res.json().then(error => {\n                  // then throw it\n                  throw error\n                })\n              }\n              return res.json()\n              \n            })\n            \n            .then((newId, tripid, trip_day, trav_name, type, newQty) => {\n              this.props.handleNewPackItem(newId, tripid, trip_day, trav_name, type, newQty)\n\n              \n              this.props.routerProps.history.push(\"/trip/:tripName\");\n              \n              this.props.getPackitems(e)\n                    \n            })\n\n  \n            .catch(error => {\n              this.setState({ error })\n            })\n                \n        })\n       \n        .catch(error => {\n          this.setState({ error })\n        })\n        \n        this.props.getTrips(e)\n\n    }\n    \n      \n    const trips = this.props.trips;   \n    const itemTypes = this.props.itemTypes;\n    const item = this.props.selectedItem;\n    const image = item.image\n    const name = item.food_name;\n    \n    const brand = !item.brand_name ? \"common\" : item.brand_name;\n    const quant = Math.round(item.serving_qty);\n    const unit = item.serving_unit\n    const weight = Math.round(item.serving_weight_grams);\n    const calsPs = Math.round(item.cals_per_serving);\n    const totalWeightnf = (quant * weight)\n    const totalCalnf = (quant * calsPs)\n    const id = item.id\n    const stateQty = parseInt(this.state.serving_qty)\n    const stateCalsPs = parseInt(this.state.cals_per_serving)\n    const stateServWeight = parseInt(this.state.serving_weight_grams)\n    const stateWeightnf = (stateQty * stateServWeight)\n    const stateCalsnf = (stateQty * stateCalsPs)\n    const text = this.props.text\n    const trip_day = <Moment format= \"MMM/DD\" >{this.state.trip_day}</Moment>\n    const getTrips = this.props.getTrips\n  \n    console.log(this.props.trips)\n    console.log(this.state.selectedTrip)\n\n    return (\n      <section className=\"filterForm\"\n      onMouseOver = {getTrips}>\n       \n         \n          <div className = \"adjustImage\" >\n          <ItemImage \n          image = {image}\n          />\n          </div>\n\n        <form id=\"filter\" onSubmit={onSubmitForm} className = \"blueBackground\">\n       \n           \n          <h2 className=\"montebello white\">{text}<span className = \"tooltiptext primaryFont white\">change presets</span><GoButton \n           username = {this.props.username}\n           \n           goButtonText = {this.props.goButtonText}/>\n          \n                     \n          </h2>\n\n                \n            <div className= \"white primaryFont\"></div>  \n                <div>\n                  <div className = \"newI\">\n                  <div className=\"newItems\">\n                    <NewItemName\n                    name = {name}\n                    id = {id}\n                    handleAdjustName= {(inputValue, id) =>\n                      this.adjustItemName(inputValue, id)\n                    }\n                    />\n                 </div>\n                \n                  \n                  <div className=\"newItems\">\n                    <NewItemBrand\n                    brand = {brand}\n                    handleAdjustBrand= {(inputValue) =>\n                      this.adjustItemBrand(inputValue)\n                    }\n                    />\n                  </div>\n                  </div>\n\n            <div className= \"calcBox\">\n              <div className= \"inputsContainer\">\n                <div className= \"inputBox\">\n                  <label\n                    htmlFor= \"serving quantity\"\n                    className= \"labelWidth white\"\n                  ><i className =\"fas fa-coins white mobileHide\"></i>&nbsp;<strong>Serving Quantity</strong>\n                  </label>\n                  <div className= \"dataInput\">\n                    <UnitQuant\n                    input = {quant}\n                    handleAdjustQuant = {(inputValue) =>\n                      this.adjustQuant(inputValue)\n                    }\n                    />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                <label\n                    htmlFor= \"serving unit\"\n                    className= \"labelWidth white\"\n                  ><i className= \"fas fa-ruler-vertical white mobileHide\"></i>&nbsp;Serving unit\n                  </label>\n                  <div className= \"textInput\">\n                    <ServUnit\n                    id = {id}\n                    input = {unit}\n                    handleAdjustUnit = {(inputValue, id) =>\n                      this.adjustUnit(inputValue, id)\n                    }\n                    />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                  <label\n                    htmlFor= \"weight per serving\"\n                    className= \"labelWidth white\"\n                  > <i className= \"fas fa-balance-scale white mobileHide\"></i>&nbsp;&nbsp;&nbsp;Weight per serving\n                  </label>\n                  <div className=\"dataInput\">\n                  <WeightQuant\n                    input = {weight}\n                    id = {id}\n                   handleAdjustWeight = {(inputValue, id) =>\n                    this.adjustWeight(inputValue, id)\n                  }\n                  />\n                  </div>\n                </div>\n\n                <div className=\"inputBox\">\n                  <label\n                    htmlFor=\"calories per serving\"\n                    className=\"labelWidth white\"\n                  ><i className =\"fas fa-fire-alt white mobileHide\"></i>&nbsp;Calories per serving\n                  </label>\n                  <div className=\"dataInput\">\n                  <CalsQuant\n                  input = {calsPs}\n                  id = {id}\n                  handleAdjustCals = {(inputValue, id) =>\n                   this.adjustCals(inputValue, id)\n                 }\n                  />\n                  </div>\n                </div>\n\n              </div>\n\n              <div className=\"resultsContainer\">\n                <div className=\"resultBox\">\n               \n                  <label\n                    className=\"labelWidth white\"\n                  > <i className =\"fas fa-hiking white mobileHide\">\n                  </i>&nbsp;\n                  <strong>Total Weight (grams)</strong>\n                  </label>\n                  <div className=\"cellBox redBackground\">\n                    <Result\n                    result =\n                    {stateWeightnf}\n                    placeholder = {totalWeightnf}/>\n                    </div>\n               \n                </div>\n\n                <div className=\"resultBox\">\n               \n                  <label\n                    className=\"labelWidth white\"\n                  > <i className =\"fas fa-fire-alt white mobileHide\"></i>&nbsp;\n                    <strong>Total Calories(cals)</strong>\n                  </label>\n                  <div className=\"cellBox redBackground\">\n               \n                    <Result\n                    result = {stateCalsnf} \n                    placeholder = {totalCalnf}\n                    />\n                      </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"filterContainer\">\n        \n          <div className= \"filterSelection\"> \n          <div className = \"plan\">\n        <NavLink\n          to={`/add-trip`}\n          className = \"noDeco bold goTo blue\"><i className=\"fas fa-seedling\"></i>\n            plan a new trip\n            </NavLink>\n            </div>\n    \n              <h3 className=\"filterCategory\"><i className =\"fas fa-shoe-prints black\"></i>&nbsp;Trip:{\" \"}<span className = \"primaryFont black\">{this.state.name}</span></h3>\n             \n                <TripNames\n                stateName = {this.state.name} \n                trips={trips}\n                handleSelectTrip={(selectedTrip, tripid) =>\n                  this.selectTrip(selectedTrip, tripid)\n                }\n                />\n            </div>\n\n            <div className= \"filterSelection\">\n              <h3 className=\"filterCategory\"><i className =\"fas fa-calendar-day black\"></i>&nbsp;Date:{\" \"}<span className = \"primaryFont black\" >{this.state.trip_day === PACKITEMS[0].trip_day | this.state.trip_day === \"undefined\" | this.state.trip_day === undefined | this.state.trip_dates === \"\" |  this.state.trip_dates[0] === \"\" | this.state.trip_dates === undefined |\n              this.state.trip_dates === {} |\n              this.state.trip_dates === \"{}\"\n              ? \"\" : trip_day}</span></h3>\n                <TripDates\n                stateDate = {this.state.trip_day}\n                defaultDay = {PACKITEMS[0].trip_day}\n                tripDates={this.state.trip_dates}\n                handleSelectDay={(selectedDay) =>\n                  this.selectDay(selectedDay)\n                }/>\n            </div>\n\n            <div className= \"filterSelection\">\n              <h3 className=\"filterCategory\"><i className =\"fas fa-utensils black\"></i>&nbsp;Type:{\" \"}<span className = \"primaryFont black\">{this.state.type}</span></h3>\n                <ItemTypes itemTypes={itemTypes}\n                id = {id}\n                stateType = {!this.state.type? \"TBD\" : this.state.type}\n                handleSelectType={(selectedType) =>\n                  this.selectType(selectedType)\n                }/>\n             </div>\n\n             <div className=\"filterSelection\">\n              <h3 className=\"filterCategory\">  <i className =\"fas fa-user-circle black\"></i>&nbsp;traveler:{\" \"}<span className = \"primaryFont black\">{this.state.trav_name}</span></h3>\n                <TripTravelers \n                stateName = {this.state.trav_name}\n                tripTravelers={this.state.traveler_names}\n                handleSelectTraveler={(selectedTraveler) =>\n                  this.selectTraveler(selectedTraveler)\n                }/>\n             </div>\n          </div>\n          <div className = \"mobileOnly\">\n          <GoButton/>\n        </div>\n        </form>\n      </section>\n    );\n  }\n}\n\nexport default ItemAdjust;\n\n"]},"metadata":{},"sourceType":"module"}