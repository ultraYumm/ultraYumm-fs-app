{"map":{"version":3,"sources":["static/js/25.ff486c25.chunk.js"],"names":["this","push","204","module","__webpack_exports__","__webpack_require__","r","d","AmplifyS3Album","_index_a93ff41e_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__","_storage_types_f257c0f2_js__WEBPACK_IMPORTED_MODULE_4__","_Translations_06ef20e7_js__WEBPACK_IMPORTED_MODULE_5__","_constants_6835ae6a_js__WEBPACK_IMPORTED_MODULE_6__","_aws_amplify_storage__WEBPACK_IMPORTED_MODULE_7__","_storage_helper_21c6d15f_js__WEBPACK_IMPORTED_MODULE_8__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","__spreadArrays","s","i","il","arguments","Array","k","a","j","jl","getRandomValues","crypto","bind","msCrypto","rnds8","Uint8Array","rng","Error","byteToHex","toString","substr","v4","options","buf","offset","rnds","random","offset_","toLowerCase","bytesToUuid","logger","class_1","hostRef","_this","Object","contentType","level","Public","picker","pickerText","get","PICKER_TEXT","albumItems","imgArr","list","_a","_b","path","track","identityId","data","error_1","_c","debug","marshal","warn","forEach","item","ext","key","split","has","getContentType","filtered","filter","startsWith","items","sort","constructImgArray","map","handlePick","event","file","fileToKey","error_2","target","files","error","keys","includes","prototype","componentWillLoad","render","class","imgKey","handleOnError","handleOnLoad","inputHandler","acceptValue","style"],"mappings":"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"},"code":"(this[\"webpackJsonpultrayumm-app\"]=this[\"webpackJsonpultrayumm-app\"]||[]).push([[25],{204:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"amplify_s3_album\",(function(){return x}));var n=r(14),i=r(30),o=r(10),a=r(26),s=r(71),l=r(9),c=r(17),u=r(110),p=r(244),m=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{l(n.next(t))}catch(e){o(e)}}function s(t){try{l(n.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((n=n.apply(t,e||[])).next())}))},f=function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n},y=\"undefined\"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!==typeof msCrypto&&\"function\"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),d=new Uint8Array(16);function b(){if(!y)throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return y(d)}for(var g=[],v=0;v<256;++v)g.push((v+256).toString(16).substr(1));function w(t,e,r){var n=(t=t||{}).random||(t.rng||b)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return function(t,e){var r=e||0;return(g[t[r+0]]+g[t[r+1]]+g[t[r+2]]+g[t[r+3]]+\"-\"+g[t[r+4]]+g[t[r+5]]+\"-\"+g[t[r+6]]+g[t[r+7]]+\"-\"+g[t[r+8]]+g[t[r+9]]+\"-\"+g[t[r+10]]+g[t[r+11]]+g[t[r+12]]+g[t[r+13]]+g[t[r+14]]+g[t[r+15]]).toLowerCase()}(n)}var k=new i.a(\"S3Album\"),x=function(){function t(t){var e=this;Object(n.k)(this,t),this.contentType=\"binary/octet-stream\",this.level=s.a.Public,this.picker=!0,this.pickerText=o.a.get(l.a.PICKER_TEXT),this.albumItems=[],this.imgArr={},this.list=function(){return m(e,void 0,void 0,(function(){var t,e,r,n,i,o,a,s;return f(this,(function(l){switch(l.label){case 0:if(e=(t=this).path,r=void 0===e?\"\":e,n=t.level,i=t.track,o=t.identityId,k.debug(\"Album path: \"+r),!u.a||\"function\"!==typeof u.a.list)throw new Error(c.m);l.label=1;case 1:return l.trys.push([1,3,,4]),[4,u.a.list(r,{level:n,track:i,identityId:o})];case 2:return a=l.sent(),this.marshal(a),[3,4];case 3:return s=l.sent(),k.warn(s),[3,4];case 4:return[2]}}))}))},this.marshal=function(t){t.forEach((function(t){var r=t.key.toLowerCase().split(\".\")[1];p.d.has(r)&&(!t.contentType||t.contentType&&\"binary/octet-stream\"===t.contentType)&&(t.contentType=e.getContentType(t))}));var r=t.filter((function(t){return t.contentType&&t.contentType.startsWith(\"image/\")})),n=e.filter?e.filter(r):r;n=e.sort?e.sort(n):n,e.albumItems=n,k.debug(\"album items\",e.albumItems),e.constructImgArray(e.albumItems)},this.constructImgArray=function(t){t.map((function(t){e.imgArr[\"\"+t.key]=t.key}))},this.handlePick=function(t){return m(e,void 0,void 0,(function(){var e,r,n,i,o,a,s,l,c,u;return f(this,(function(m){switch(m.label){case 0:e=t.target.files[0],n=(r=this).path,i=void 0===n?\"\":n,o=r.level,a=r.track,s=r.fileToKey,l=i+Object(p.b)(e,s),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Object(p.e)(l,e,o,a,e.type,k)];case 2:return m.sent(),[3,4];case 3:throw c=m.sent(),k.error(c),new Error(c);case 4:return Object.keys(this.imgArr).includes(l)?(this.albumItems=h(this.albumItems),this.imgArr[l]=l+\"-\"+w()):(u=h(this.albumItems,this.filter?this.filter([{key:l}]):[{key:l}]),this.albumItems=this.sort?this.sort(u):u),[2]}}))}))}}return t.prototype.getContentType=function(t){return Object(a.c)(t.key,\"image/*\")},t.prototype.componentWillLoad=function(){this.list()},t.prototype.render=function(){var t=this;return Object(n.i)(\"div\",null,Object(n.i)(\"div\",{class:\"album-container\"},Object(n.i)(\"div\",{class:\"grid-row\"},this.albumItems.map((function(e){return Object(n.i)(\"div\",{class:\"grid-item\",key:\"key-\"+e.key},Object(n.i)(\"amplify-s3-image\",{key:t.imgArr[e.key],imgKey:e.key,level:t.level,path:t.path,identityId:t.identityId,track:t.track,handleOnError:t.handleOnError,handleOnLoad:t.handleOnLoad}),Object(n.i)(\"span\",{class:\"img-overlay\"}))})))),this.picker&&Object(n.i)(\"amplify-picker\",{inputHandler:function(e){return t.handlePick(e)},acceptValue:\"image/*\"}))},t}();x.style=\":host{--overlay-bg-color:rgba(0, 0, 0, 0.15)}.album-container{-webkit-box-sizing:border-box;box-sizing:border-box;max-width:100%;margin:0 auto;padding:0 2rem}.grid-row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:-1rem -1rem;padding-bottom:3rem}.grid-item{position:relative;-ms-flex:1 0 22rem;flex:1 0 22rem;-ms-flex-positive:1;flex-grow:1;margin:1rem;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}amplify-s3-image{--width:22rem;--height:20rem;border-radius:5px;-o-object-fit:cover;object-fit:cover}.img-overlay{display:none;width:100%;height:21rem;position:absolute;top:0;left:0;background-color:var(--overlay-bg-color)}.grid-item:hover .img-overlay{display:block}\"}}]);","extractedComments":[]}